{"ast":null,"code":"import ModalWrapperChoice from \"@/components/modals/ModalWrapperChoice\";\nexport default {\n  name: \"DeleteAutomatorScriptModal\",\n  components: {\n    ModalWrapperChoice\n  },\n  props: {\n    scriptID: {\n      type: [String, Number],\n      required: true\n    }\n  },\n  methods: {\n    handleYesClick() {\n      const script = this.scriptID;\n      const runningScriptID = AutomatorBackend.state.topLevelScript;\n      AutomatorBackend.deleteScript(script);\n      const scriptList = Object.values(player.reality.automator.scripts).map(sc => ({\n        id: sc.id,\n        name: sc.name\n      }));\n\n      if (AutomatorBackend.isOn && runningScriptID !== script) {\n        player.reality.automator.state.editorScript = runningScriptID;\n      } else {\n        // AutomatorBackend.deleteScript will create an empty script if necessary\n        player.reality.automator.state.editorScript = scriptList[0].id;\n      }\n\n      AutomatorData.clearUndoData();\n      EventHub.dispatch(GAME_EVENT.AUTOMATOR_SAVE_CHANGED);\n    }\n\n  }\n};","map":{"version":3,"sources":["DeleteAutomatorScriptModal.vue"],"names":[],"mappings":"AACA,OAAA,kBAAA,MAAA,wCAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,4BADA;AAEA,EAAA,UAAA,EAAA;AACA,IAAA;AADA,GAFA;AAKA,EAAA,KAAA,EAAA;AACA,IAAA,QAAA,EAAA;AACA,MAAA,IAAA,EAAA,CAAA,MAAA,EAAA,MAAA,CADA;AAEA,MAAA,QAAA,EAAA;AAFA;AADA,GALA;AAWA,EAAA,OAAA,EAAA;AACA,IAAA,cAAA,GAAA;AACA,YAAA,MAAA,GAAA,KAAA,QAAA;AACA,YAAA,eAAA,GAAA,gBAAA,CAAA,KAAA,CAAA,cAAA;AAEA,MAAA,gBAAA,CAAA,YAAA,CAAA,MAAA;AAEA,YAAA,UAAA,GAAA,MAAA,CAAA,MAAA,CAAA,MAAA,CAAA,OAAA,CAAA,SAAA,CAAA,OAAA,EAAA,GAAA,CAAA,EAAA,KAAA;AACA,QAAA,EAAA,EAAA,EAAA,CAAA,EADA;AAEA,QAAA,IAAA,EAAA,EAAA,CAAA;AAFA,OAAA,CAAA,CAAA;;AAIA,UAAA,gBAAA,CAAA,IAAA,IAAA,eAAA,KAAA,MAAA,EAAA;AACA,QAAA,MAAA,CAAA,OAAA,CAAA,SAAA,CAAA,KAAA,CAAA,YAAA,GAAA,eAAA;AACA,OAFA,MAEA;AACA;AACA,QAAA,MAAA,CAAA,OAAA,CAAA,SAAA,CAAA,KAAA,CAAA,YAAA,GAAA,UAAA,CAAA,CAAA,CAAA,CAAA,EAAA;AACA;;AACA,MAAA,aAAA,CAAA,aAAA;AACA,MAAA,QAAA,CAAA,QAAA,CAAA,UAAA,CAAA,sBAAA;AACA;;AAnBA;AAXA,CAAA","sourcesContent":["<script>\r\nimport ModalWrapperChoice from \"@/components/modals/ModalWrapperChoice\";\r\n\r\nexport default {\r\n  name: \"DeleteAutomatorScriptModal\",\r\n  components: {\r\n    ModalWrapperChoice\r\n  },\r\n  props: {\r\n    scriptID: {\r\n      type: [String, Number],\r\n      required: true\r\n    }\r\n  },\r\n  methods: {\r\n    handleYesClick() {\r\n      const script = this.scriptID;\r\n      const runningScriptID = AutomatorBackend.state.topLevelScript;\r\n\r\n      AutomatorBackend.deleteScript(script);\r\n\r\n      const scriptList = Object.values(player.reality.automator.scripts).map(sc => ({\r\n        id: sc.id,\r\n        name: sc.name,\r\n      }));\r\n      if (AutomatorBackend.isOn && runningScriptID !== script) {\r\n        player.reality.automator.state.editorScript = runningScriptID;\r\n      } else {\r\n        // AutomatorBackend.deleteScript will create an empty script if necessary\r\n        player.reality.automator.state.editorScript = scriptList[0].id;\r\n      }\r\n      AutomatorData.clearUndoData();\r\n      EventHub.dispatch(GAME_EVENT.AUTOMATOR_SAVE_CHANGED);\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<template>\r\n  <ModalWrapperChoice @confirm=\"handleYesClick\">\r\n    <template #header>\r\n      Delete this script\r\n    </template>\r\n    <div class=\"c-modal-message__text\">\r\n      Please confirm your desire to delete this Automator script.\r\n    </div>\r\n    <template #confirm-text>\r\n      Delete\r\n    </template>\r\n  </ModalWrapperChoice>\r\n</template>\r\n"],"sourceRoot":"src/components/modals"},"metadata":{},"sourceType":"module"}