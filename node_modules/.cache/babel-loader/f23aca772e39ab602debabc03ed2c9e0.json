{"ast":null,"code":"import ModalCloseButton from \"@/components/modals/ModalCloseButton\";\nimport PrimaryButton from \"@/components/PrimaryButton\";\nexport default {\n  name: \"MessageModal\",\n  components: {\n    PrimaryButton,\n    ModalCloseButton\n  },\n\n  data() {\n    return {\n      message: \"\"\n    };\n  },\n\n  computed: {\n    modal() {\n      return this.$viewModel.modal.current;\n    },\n\n    isThemeS12() {\n      return this.$viewModel.theme === \"S12\";\n    }\n\n  },\n\n  created() {\n    this.on$(GAME_EVENT.ENTER_PRESSED, this.handleClick);\n  },\n\n  methods: {\n    update() {\n      var _this$modal;\n\n      // Side effect of allowing message modals to be closed by EventHub triggers - this.modal seems to become\n      // undefined for a brief moment as the event is being processed. This doesn't seem to have any adverse effects\n      // beyond a console error, which this suppresses\n      this.message = (_this$modal = this.modal) === null || _this$modal === void 0 ? void 0 : _this$modal.message;\n    },\n\n    handleClick() {\n      var _this$modal$callback, _this$modal2;\n\n      (_this$modal$callback = (_this$modal2 = this.modal).callback) === null || _this$modal$callback === void 0 ? void 0 : _this$modal$callback.call(_this$modal2);\n      this.emitClose();\n      EventHub.ui.offAll(this);\n    }\n\n  }\n};","map":{"version":3,"sources":["MessageModal.vue"],"names":[],"mappings":"AACA,OAAA,gBAAA,MAAA,sCAAA;AACA,OAAA,aAAA,MAAA,4BAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,cADA;AAEA,EAAA,UAAA,EAAA;AACA,IAAA,aADA;AAEA,IAAA;AAFA,GAFA;;AAMA,EAAA,IAAA,GAAA;AACA,WAAA;AACA,MAAA,OAAA,EAAA;AADA,KAAA;AAGA,GAVA;;AAWA,EAAA,QAAA,EAAA;AACA,IAAA,KAAA,GAAA;AACA,aAAA,KAAA,UAAA,CAAA,KAAA,CAAA,OAAA;AACA,KAHA;;AAIA,IAAA,UAAA,GAAA;AACA,aAAA,KAAA,UAAA,CAAA,KAAA,KAAA,KAAA;AACA;;AANA,GAXA;;AAmBA,EAAA,OAAA,GAAA;AACA,SAAA,GAAA,CAAA,UAAA,CAAA,aAAA,EAAA,KAAA,WAAA;AACA,GArBA;;AAsBA,EAAA,OAAA,EAAA;AACA,IAAA,MAAA,GAAA;AAAA;;AACA;AACA;AACA;AACA,WAAA,OAAA,kBAAA,KAAA,KAAA,gDAAA,YAAA,OAAA;AACA,KANA;;AAOA,IAAA,WAAA,GAAA;AAAA;;AACA,mDAAA,KAAA,EAAA,QAAA;AACA,WAAA,SAAA;AACA,MAAA,QAAA,CAAA,EAAA,CAAA,MAAA,CAAA,IAAA;AACA;;AAXA;AAtBA,CAAA","sourcesContent":["<script>\r\nimport ModalCloseButton from \"@/components/modals/ModalCloseButton\";\r\nimport PrimaryButton from \"@/components/PrimaryButton\";\r\n\r\nexport default {\r\n  name: \"MessageModal\",\r\n  components: {\r\n    PrimaryButton,\r\n    ModalCloseButton,\r\n  },\r\n  data() {\r\n    return {\r\n      message: \"\"\r\n    };\r\n  },\r\n  computed: {\r\n    modal() {\r\n      return this.$viewModel.modal.current;\r\n    },\r\n    isThemeS12() {\r\n      return this.$viewModel.theme === \"S12\";\r\n    }\r\n  },\r\n  created() {\r\n    this.on$(GAME_EVENT.ENTER_PRESSED, this.handleClick);\r\n  },\r\n  methods: {\r\n    update() {\r\n      // Side effect of allowing message modals to be closed by EventHub triggers - this.modal seems to become\r\n      // undefined for a brief moment as the event is being processed. This doesn't seem to have any adverse effects\r\n      // beyond a console error, which this suppresses\r\n      this.message = this.modal?.message;\r\n    },\r\n    handleClick() {\r\n      this.modal.callback?.();\r\n      this.emitClose();\r\n      EventHub.ui.offAll(this);\r\n    }\r\n  },\r\n};\r\n</script>\r\n\r\n<template>\r\n  <div class=\"c-modal-message l-modal-content--centered\">\r\n    <ModalCloseButton\r\n      v-if=\"modal.closeButton\"\r\n      :class=\"isThemeS12 ? 'c-modal__close-btn' : 'c-modal__close-btn--tiny'\"\r\n      @click=\"emitClose\"\r\n    />\r\n    <ModalCloseButton\r\n      v-else-if=\"isThemeS12\"\r\n      class=\"c-modal__close-btn c-modal__close-btn--disabled\"\r\n    />\r\n    <div\r\n      class=\"c-modal-message__text\"\r\n      v-html=\"message\"\r\n    />\r\n    <PrimaryButton\r\n      class=\"o-primary-btn--width-medium c-modal-message__okay-btn c-modal__confirm-btn\"\r\n      @click=\"handleClick\"\r\n    >\r\n      Okay\r\n    </PrimaryButton>\r\n    <div\r\n      v-if=\"isThemeS12\"\r\n      class=\"c-modal__title\"\r\n    >\r\n      Message\r\n    </div>\r\n  </div>\r\n</template>\r\n"],"sourceRoot":"src/components/modals"},"metadata":{},"sourceType":"module"}