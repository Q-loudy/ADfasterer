{"ast":null,"code":"import \"core-js/modules/web.dom-collections.iterator.js\";\nimport GlyphSetPreview from \"@/components/GlyphSetPreview\";\nexport default {\n  name: \"GlyphPeek\",\n  components: {\n    GlyphSetPreview\n  },\n\n  data() {\n    return {\n      glyphs: [],\n      level: 0,\n      canPeek: false,\n      isVisible: false,\n      canSacrifice: false\n    };\n  },\n\n  created() {\n    this.on$(GAME_EVENT.REALITY_RESET_AFTER, this.refreshGlyphs);\n    this.refreshGlyphs();\n  },\n\n  methods: {\n    update() {\n      this.canSacrifice = GlyphSacrificeHandler.canSacrifice; // Hide this before first reality since then it'll confuse the player,\n      // and due to pre-selected first glyph might well be incorrect anyway.\n\n      this.isVisible = !Pelle.isDoomed && PlayerProgress.realityUnlocked();\n      this.canPeek = TimeStudy.reality.isBought;\n\n      if (gainedGlyphLevel().actualLevel !== this.level) {\n        this.refreshGlyphs();\n      }\n    },\n\n    refreshGlyphs() {\n      this.canRefresh = true;\n      this.glyphs = GlyphSelection.upcomingGlyphs;\n\n      for (const glyph of this.glyphs) Glyphs.applyGamespeed(glyph);\n\n      this.level = gainedGlyphLevel().actualLevel;\n    },\n\n    showModal() {\n      Modal.glyphShowcasePanel.show({\n        name: \"Potential Glyphs for this Reality\",\n        glyphSet: this.glyphs,\n        closeEvent: GAME_EVENT.REALITY_RESET_AFTER,\n        isGlyphSelection: true,\n        showSetName: false\n      });\n    }\n\n  }\n};","map":{"version":3,"sources":["GlyphPeek.vue"],"names":[],"mappings":";AACA,OAAA,eAAA,MAAA,8BAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,WADA;AAEA,EAAA,UAAA,EAAA;AACA,IAAA;AADA,GAFA;;AAKA,EAAA,IAAA,GAAA;AACA,WAAA;AACA,MAAA,MAAA,EAAA,EADA;AAEA,MAAA,KAAA,EAAA,CAFA;AAGA,MAAA,OAAA,EAAA,KAHA;AAIA,MAAA,SAAA,EAAA,KAJA;AAKA,MAAA,YAAA,EAAA;AALA,KAAA;AAOA,GAbA;;AAcA,EAAA,OAAA,GAAA;AACA,SAAA,GAAA,CAAA,UAAA,CAAA,mBAAA,EAAA,KAAA,aAAA;AACA,SAAA,aAAA;AACA,GAjBA;;AAkBA,EAAA,OAAA,EAAA;AACA,IAAA,MAAA,GAAA;AACA,WAAA,YAAA,GAAA,qBAAA,CAAA,YAAA,CADA,CAEA;AACA;;AACA,WAAA,SAAA,GAAA,CAAA,KAAA,CAAA,QAAA,IAAA,cAAA,CAAA,eAAA,EAAA;AACA,WAAA,OAAA,GAAA,SAAA,CAAA,OAAA,CAAA,QAAA;;AACA,UAAA,gBAAA,GAAA,WAAA,KAAA,KAAA,KAAA,EAAA;AACA,aAAA,aAAA;AACA;AACA,KAVA;;AAWA,IAAA,aAAA,GAAA;AACA,WAAA,UAAA,GAAA,IAAA;AACA,WAAA,MAAA,GAAA,cAAA,CAAA,cAAA;;AACA,WAAA,MAAA,KAAA,IAAA,KAAA,MAAA,EAAA,MAAA,CAAA,cAAA,CAAA,KAAA;;AACA,WAAA,KAAA,GAAA,gBAAA,GAAA,WAAA;AACA,KAhBA;;AAiBA,IAAA,SAAA,GAAA;AACA,MAAA,KAAA,CAAA,kBAAA,CAAA,IAAA,CAAA;AACA,QAAA,IAAA,EAAA,mCADA;AAEA,QAAA,QAAA,EAAA,KAAA,MAFA;AAGA,QAAA,UAAA,EAAA,UAAA,CAAA,mBAHA;AAIA,QAAA,gBAAA,EAAA,IAJA;AAKA,QAAA,WAAA,EAAA;AALA,OAAA;AAOA;;AAzBA;AAlBA,CAAA","sourcesContent":["<script>\r\nimport GlyphSetPreview from \"@/components/GlyphSetPreview\";\r\n\r\nexport default {\r\n  name: \"GlyphPeek\",\r\n  components: {\r\n    GlyphSetPreview\r\n  },\r\n  data() {\r\n    return {\r\n      glyphs: [],\r\n      level: 0,\r\n      canPeek: false,\r\n      isVisible: false,\r\n      canSacrifice: false,\r\n    };\r\n  },\r\n  created() {\r\n    this.on$(GAME_EVENT.REALITY_RESET_AFTER, this.refreshGlyphs);\r\n    this.refreshGlyphs();\r\n  },\r\n  methods: {\r\n    update() {\r\n      this.canSacrifice = GlyphSacrificeHandler.canSacrifice;\r\n      // Hide this before first reality since then it'll confuse the player,\r\n      // and due to pre-selected first glyph might well be incorrect anyway.\r\n      this.isVisible = !Pelle.isDoomed && PlayerProgress.realityUnlocked();\r\n      this.canPeek = TimeStudy.reality.isBought;\r\n      if (gainedGlyphLevel().actualLevel !== this.level) {\r\n        this.refreshGlyphs();\r\n      }\r\n    },\r\n    refreshGlyphs() {\r\n      this.canRefresh = true;\r\n      this.glyphs = GlyphSelection.upcomingGlyphs;\r\n      for (const glyph of this.glyphs) Glyphs.applyGamespeed(glyph);\r\n      this.level = gainedGlyphLevel().actualLevel;\r\n    },\r\n    showModal() {\r\n      Modal.glyphShowcasePanel.show({\r\n        name: \"Potential Glyphs for this Reality\",\r\n        glyphSet: this.glyphs,\r\n        closeEvent: GAME_EVENT.REALITY_RESET_AFTER,\r\n        isGlyphSelection: true,\r\n        showSetName: false,\r\n      });\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<template>\r\n  <div\r\n    v-if=\"isVisible\"\r\n    class=\"c-glyph-peek\"\r\n  >\r\n    <div\r\n      v-if=\"canPeek\"\r\n      class=\"l-glyph-set-preview\"\r\n      @click=\"showModal\"\r\n    >\r\n      <GlyphSetPreview\r\n        :show-name=\"false\"\r\n        :text=\"'Upcoming Glyph selection:'\"\r\n        :glyphs=\"glyphs\"\r\n        :ignore-modified-level=\"true\"\r\n        :show-sacrifice=\"canSacrifice\"\r\n        :flip-tooltip=\"true\"\r\n        :sort=\"false\"\r\n      />\r\n      (Click to bring up details)\r\n    </div>\r\n    <div v-else>\r\n      Purchase the Reality study to see\r\n      <br>\r\n      this Reality's Glyph choices\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n"],"sourceRoot":"src/components/tabs/glyphs"},"metadata":{},"sourceType":"module"}