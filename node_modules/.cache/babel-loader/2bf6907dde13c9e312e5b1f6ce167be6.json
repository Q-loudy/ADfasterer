{"ast":null,"code":"import PrimaryButton from \"@/components/PrimaryButton\";\nexport default {\n  name: \"DeleteCompanionGlyphModal\",\n  components: {\n    PrimaryButton\n  },\n\n  data() {\n    return {\n      messageIndex: 0\n    };\n  },\n\n  computed: {\n    message() {\n      switch (this.messageIndex) {\n        case 0:\n          return \"Are you sure you want to get rid of your Companion Glyph?\";\n\n        case 1:\n          return \"You will not receive any cake.\";\n\n        case 2:\n          return \"This is permanent! You will not get another Companion Glyph!\";\n\n        case 3:\n          return `You deleted your faithful Companion Glyph more quickly than any\n                        other test subject on record. Congratulations.`;\n\n        default:\n          return \"Invalid message index\";\n      }\n    }\n\n  },\n  methods: {\n    handleLeftButtonClick() {\n      if (this.messageIndex < 2) {\n        this.handleYesClick();\n      } else {\n        this.handleNoClick();\n      }\n    },\n\n    handleRightButtonClick() {\n      if (this.messageIndex >= 2) {\n        this.handleYesClick();\n      } else {\n        this.handleNoClick();\n      }\n    },\n\n    handleYesClick() {\n      this.messageIndex++;\n      if (this.messageIndex === 3) this.deleteCompanion();\n    },\n\n    handleNoClick() {\n      this.messageIndex = 0;\n      this.emitClose();\n    },\n\n    deleteCompanion() {\n      // Yes, this actually deletes a companion glyph at random, but the player can only ever legitimately have one.\n      // Passing information into modals seems to require a bunch of refactoring that's not worth it for this one case.\n      const toDelete = player.reality.glyphs.inventory.filter(g => g.type === \"companion\")[0];\n      Glyphs.removeFromInventory(toDelete);\n    }\n\n  }\n};","map":{"version":3,"sources":["DeleteCompanionGlyphModal.vue"],"names":[],"mappings":"AACA,OAAA,aAAA,MAAA,4BAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,2BADA;AAEA,EAAA,UAAA,EAAA;AACA,IAAA;AADA,GAFA;;AAKA,EAAA,IAAA,GAAA;AACA,WAAA;AACA,MAAA,YAAA,EAAA;AADA,KAAA;AAGA,GATA;;AAUA,EAAA,QAAA,EAAA;AACA,IAAA,OAAA,GAAA;AACA,cAAA,KAAA,YAAA;AACA,aAAA,CAAA;AAAA,iBAAA,2DAAA;;AACA,aAAA,CAAA;AAAA,iBAAA,gCAAA;;AACA,aAAA,CAAA;AAAA,iBAAA,8DAAA;;AACA,aAAA,CAAA;AAAA,iBAAA;AACA,uEADA;;AAEA;AAAA,iBAAA,uBAAA;AANA;AAQA;;AAVA,GAVA;AAsBA,EAAA,OAAA,EAAA;AACA,IAAA,qBAAA,GAAA;AACA,UAAA,KAAA,YAAA,GAAA,CAAA,EAAA;AACA,aAAA,cAAA;AACA,OAFA,MAEA;AACA,aAAA,aAAA;AACA;AACA,KAPA;;AAQA,IAAA,sBAAA,GAAA;AACA,UAAA,KAAA,YAAA,IAAA,CAAA,EAAA;AACA,aAAA,cAAA;AACA,OAFA,MAEA;AACA,aAAA,aAAA;AACA;AACA,KAdA;;AAeA,IAAA,cAAA,GAAA;AACA,WAAA,YAAA;AACA,UAAA,KAAA,YAAA,KAAA,CAAA,EAAA,KAAA,eAAA;AACA,KAlBA;;AAmBA,IAAA,aAAA,GAAA;AACA,WAAA,YAAA,GAAA,CAAA;AACA,WAAA,SAAA;AACA,KAtBA;;AAuBA,IAAA,eAAA,GAAA;AACA;AACA;AACA,YAAA,QAAA,GAAA,MAAA,CAAA,OAAA,CAAA,MAAA,CAAA,SAAA,CAAA,MAAA,CAAA,CAAA,IAAA,CAAA,CAAA,IAAA,KAAA,WAAA,EAAA,CAAA,CAAA;AACA,MAAA,MAAA,CAAA,mBAAA,CAAA,QAAA;AACA;;AA5BA;AAtBA,CAAA","sourcesContent":["<script>\r\nimport PrimaryButton from \"@/components/PrimaryButton\";\r\n\r\nexport default {\r\n  name: \"DeleteCompanionGlyphModal\",\r\n  components: {\r\n    PrimaryButton\r\n  },\r\n  data() {\r\n    return {\r\n      messageIndex: 0,\r\n    };\r\n  },\r\n  computed: {\r\n    message() {\r\n      switch (this.messageIndex) {\r\n        case 0: return \"Are you sure you want to get rid of your Companion Glyph?\";\r\n        case 1: return \"You will not receive any cake.\";\r\n        case 2: return \"This is permanent! You will not get another Companion Glyph!\";\r\n        case 3: return `You deleted your faithful Companion Glyph more quickly than any\r\n                        other test subject on record. Congratulations.`;\r\n        default: return \"Invalid message index\";\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    handleLeftButtonClick() {\r\n      if (this.messageIndex < 2) {\r\n        this.handleYesClick();\r\n      } else {\r\n        this.handleNoClick();\r\n      }\r\n    },\r\n    handleRightButtonClick() {\r\n      if (this.messageIndex >= 2) {\r\n        this.handleYesClick();\r\n      } else {\r\n        this.handleNoClick();\r\n      }\r\n    },\r\n    handleYesClick() {\r\n      this.messageIndex++;\r\n      if (this.messageIndex === 3) this.deleteCompanion();\r\n    },\r\n    handleNoClick() {\r\n      this.messageIndex = 0;\r\n      this.emitClose();\r\n    },\r\n    deleteCompanion() {\r\n      // Yes, this actually deletes a companion glyph at random, but the player can only ever legitimately have one.\r\n      // Passing information into modals seems to require a bunch of refactoring that's not worth it for this one case.\r\n      const toDelete = player.reality.glyphs.inventory.filter(g => g.type === \"companion\")[0];\r\n      Glyphs.removeFromInventory(toDelete);\r\n    }\r\n  },\r\n};\r\n</script>\r\n\r\n<template>\r\n  <div class=\"c-modal-message l-modal-content--centered\">\r\n    <div class=\"c-modal-message__text\">\r\n      {{ message }}\r\n    </div>\r\n    <div v-if=\"messageIndex < 3\">\r\n      <PrimaryButton\r\n        class=\"o-primary-btn--width-medium c-modal-message__okay-btn\"\r\n        @click=\"handleLeftButtonClick\"\r\n      >\r\n        {{ messageIndex < 2 ? \"Delete\" : \"Cancel\" }}\r\n      </PrimaryButton>\r\n      <PrimaryButton\r\n        class=\"o-primary-btn--width-medium c-modal-message__okay-btn\"\r\n        @click=\"handleRightButtonClick\"\r\n      >\r\n        {{ messageIndex >= 2 ? \"Delete\" : \"Cancel\" }}\r\n      </PrimaryButton>\r\n    </div>\r\n    <div v-else>\r\n      <PrimaryButton\r\n        class=\"o-primary-btn--width-medium c-modal-message__okay-btn\"\r\n        @click=\"handleNoClick\"\r\n      >\r\n        Thank you\r\n      </PrimaryButton>\r\n    </div>\r\n  </div>\r\n</template>\r\n"],"sourceRoot":"src/components/modals/glyph-management"},"metadata":{},"sourceType":"module"}