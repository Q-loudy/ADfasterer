{"ast":null,"code":"import CostDisplay from \"@/components/CostDisplay\";\nimport DescriptionDisplay from \"@/components/DescriptionDisplay\";\nimport EffectDisplay from \"@/components/EffectDisplay\";\nimport HintText from \"@/components/HintText\";\nimport PrimaryToggleButton from \"@/components/PrimaryToggleButton\";\nexport default {\n  name: \"RealityUpgradeButton\",\n  components: {\n    PrimaryToggleButton,\n    DescriptionDisplay,\n    EffectDisplay,\n    CostDisplay,\n    HintText\n  },\n  props: {\n    upgrade: {\n      type: Object,\n      required: true\n    }\n  },\n\n  data() {\n    return {\n      isAvailableForPurchase: false,\n      automatorPoints: false,\n      canBeBought: false,\n      isRebuyable: false,\n      isBought: false,\n      isPossible: false,\n      isAutoUnlocked: false,\n      isAutobuyerOn: false,\n      canBeLocked: false,\n      hasRequirementLock: false\n    };\n  },\n\n  computed: {\n    config() {\n      return this.upgrade.config;\n    },\n\n    classObject() {\n      return {\n        \"c-reality-upgrade-btn--useless\": this.isUseless,\n        \"c-reality-upgrade-btn--bought\": this.isBought && !this.isUseless,\n        \"c-reality-upgrade-btn--unavailable\": !this.isBought && !this.canBeBought && this.isAvailableForPurchase,\n        \"c-reality-upgrade-btn--possible\": !this.isAvailableForPurchase && this.isPossible,\n        \"c-reality-upgrade-btn--locked\": !this.isAvailableForPurchase && !this.isPossible\n      };\n    },\n\n    requirementConfig() {\n      return {\n        description: this.config.requirement\n      };\n    },\n\n    canLock() {\n      return this.config.canLock && !(this.isAvailableForPurchase || this.isBought);\n    },\n\n    isUseless() {\n      return Pelle.disabledRUPGs.includes(this.upgrade.id) && Pelle.isDoomed;\n    }\n\n  },\n  watch: {\n    isAutobuyerOn(newValue) {\n      Autobuyer.realityUpgrade(this.upgrade.id).isActive = newValue;\n    }\n\n  },\n  methods: {\n    update() {\n      const upgrade = this.upgrade;\n      this.isAvailableForPurchase = upgrade.isAvailableForPurchase;\n      this.automatorPoints = this.config.automatorPoints;\n      this.canBeBought = upgrade.canBeBought;\n      this.isRebuyable = upgrade.isRebuyable;\n      this.isBought = !upgrade.isRebuyable && upgrade.isBought;\n      this.isPossible = upgrade.isPossible;\n      this.isAutoUnlocked = Ra.unlocks.instantECAndRealityUpgradeAutobuyers.canBeApplied;\n      this.canBeLocked = upgrade.config.canLock && !this.isAvailableForPurchase;\n      this.hasRequirementLock = upgrade.hasPlayerLock;\n      if (this.isRebuyable) this.isAutobuyerOn = Autobuyer.realityUpgrade(upgrade.id).isActive;\n    },\n\n    toggleLock(upgrade) {\n      if (this.isRebuyable) return;\n      upgrade.toggleMechanicLock();\n    }\n\n  }\n};","map":{"version":3,"sources":["RealityUpgradeButton.vue"],"names":[],"mappings":"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","sourcesContent":["<script>\r\nimport CostDisplay from \"@/components/CostDisplay\";\r\nimport DescriptionDisplay from \"@/components/DescriptionDisplay\";\r\nimport EffectDisplay from \"@/components/EffectDisplay\";\r\nimport HintText from \"@/components/HintText\";\r\nimport PrimaryToggleButton from \"@/components/PrimaryToggleButton\";\r\n\r\nexport default {\r\n  name: \"RealityUpgradeButton\",\r\n  components: {\r\n    PrimaryToggleButton,\r\n    DescriptionDisplay,\r\n    EffectDisplay,\r\n    CostDisplay,\r\n    HintText\r\n  },\r\n  props: {\r\n    upgrade: {\r\n      type: Object,\r\n      required: true\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      isAvailableForPurchase: false,\r\n      automatorPoints: false,\r\n      canBeBought: false,\r\n      isRebuyable: false,\r\n      isBought: false,\r\n      isPossible: false,\r\n      isAutoUnlocked: false,\r\n      isAutobuyerOn: false,\r\n      canBeLocked: false,\r\n      hasRequirementLock: false,\r\n    };\r\n  },\r\n  computed: {\r\n    config() {\r\n      return this.upgrade.config;\r\n    },\r\n    classObject() {\r\n      return {\r\n        \"c-reality-upgrade-btn--useless\": this.isUseless,\r\n        \"c-reality-upgrade-btn--bought\": this.isBought && !this.isUseless,\r\n        \"c-reality-upgrade-btn--unavailable\": !this.isBought && !this.canBeBought && this.isAvailableForPurchase,\r\n        \"c-reality-upgrade-btn--possible\": !this.isAvailableForPurchase && this.isPossible,\r\n        \"c-reality-upgrade-btn--locked\": !this.isAvailableForPurchase && !this.isPossible,\r\n      };\r\n    },\r\n    requirementConfig() {\r\n      return {\r\n        description: this.config.requirement\r\n      };\r\n    },\r\n    canLock() {\r\n      return this.config.canLock && !(this.isAvailableForPurchase || this.isBought);\r\n    },\r\n    isUseless() {\r\n      return Pelle.disabledRUPGs.includes(this.upgrade.id) && Pelle.isDoomed;\r\n    },\r\n  },\r\n  watch: {\r\n    isAutobuyerOn(newValue) {\r\n      Autobuyer.realityUpgrade(this.upgrade.id).isActive = newValue;\r\n    }\r\n  },\r\n  methods: {\r\n    update() {\r\n      const upgrade = this.upgrade;\r\n      this.isAvailableForPurchase = upgrade.isAvailableForPurchase;\r\n      this.automatorPoints = this.config.automatorPoints;\r\n      this.canBeBought = upgrade.canBeBought;\r\n      this.isRebuyable = upgrade.isRebuyable;\r\n      this.isBought = !upgrade.isRebuyable && upgrade.isBought;\r\n      this.isPossible = upgrade.isPossible;\r\n      this.isAutoUnlocked = Ra.unlocks.instantECAndRealityUpgradeAutobuyers.canBeApplied;\r\n      this.canBeLocked = upgrade.config.canLock && !this.isAvailableForPurchase;\r\n      this.hasRequirementLock = upgrade.hasPlayerLock;\r\n      if (this.isRebuyable) this.isAutobuyerOn = Autobuyer.realityUpgrade(upgrade.id).isActive;\r\n    },\r\n    toggleLock(upgrade) {\r\n      if (this.isRebuyable) return;\r\n      upgrade.toggleMechanicLock();\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<template>\r\n  <div class=\"l-spoon-btn-group\">\r\n    <button\r\n      :class=\"classObject\"\r\n      class=\"l-reality-upgrade-btn c-reality-upgrade-btn\"\r\n      @click.shift.exact=\"toggleLock(upgrade)\"\r\n      @click.exact=\"upgrade.purchase()\"\r\n    >\r\n      <HintText\r\n        type=\"realityUpgrades\"\r\n        class=\"l-hint-text--reality-upgrade c-hint-text--reality-upgrade\"\r\n      >\r\n        {{ config.name }}\r\n      </HintText>\r\n      <span :class=\"{ 'o-pelle-disabled': isUseless }\">\r\n        <DescriptionDisplay :config=\"config\" />\r\n        <template v-if=\"($viewModel.shiftDown === isAvailableForPurchase) && !isRebuyable\">\r\n          <br>\r\n          <DescriptionDisplay\r\n            :config=\"requirementConfig\"\r\n            label=\"Requirement:\"\r\n            class=\"c-reality-upgrade-btn__requirement\"\r\n          />\r\n        </template>\r\n        <template v-else>\r\n          <EffectDisplay\r\n            :config=\"config\"\r\n            br\r\n          />\r\n          <CostDisplay\r\n            v-if=\"!isBought\"\r\n            :config=\"config\"\r\n            br\r\n            name=\"Reality Machine\"\r\n          />\r\n        </template>\r\n        <b v-if=\"automatorPoints && !isBought\">\r\n          (+{{ formatInt(automatorPoints) }} AP)\r\n        </b>\r\n      </span>\r\n    </button>\r\n    <div\r\n      v-if=\"canBeLocked\"\r\n      class=\"o-requirement-lock\"\r\n    >\r\n      <i\r\n        v-if=\"hasRequirementLock\"\r\n        class=\"fas fa-lock\"\r\n      />\r\n      <i\r\n        v-else-if=\"canLock\"\r\n        class=\"fas fa-lock-open\"\r\n      />\r\n    </div>\r\n    <PrimaryToggleButton\r\n      v-if=\"isRebuyable && isAutoUnlocked\"\r\n      v-model=\"isAutobuyerOn\"\r\n      label=\"Auto:\"\r\n      class=\"l--spoon-btn-group__little-spoon-reality-btn o-primary-btn--reality-upgrade-toggle\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n"],"sourceRoot":"src/components/tabs/reality-upgrades"},"metadata":{},"sourceType":"module"}