{"ast":null,"code":"import \"core-js/modules/web.dom-collections.iterator.js\";\nimport \"core-js/modules/es.array.sort.js\";\nimport { ProgressChecker } from \"./storage/progress-checker\";\nimport CloudInvalidDataModal from \"@/components/modals/cloud/CloudInvalidDataModal\";\nimport CloudLoadConflictModal from \"@/components/modals/cloud/CloudLoadConflictModal\";\nimport CloudSaveConflictModal from \"@/components/modals/cloud/CloudSaveConflictModal\";\nimport EternityChallengeStartModal from \"@/components/modals/challenges/EternityChallengeStartModal\";\nimport InfinityChallengeStartModal from \"@/components/modals/challenges/InfinityChallengeStartModal\";\nimport MessageModal from \"@/components/modals/MessageModal\";\nimport NormalChallengeStartModal from \"@/components/modals/challenges/NormalChallengeStartModal\";\nimport AntimatterGalaxyModal from \"@/components/modals/prestige/AntimatterGalaxyModal\";\nimport ArmageddonModal from \"@/components/modals/prestige/ArmageddonModal\";\nimport BigCrunchModal from \"@/components/modals/prestige/BigCrunchModal\";\nimport DimensionBoostModal from \"@/components/modals/prestige/DimensionBoostModal\";\nimport EnterCelestialsModal from \"@/components/modals/prestige/EnterCelestialsModal\";\nimport EnterDilationModal from \"@/components/modals/prestige/EnterDilationModal\";\nimport EternityModal from \"@/components/modals/prestige/EternityModal\";\nimport ExitChallengeModal from \"@/components/modals/prestige/ExitChallengeModal\";\nimport ExitDilationModal from \"@/components/modals/prestige/ExitDilationModal\";\nimport HardResetModal from \"@/components/modals/prestige/HardResetModal\";\nimport RealityModal from \"@/components/modals/prestige/RealityModal\";\nimport ReplicantiGalaxyModal from \"@/components/modals/prestige/ReplicantiGalaxyModal\";\nimport ResetRealityModal from \"@/components/modals/prestige/ResetRealityModal\";\nimport AnimationOptionsModal from \"@/components/modals/options/AnimationOptionsModal\";\nimport AwayProgressOptionsModal from \"@/components/modals/options/AwayProgressOptionsModal\";\nimport BackupWindowModal from \"@/components/modals/options/BackupWindowModal\";\nimport ConfirmationOptionsModal from \"@/components/modals/options/ConfirmationOptionsModal\";\nimport CosmeticSetChoiceModal from \"@/components/modals/options/glyph-appearance/CosmeticSetChoiceModal\";\nimport GlyphDisplayOptionsModal from \"@/components/modals/options/glyph-appearance/GlyphDisplayOptionsModal\";\nimport HiddenTabsModal from \"@/components/modals/options/hidden-tabs/HiddenTabsModal\";\nimport HotkeysModal from \"@/components/modals/options/HotkeysModal\";\nimport InfoDisplayOptionsModal from \"@/components/modals/options/InfoDisplayOptionsModal\";\nimport NewsOptionsModal from \"@/components/modals/options/NewsOptionsModal\";\nimport NotationModal from \"@/components/modals/options/NotationModal\";\nimport PreferredTreeModal from \"@/components/modals/options/PreferredTreeModal\";\nimport SingleGlyphAppearanceModal from \"@/components/modals/options/glyph-appearance/SingleGlyphAppearanceModal\";\nimport DeleteCompanionGlyphModal from \"@/components/modals/glyph-management/DeleteCompanionGlyphModal\";\nimport DeleteGlyphModal from \"@/components/modals/glyph-management/DeleteGlyphModal\";\nimport PurgeAllRejectedGlyphsModal from \"@/components/modals/glyph-management/PurgeAllRejectedGlyphsModal\";\nimport PurgeAllUnprotectedGlyphsModal from \"@/components/modals/glyph-management/PurgeAllUnprotectedGlyphsModal\";\nimport PurgeGlyphModal from \"@/components/modals/glyph-management/PurgeGlyphModal\";\nimport RefineGlyphModal from \"@/components/modals/glyph-management/RefineGlyphModal\";\nimport SacrificeGlyphModal from \"@/components/modals/glyph-management/SacrificeGlyphModal\";\nimport AutobuyerEditModal from \"@/components/modals/AutobuyerEditModal\";\nimport AutomatorScriptTemplate from \"@/components/modals/AutomatorScriptTemplate\";\nimport AwayProgressModal from \"@/components/modals/AwayProgressModal\";\nimport BreakInfinityModal from \"@/components/modals/BreakInfinityModal\";\nimport CatchupModal from \"@/components/modals/catchup/CatchupModal\";\nimport ChangelogModal from \"@/components/modals/ChangelogModal\";\nimport ChangeNameModal from \"@/components/modals/ChangeNameModal\";\nimport ClearConstantsModal from \"@/components/modals/ClearConstantsModal\";\nimport CreditsModal from \"@/components/modals/CreditsModal\";\nimport DeleteAutomatorScriptModal from \"@/components/modals/DeleteAutomatorScriptModal\";\nimport EnslavedHintsModal from \"@/components/modals/EnslavedHintsModal\";\nimport GlyphSetSaveDeleteModal from \"@/components/modals/GlyphSetSaveDeleteModal\";\nimport GlyphShowcasePanelModal from \"@/components/modals/GlyphShowcasePanelModal\";\nimport H2PModal from \"@/components/modals/H2PModal\";\nimport ImportAutomatorDataModal from \"@/components/modals/ImportAutomatorDataModal\";\nimport ImportFilterModal from \"@/components/modals/ImportFilterModal\";\nimport ImportSaveModal from \"@/components/modals/ImportSaveModal\";\nimport ImportTimeStudyConstants from \"@/components/modals/ImportTimeStudyConstants\";\nimport InformationModal from \"@/components/modals/InformationModal\";\nimport LoadGameModal from \"@/components/modals/LoadGameModal\";\nimport ModifySeedModal from \"@/components/modals/ModifySeedModal\";\nimport PelleEffectsModal from \"@/components/modals/PelleEffectsModal\";\nimport RealityGlyphCreationModal from \"@/components/modals/RealityGlyphCreationModal\";\nimport ReplaceGlyphModal from \"@/components/modals/ReplaceGlyphModal\";\nimport RespecIAPModal from \"@/components/modals/RespecIAPModal\";\nimport SacrificeModal from \"@/components/modals/SacrificeModal\";\nimport SingularityMilestonesModal from \"@/components/modals/SingularityMilestonesModal\";\nimport SpeedrunModeModal from \"@/components/modals/SpeedrunModeModal\";\nimport StdStoreModal from \"@/components/modals/StdStoreModal\";\nimport StudyStringModal from \"@/components/modals/StudyStringModal\";\nimport SwitchAutomatorEditorModal from \"@/components/modals/SwitchAutomatorEditorModal\";\nimport UiChoiceModal from \"@/components/modals/UiChoiceModal\";\nimport UndoGlyphModal from \"@/components/modals/UndoGlyphModal\";\nimport UpgradeMechanicLockModal from \"@/components/modals/UpgradeMechanicLockModal\";\nimport S12GamesModal from \"@/components/modals/secret-themes/S12GamesModal\";\nlet nextModalID = 0;\nexport class Modal {\n  constructor(component, priority = 0, closeEvent) {\n    this._component = component;\n    this._modalConfig = {};\n    this._priority = priority;\n    this._closeEvent = closeEvent;\n  } // We can't handle this in the Vue components because if the modal order changes, all the event listeners from the\n  // top modal end up getting removed from the EventHub due to the component being temporarily destroyed. This could\n  // result in the component sticking around because an event it was listening for happened while it wasn't on top.\n\n\n  applyCloseListeners(closeEvent) {\n    // Most of the time the close event will be a prestige event, in which case we want it to trigger on all higher\n    // prestiges as well\n    const prestigeOrder = [GAME_EVENT.DIMBOOST_AFTER, GAME_EVENT.GALAXY_RESET_AFTER, GAME_EVENT.BIG_CRUNCH_AFTER, GAME_EVENT.ETERNITY_RESET_AFTER, GAME_EVENT.REALITY_RESET_AFTER];\n    let shouldClose = false;\n\n    for (const prestige of prestigeOrder) {\n      if (prestige === closeEvent) shouldClose = true;\n      if (shouldClose) EventHub.ui.on(prestige, () => this.removeFromQueue(), this._component);\n    } // In a few cases we want to trigger a close based on a non-prestige event, so if the specified event wasn't in\n    // the prestige array above, we just add it on its own\n\n\n    if (!shouldClose) EventHub.ui.on(closeEvent, () => this.removeFromQueue(), this._component);\n  }\n\n  show(modalConfig) {\n    if (!GameUI.initialized) return;\n    this._uniqueID = nextModalID++;\n    this._props = Object.assign({}, modalConfig || {});\n    if (this._closeEvent) this.applyCloseListeners(this._closeEvent);\n    if (modalConfig !== null && modalConfig !== void 0 && modalConfig.closeEvent) this.applyCloseListeners(modalConfig.closeEvent);\n    const modalQueue = ui.view.modal.queue; // Add this modal to the front of the queue and sort based on priority to ensure priority is maintained.\n\n    modalQueue.unshift(this);\n    Modal.sortModalQueue();\n  }\n\n  get isOpen() {\n    return ui.view.modal.current === this;\n  }\n\n  get component() {\n    return this._component;\n  }\n\n  get props() {\n    return this._props;\n  }\n\n  get priority() {\n    return this._priority;\n  }\n\n  removeFromQueue() {\n    EventHub.ui.offAll(this._component);\n    ui.view.modal.queue = ui.view.modal.queue.filter(m => m._uniqueID !== this._uniqueID);\n    if (ui.view.modal.queue.length === 0) ui.view.modal.current = undefined;else ui.view.modal.current = ui.view.modal.queue[0];\n  }\n\n  static sortModalQueue() {\n    const modalQueue = ui.view.modal.queue;\n    modalQueue.sort((x, y) => y.priority - x.priority); // Filter out multiple instances of the same modal.\n\n    const singleQueue = [...new Set(modalQueue)];\n    ui.view.modal.queue = singleQueue;\n    ui.view.modal.current = singleQueue[0];\n  }\n\n  static hide() {\n    if (!GameUI.initialized) return;\n    ui.view.modal.queue.shift();\n    if (ui.view.modal.queue.length === 0) ui.view.modal.current = undefined;else ui.view.modal.current = ui.view.modal.queue[0];\n    ui.view.modal.cloudConflict = [];\n  }\n\n  static hideAll() {\n    if (!GameUI.initialized) return;\n\n    while (ui.view.modal.queue.length) {\n      if (ui.view.modal.queue[0].hide) {\n        ui.view.modal.queue[0].hide();\n      } else {\n        Modal.hide();\n      }\n    }\n\n    ui.view.modal.current = undefined;\n  }\n\n  static get isOpen() {\n    return ui.view.modal.current instanceof this;\n  }\n\n}\n\nclass ChallengeConfirmationModal extends Modal {\n  show(id) {\n    super.show({\n      id\n    });\n  }\n\n}\n\nclass TimeModal extends Modal {\n  show(diff) {\n    super.show({\n      diff\n    });\n  }\n\n} // If a new modal which can be shown in the same queue multiple times needs to be added\n// Additional code needs to be written to account for that\n\n\nModal.startEternityChallenge = new ChallengeConfirmationModal(EternityChallengeStartModal);\nModal.startInfinityChallenge = new ChallengeConfirmationModal(InfinityChallengeStartModal);\nModal.startNormalChallenge = new ChallengeConfirmationModal(NormalChallengeStartModal);\nModal.catchup = new TimeModal(CatchupModal, -1);\nModal.dimensionBoost = new Modal(DimensionBoostModal, 1, GAME_EVENT.DIMBOOST_AFTER);\nModal.antimatterGalaxy = new Modal(AntimatterGalaxyModal, 1, GAME_EVENT.GALAXY_RESET_AFTER);\nModal.bigCrunch = new Modal(BigCrunchModal, 1, GAME_EVENT.BIG_CRUNCH_AFTER);\nModal.exitChallenge = new Modal(ExitChallengeModal, 1, GAME_EVENT.REALITY_RESET_AFTER);\nModal.replicantiGalaxy = new Modal(ReplicantiGalaxyModal, 1, GAME_EVENT.ETERNITY_RESET_AFTER);\nModal.eternity = new Modal(EternityModal, 1, GAME_EVENT.ETERNITY_RESET_AFTER);\nModal.enterDilation = new Modal(EnterDilationModal, 1, GAME_EVENT.REALITY_RESET_AFTER);\nModal.exitDilation = new Modal(ExitDilationModal, 1, GAME_EVENT.REALITY_RESET_AFTER);\nModal.reality = new Modal(RealityModal, 1, GAME_EVENT.REALITY_RESET_AFTER);\nModal.resetReality = new Modal(ResetRealityModal, 1, GAME_EVENT.REALITY_RESET_AFTER);\nModal.celestials = new Modal(EnterCelestialsModal, 1);\nModal.hardReset = new Modal(HardResetModal, 1);\nModal.backupWindows = new Modal(BackupWindowModal, 1);\nModal.enterSpeedrun = new Modal(SpeedrunModeModal);\nModal.modifySeed = new Modal(ModifySeedModal);\nModal.changeName = new Modal(ChangeNameModal);\nModal.armageddon = new Modal(ArmageddonModal, 1);\nModal.confirmationOptions = new Modal(ConfirmationOptionsModal);\nModal.infoDisplayOptions = new Modal(InfoDisplayOptionsModal);\nModal.awayProgressOptions = new Modal(AwayProgressOptionsModal);\nModal.glyphDisplayOptions = new Modal(GlyphDisplayOptionsModal);\nModal.cosmeticSetChoice = new Modal(CosmeticSetChoiceModal);\nModal.singleGlyphAppearance = new Modal(SingleGlyphAppearanceModal);\nModal.hotkeys = new Modal(HotkeysModal);\nModal.newsOptions = new Modal(NewsOptionsModal);\nModal.animationOptions = new Modal(AnimationOptionsModal);\nModal.hiddenTabs = new Modal(HiddenTabsModal);\nModal.preferredTree = new Modal(PreferredTreeModal);\nModal.notation = new Modal(NotationModal);\nModal.upgradeLock = new Modal(UpgradeMechanicLockModal, 1);\nModal.deleteCompanion = new Modal(DeleteCompanionGlyphModal, 1);\nModal.glyphDelete = new Modal(DeleteGlyphModal, 1, GAME_EVENT.GLYPHS_CHANGED);\nModal.glyphPurge = new Modal(PurgeGlyphModal, 1, GAME_EVENT.GLYPHS_CHANGED);\nModal.glyphSacrifice = new Modal(SacrificeGlyphModal, 1, GAME_EVENT.GLYPHS_CHANGED);\nModal.glyphRefine = new Modal(RefineGlyphModal, 1, GAME_EVENT.GLYPHS_CHANGED);\nModal.deleteAllUnprotectedGlyphs = new Modal(PurgeAllUnprotectedGlyphsModal, 1, GAME_EVENT.GLYPHS_CHANGED);\nModal.deleteAllRejectedGlyphs = new Modal(PurgeAllRejectedGlyphsModal, 1, GAME_EVENT.GLYPHS_CHANGED);\nModal.glyphShowcasePanel = new Modal(GlyphShowcasePanelModal);\nModal.glyphUndo = new Modal(UndoGlyphModal, 1, GAME_EVENT.REALITY_RESET_AFTER);\nModal.glyphReplace = new Modal(ReplaceGlyphModal, 1, GAME_EVENT.REALITY_RESET_AFTER);\nModal.enslavedHints = new Modal(EnslavedHintsModal);\nModal.realityGlyph = new Modal(RealityGlyphCreationModal);\nModal.glyphSetSaveDelete = new Modal(GlyphSetSaveDeleteModal);\nModal.uiChoice = new Modal(UiChoiceModal);\nModal.h2p = new Modal(H2PModal);\nModal.information = new Modal(InformationModal);\nModal.credits = new Modal(CreditsModal, 1);\nModal.changelog = new Modal(ChangelogModal, 1);\nModal.awayProgress = new Modal(AwayProgressModal);\nModal.loadGame = new Modal(LoadGameModal);\nModal.import = new Modal(ImportSaveModal);\nModal.importFilter = new Modal(ImportFilterModal);\nModal.importScriptData = new Modal(ImportAutomatorDataModal);\nModal.automatorScriptDelete = new Modal(DeleteAutomatorScriptModal);\nModal.automatorScriptTemplate = new Modal(AutomatorScriptTemplate);\nModal.switchAutomatorEditorMode = new Modal(SwitchAutomatorEditorModal);\nModal.clearAutomatorConstants = new Modal(ClearConstantsModal);\nModal.importTSConstants = new Modal(ImportTimeStudyConstants);\nModal.autobuyerEditModal = new Modal(AutobuyerEditModal);\nModal.shop = new Modal(StdStoreModal);\nModal.studyString = new Modal(StudyStringModal);\nModal.singularityMilestones = new Modal(SingularityMilestonesModal);\nModal.pelleEffects = new Modal(PelleEffectsModal);\nModal.sacrifice = new Modal(SacrificeModal, 1, GAME_EVENT.DIMBOOST_AFTER);\nModal.breakInfinity = new Modal(BreakInfinityModal, 1, GAME_EVENT.ETERNITY_RESET_AFTER);\nModal.respecIAP = new Modal(RespecIAPModal);\nModal.s12Games = new Modal(S12GamesModal);\n\nfunction getSaveInfo(save) {\n  var _save$records$realTim, _save$records, _save$records2, _save$realities, _save$reality, _save$reality$iMCap, _save$reality2, _save$records$thisRea, _save$records3, _save$dilation$dilate, _save$dilation, _save$records$bestRea, _save$records4, _save$celestials, _save$celestials$pell, _save$celestials2, _save$celestials3, _save$celestials$pell2, _save$celestials4, _save$options$saveFil, _save$options;\n\n  const resources = {\n    realTimePlayed: 0,\n    totalAntimatter: new Decimal(0),\n    infinities: new Decimal(0),\n    eternities: new Decimal(0),\n    realities: 0,\n    infinityPoints: new Decimal(0),\n    eternityPoints: new Decimal(0),\n    realityMachines: new Decimal(0),\n    imaginaryMachines: 0,\n    dilatedTime: new Decimal(0),\n    bestLevel: 0,\n    pelleAM: new Decimal(0),\n    remnants: 0,\n    realityShards: new Decimal(0),\n    // This is a slight workaround to hide DT/level once Doomed\n    pelleLore: 0,\n    saveName: \"\",\n    compositeProgress: 0\n  }; // This code ends up getting run on raw save data before any migrations are applied, so we need to default to props\n  // which only exist on the pre-reality version when applicable. Note that new Decimal(undefined) gives zero.\n\n  resources.realTimePlayed = (_save$records$realTim = (_save$records = save.records) === null || _save$records === void 0 ? void 0 : _save$records.realTimePlayed) !== null && _save$records$realTim !== void 0 ? _save$records$realTim : 100 * save.totalTimePlayed;\n  resources.totalAntimatter.copyFrom(new Decimal((_save$records2 = save.records) === null || _save$records2 === void 0 ? void 0 : _save$records2.totalAntimatter));\n  resources.infinities.copyFrom(new Decimal(save.infinities));\n  resources.eternities.copyFrom(new Decimal(save.eternities));\n  resources.realities = (_save$realities = save.realities) !== null && _save$realities !== void 0 ? _save$realities : 0;\n  resources.infinityPoints.copyFrom(new Decimal(save.infinityPoints));\n  resources.eternityPoints.copyFrom(new Decimal(save.eternityPoints));\n  resources.realityMachines.copyFrom(new Decimal((_save$reality = save.reality) === null || _save$reality === void 0 ? void 0 : _save$reality.realityMachines));\n  resources.imaginaryMachines = (_save$reality$iMCap = (_save$reality2 = save.reality) === null || _save$reality2 === void 0 ? void 0 : _save$reality2.iMCap) !== null && _save$reality$iMCap !== void 0 ? _save$reality$iMCap : 0; // Use max DT instead of current DT because spending it can cause it to drop and trigger the conflict modal\n  // unnecessarily. We only use current DT as a fallback (eg. loading a save from pre-reality versions)\n\n  resources.dilatedTime.copyFrom(new Decimal((_save$records$thisRea = (_save$records3 = save.records) === null || _save$records3 === void 0 ? void 0 : _save$records3.thisReality.maxDT) !== null && _save$records$thisRea !== void 0 ? _save$records$thisRea : (_save$dilation$dilate = (_save$dilation = save.dilation) === null || _save$dilation === void 0 ? void 0 : _save$dilation.dilatedTime) !== null && _save$dilation$dilate !== void 0 ? _save$dilation$dilate : 0));\n  resources.bestLevel = (_save$records$bestRea = (_save$records4 = save.records) === null || _save$records4 === void 0 ? void 0 : _save$records4.bestReality.glyphLevel) !== null && _save$records$bestRea !== void 0 ? _save$records$bestRea : 0;\n  resources.pelleAM.copyFrom(new Decimal((_save$celestials = save.celestials) === null || _save$celestials === void 0 ? void 0 : _save$celestials.pelle.records.totalAntimatter));\n  resources.remnants = (_save$celestials$pell = (_save$celestials2 = save.celestials) === null || _save$celestials2 === void 0 ? void 0 : _save$celestials2.pelle.remnants) !== null && _save$celestials$pell !== void 0 ? _save$celestials$pell : 0;\n  resources.realityShards.copyFrom(new Decimal((_save$celestials3 = save.celestials) === null || _save$celestials3 === void 0 ? void 0 : _save$celestials3.pelle.realityShards));\n  resources.pelleLore = (_save$celestials$pell2 = (_save$celestials4 = save.celestials) === null || _save$celestials4 === void 0 ? void 0 : _save$celestials4.pelle.quoteBits) !== null && _save$celestials$pell2 !== void 0 ? _save$celestials$pell2 : 0;\n  resources.saveName = (_save$options$saveFil = (_save$options = save.options) === null || _save$options === void 0 ? void 0 : _save$options.saveFileName) !== null && _save$options$saveFil !== void 0 ? _save$options$saveFil : \"\";\n  resources.compositeProgress = ProgressChecker.getCompositeProgress(save);\n  return resources;\n}\n\nModal.cloudSaveConflict = new Modal(CloudSaveConflictModal);\nModal.cloudLoadConflict = new Modal(CloudLoadConflictModal);\nModal.cloudInvalidData = new Modal(CloudInvalidDataModal); // eslint-disable-next-line max-params\n\nModal.addCloudConflict = function (saveId, saveComparison, cloudSave, localSave, onAccept) {\n  Modal.hide();\n  ui.view.modal.cloudConflict = {\n    saveId,\n    saveComparison,\n    cloud: getSaveInfo(cloudSave),\n    local: getSaveInfo(localSave),\n    onAccept\n  };\n};\n\nModal.addImportConflict = function (importingSave, currentSave) {\n  Modal.hide();\n  ui.view.modal.cloudConflict = {\n    importingSave: getSaveInfo(importingSave),\n    currentSave: getSaveInfo(currentSave)\n  };\n};\n\nModal.message = new class extends Modal {\n  show(text, props = {}, messagePriority = 0) {\n    var _props$closeButton;\n\n    if (!GameUI.initialized) return; // It might be zero, so explicitly check for undefined\n\n    if (this.currPriority === undefined) this.currPriority = messagePriority;else if (messagePriority < this.currPriority) return;\n    super.show();\n    this.message = text;\n    this.callback = props.callback;\n    this.closeButton = (_props$closeButton = props.closeButton) !== null && _props$closeButton !== void 0 ? _props$closeButton : false;\n    EventHub.ui.offAll(this._component);\n    if (props.closeEvent) this.applyCloseListeners(props.closeEvent);\n  }\n\n  hide() {\n    EventHub.ui.offAll(this._component);\n    this.currPriority = undefined;\n    Modal.hide();\n  }\n\n}(MessageModal, 2);","map":{"version":3,"sources":["C:/Games/ADFasterer/ADfasterer/src/core/modal.js"],"names":["ProgressChecker","CloudInvalidDataModal","CloudLoadConflictModal","CloudSaveConflictModal","EternityChallengeStartModal","InfinityChallengeStartModal","MessageModal","NormalChallengeStartModal","AntimatterGalaxyModal","ArmageddonModal","BigCrunchModal","DimensionBoostModal","EnterCelestialsModal","EnterDilationModal","EternityModal","ExitChallengeModal","ExitDilationModal","HardResetModal","RealityModal","ReplicantiGalaxyModal","ResetRealityModal","AnimationOptionsModal","AwayProgressOptionsModal","BackupWindowModal","ConfirmationOptionsModal","CosmeticSetChoiceModal","GlyphDisplayOptionsModal","HiddenTabsModal","HotkeysModal","InfoDisplayOptionsModal","NewsOptionsModal","NotationModal","PreferredTreeModal","SingleGlyphAppearanceModal","DeleteCompanionGlyphModal","DeleteGlyphModal","PurgeAllRejectedGlyphsModal","PurgeAllUnprotectedGlyphsModal","PurgeGlyphModal","RefineGlyphModal","SacrificeGlyphModal","AutobuyerEditModal","AutomatorScriptTemplate","AwayProgressModal","BreakInfinityModal","CatchupModal","ChangelogModal","ChangeNameModal","ClearConstantsModal","CreditsModal","DeleteAutomatorScriptModal","EnslavedHintsModal","GlyphSetSaveDeleteModal","GlyphShowcasePanelModal","H2PModal","ImportAutomatorDataModal","ImportFilterModal","ImportSaveModal","ImportTimeStudyConstants","InformationModal","LoadGameModal","ModifySeedModal","PelleEffectsModal","RealityGlyphCreationModal","ReplaceGlyphModal","RespecIAPModal","SacrificeModal","SingularityMilestonesModal","SpeedrunModeModal","StdStoreModal","StudyStringModal","SwitchAutomatorEditorModal","UiChoiceModal","UndoGlyphModal","UpgradeMechanicLockModal","S12GamesModal","nextModalID","Modal","constructor","component","priority","closeEvent","_component","_modalConfig","_priority","_closeEvent","applyCloseListeners","prestigeOrder","GAME_EVENT","DIMBOOST_AFTER","GALAXY_RESET_AFTER","BIG_CRUNCH_AFTER","ETERNITY_RESET_AFTER","REALITY_RESET_AFTER","shouldClose","prestige","EventHub","ui","on","removeFromQueue","show","modalConfig","GameUI","initialized","_uniqueID","_props","Object","assign","modalQueue","view","modal","queue","unshift","sortModalQueue","isOpen","current","props","offAll","filter","m","length","undefined","sort","x","y","singleQueue","Set","hide","shift","cloudConflict","hideAll","ChallengeConfirmationModal","id","TimeModal","diff","startEternityChallenge","startInfinityChallenge","startNormalChallenge","catchup","dimensionBoost","antimatterGalaxy","bigCrunch","exitChallenge","replicantiGalaxy","eternity","enterDilation","exitDilation","reality","resetReality","celestials","hardReset","backupWindows","enterSpeedrun","modifySeed","changeName","armageddon","confirmationOptions","infoDisplayOptions","awayProgressOptions","glyphDisplayOptions","cosmeticSetChoice","singleGlyphAppearance","hotkeys","newsOptions","animationOptions","hiddenTabs","preferredTree","notation","upgradeLock","deleteCompanion","glyphDelete","GLYPHS_CHANGED","glyphPurge","glyphSacrifice","glyphRefine","deleteAllUnprotectedGlyphs","deleteAllRejectedGlyphs","glyphShowcasePanel","glyphUndo","glyphReplace","enslavedHints","realityGlyph","glyphSetSaveDelete","uiChoice","h2p","information","credits","changelog","awayProgress","loadGame","import","importFilter","importScriptData","automatorScriptDelete","automatorScriptTemplate","switchAutomatorEditorMode","clearAutomatorConstants","importTSConstants","autobuyerEditModal","shop","studyString","singularityMilestones","pelleEffects","sacrifice","breakInfinity","respecIAP","s12Games","getSaveInfo","save","resources","realTimePlayed","totalAntimatter","Decimal","infinities","eternities","realities","infinityPoints","eternityPoints","realityMachines","imaginaryMachines","dilatedTime","bestLevel","pelleAM","remnants","realityShards","pelleLore","saveName","compositeProgress","records","totalTimePlayed","copyFrom","iMCap","thisReality","maxDT","dilation","bestReality","glyphLevel","pelle","quoteBits","options","saveFileName","getCompositeProgress","cloudSaveConflict","cloudLoadConflict","cloudInvalidData","addCloudConflict","saveId","saveComparison","cloudSave","localSave","onAccept","cloud","local","addImportConflict","importingSave","currentSave","message","text","messagePriority","currPriority","callback","closeButton"],"mappings":"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","sourcesContent":["import { ProgressChecker } from \"./storage/progress-checker\";\r\n\r\nimport CloudInvalidDataModal from \"@/components/modals/cloud/CloudInvalidDataModal\";\r\nimport CloudLoadConflictModal from \"@/components/modals/cloud/CloudLoadConflictModal\";\r\nimport CloudSaveConflictModal from \"@/components/modals/cloud/CloudSaveConflictModal\";\r\nimport EternityChallengeStartModal from \"@/components/modals/challenges/EternityChallengeStartModal\";\r\nimport InfinityChallengeStartModal from \"@/components/modals/challenges/InfinityChallengeStartModal\";\r\nimport MessageModal from \"@/components/modals/MessageModal\";\r\nimport NormalChallengeStartModal from \"@/components/modals/challenges/NormalChallengeStartModal\";\r\n\r\nimport AntimatterGalaxyModal from \"@/components/modals/prestige/AntimatterGalaxyModal\";\r\nimport ArmageddonModal from \"@/components/modals/prestige/ArmageddonModal\";\r\nimport BigCrunchModal from \"@/components/modals/prestige/BigCrunchModal\";\r\nimport DimensionBoostModal from \"@/components/modals/prestige/DimensionBoostModal\";\r\nimport EnterCelestialsModal from \"@/components/modals/prestige/EnterCelestialsModal\";\r\nimport EnterDilationModal from \"@/components/modals/prestige/EnterDilationModal\";\r\nimport EternityModal from \"@/components/modals/prestige/EternityModal\";\r\nimport ExitChallengeModal from \"@/components/modals/prestige/ExitChallengeModal\";\r\nimport ExitDilationModal from \"@/components/modals/prestige/ExitDilationModal\";\r\nimport HardResetModal from \"@/components/modals/prestige/HardResetModal\";\r\nimport RealityModal from \"@/components/modals/prestige/RealityModal\";\r\nimport ReplicantiGalaxyModal from \"@/components/modals/prestige/ReplicantiGalaxyModal\";\r\nimport ResetRealityModal from \"@/components/modals/prestige/ResetRealityModal\";\r\n\r\nimport AnimationOptionsModal from \"@/components/modals/options/AnimationOptionsModal\";\r\nimport AwayProgressOptionsModal from \"@/components/modals/options/AwayProgressOptionsModal\";\r\nimport BackupWindowModal from \"@/components/modals/options/BackupWindowModal\";\r\nimport ConfirmationOptionsModal from \"@/components/modals/options/ConfirmationOptionsModal\";\r\nimport CosmeticSetChoiceModal from \"@/components/modals/options/glyph-appearance/CosmeticSetChoiceModal\";\r\nimport GlyphDisplayOptionsModal from \"@/components/modals/options/glyph-appearance/GlyphDisplayOptionsModal\";\r\nimport HiddenTabsModal from \"@/components/modals/options/hidden-tabs/HiddenTabsModal\";\r\nimport HotkeysModal from \"@/components/modals/options/HotkeysModal\";\r\nimport InfoDisplayOptionsModal from \"@/components/modals/options/InfoDisplayOptionsModal\";\r\nimport NewsOptionsModal from \"@/components/modals/options/NewsOptionsModal\";\r\nimport NotationModal from \"@/components/modals/options/NotationModal\";\r\nimport PreferredTreeModal from \"@/components/modals/options/PreferredTreeModal\";\r\nimport SingleGlyphAppearanceModal from \"@/components/modals/options/glyph-appearance/SingleGlyphAppearanceModal\";\r\n\r\nimport DeleteCompanionGlyphModal from \"@/components/modals/glyph-management/DeleteCompanionGlyphModal\";\r\nimport DeleteGlyphModal from \"@/components/modals/glyph-management/DeleteGlyphModal\";\r\nimport PurgeAllRejectedGlyphsModal from \"@/components/modals/glyph-management/PurgeAllRejectedGlyphsModal\";\r\nimport PurgeAllUnprotectedGlyphsModal from \"@/components/modals/glyph-management/PurgeAllUnprotectedGlyphsModal\";\r\nimport PurgeGlyphModal from \"@/components/modals/glyph-management/PurgeGlyphModal\";\r\nimport RefineGlyphModal from \"@/components/modals/glyph-management/RefineGlyphModal\";\r\nimport SacrificeGlyphModal from \"@/components/modals/glyph-management/SacrificeGlyphModal\";\r\n\r\nimport AutobuyerEditModal from \"@/components/modals/AutobuyerEditModal\";\r\nimport AutomatorScriptTemplate from \"@/components/modals/AutomatorScriptTemplate\";\r\nimport AwayProgressModal from \"@/components/modals/AwayProgressModal\";\r\nimport BreakInfinityModal from \"@/components/modals/BreakInfinityModal\";\r\nimport CatchupModal from \"@/components/modals/catchup/CatchupModal\";\r\nimport ChangelogModal from \"@/components/modals/ChangelogModal\";\r\nimport ChangeNameModal from \"@/components/modals/ChangeNameModal\";\r\nimport ClearConstantsModal from \"@/components/modals/ClearConstantsModal\";\r\nimport CreditsModal from \"@/components/modals/CreditsModal\";\r\nimport DeleteAutomatorScriptModal from \"@/components/modals/DeleteAutomatorScriptModal\";\r\nimport EnslavedHintsModal from \"@/components/modals/EnslavedHintsModal\";\r\nimport GlyphSetSaveDeleteModal from \"@/components/modals/GlyphSetSaveDeleteModal\";\r\nimport GlyphShowcasePanelModal from \"@/components/modals/GlyphShowcasePanelModal\";\r\nimport H2PModal from \"@/components/modals/H2PModal\";\r\nimport ImportAutomatorDataModal from \"@/components/modals/ImportAutomatorDataModal\";\r\nimport ImportFilterModal from \"@/components/modals/ImportFilterModal\";\r\nimport ImportSaveModal from \"@/components/modals/ImportSaveModal\";\r\nimport ImportTimeStudyConstants from \"@/components/modals/ImportTimeStudyConstants\";\r\nimport InformationModal from \"@/components/modals/InformationModal\";\r\nimport LoadGameModal from \"@/components/modals/LoadGameModal\";\r\nimport ModifySeedModal from \"@/components/modals/ModifySeedModal\";\r\nimport PelleEffectsModal from \"@/components/modals/PelleEffectsModal\";\r\nimport RealityGlyphCreationModal from \"@/components/modals/RealityGlyphCreationModal\";\r\nimport ReplaceGlyphModal from \"@/components/modals/ReplaceGlyphModal\";\r\nimport RespecIAPModal from \"@/components/modals/RespecIAPModal\";\r\nimport SacrificeModal from \"@/components/modals/SacrificeModal\";\r\nimport SingularityMilestonesModal from \"@/components/modals/SingularityMilestonesModal\";\r\nimport SpeedrunModeModal from \"@/components/modals/SpeedrunModeModal\";\r\nimport StdStoreModal from \"@/components/modals/StdStoreModal\";\r\nimport StudyStringModal from \"@/components/modals/StudyStringModal\";\r\nimport SwitchAutomatorEditorModal from \"@/components/modals/SwitchAutomatorEditorModal\";\r\nimport UiChoiceModal from \"@/components/modals/UiChoiceModal\";\r\nimport UndoGlyphModal from \"@/components/modals/UndoGlyphModal\";\r\nimport UpgradeMechanicLockModal from \"@/components/modals/UpgradeMechanicLockModal\";\r\n\r\nimport S12GamesModal from \"@/components/modals/secret-themes/S12GamesModal\";\r\n\r\nlet nextModalID = 0;\r\nexport class Modal {\r\n  constructor(component, priority = 0, closeEvent) {\r\n    this._component = component;\r\n    this._modalConfig = {};\r\n    this._priority = priority;\r\n    this._closeEvent = closeEvent;\r\n  }\r\n\r\n  // We can't handle this in the Vue components because if the modal order changes, all the event listeners from the\r\n  // top modal end up getting removed from the EventHub due to the component being temporarily destroyed. This could\r\n  // result in the component sticking around because an event it was listening for happened while it wasn't on top.\r\n  applyCloseListeners(closeEvent) {\r\n    // Most of the time the close event will be a prestige event, in which case we want it to trigger on all higher\r\n    // prestiges as well\r\n    const prestigeOrder = [GAME_EVENT.DIMBOOST_AFTER, GAME_EVENT.GALAXY_RESET_AFTER, GAME_EVENT.BIG_CRUNCH_AFTER,\r\n      GAME_EVENT.ETERNITY_RESET_AFTER, GAME_EVENT.REALITY_RESET_AFTER];\r\n    let shouldClose = false;\r\n    for (const prestige of prestigeOrder) {\r\n      if (prestige === closeEvent) shouldClose = true;\r\n      if (shouldClose) EventHub.ui.on(prestige, () => this.removeFromQueue(), this._component);\r\n    }\r\n\r\n    // In a few cases we want to trigger a close based on a non-prestige event, so if the specified event wasn't in\r\n    // the prestige array above, we just add it on its own\r\n    if (!shouldClose) EventHub.ui.on(closeEvent, () => this.removeFromQueue(), this._component);\r\n  }\r\n\r\n  show(modalConfig) {\r\n    if (!GameUI.initialized) return;\r\n    this._uniqueID = nextModalID++;\r\n    this._props = Object.assign({}, modalConfig || {});\r\n    if (this._closeEvent) this.applyCloseListeners(this._closeEvent);\r\n    if (modalConfig?.closeEvent) this.applyCloseListeners(modalConfig.closeEvent);\r\n\r\n    const modalQueue = ui.view.modal.queue;\r\n    // Add this modal to the front of the queue and sort based on priority to ensure priority is maintained.\r\n    modalQueue.unshift(this);\r\n    Modal.sortModalQueue();\r\n  }\r\n\r\n  get isOpen() {\r\n    return ui.view.modal.current === this;\r\n  }\r\n\r\n  get component() {\r\n    return this._component;\r\n  }\r\n\r\n  get props() {\r\n    return this._props;\r\n  }\r\n\r\n  get priority() {\r\n    return this._priority;\r\n  }\r\n\r\n  removeFromQueue() {\r\n    EventHub.ui.offAll(this._component);\r\n    ui.view.modal.queue = ui.view.modal.queue.filter(m => m._uniqueID !== this._uniqueID);\r\n    if (ui.view.modal.queue.length === 0) ui.view.modal.current = undefined;\r\n    else ui.view.modal.current = ui.view.modal.queue[0];\r\n  }\r\n\r\n  static sortModalQueue() {\r\n    const modalQueue = ui.view.modal.queue;\r\n    modalQueue.sort((x, y) => y.priority - x.priority);\r\n    // Filter out multiple instances of the same modal.\r\n    const singleQueue = [...new Set(modalQueue)];\r\n    ui.view.modal.queue = singleQueue;\r\n    ui.view.modal.current = singleQueue[0];\r\n  }\r\n\r\n  static hide() {\r\n    if (!GameUI.initialized) return;\r\n    ui.view.modal.queue.shift();\r\n    if (ui.view.modal.queue.length === 0) ui.view.modal.current = undefined;\r\n    else ui.view.modal.current = ui.view.modal.queue[0];\r\n    ui.view.modal.cloudConflict = [];\r\n  }\r\n\r\n  static hideAll() {\r\n    if (!GameUI.initialized) return;\r\n    while (ui.view.modal.queue.length) {\r\n      if (ui.view.modal.queue[0].hide) {\r\n        ui.view.modal.queue[0].hide();\r\n      } else {\r\n        Modal.hide();\r\n      }\r\n    }\r\n    ui.view.modal.current = undefined;\r\n  }\r\n\r\n  static get isOpen() {\r\n    return ui.view.modal.current instanceof this;\r\n  }\r\n}\r\n\r\nclass ChallengeConfirmationModal extends Modal {\r\n  show(id) {\r\n    super.show({ id });\r\n  }\r\n}\r\n\r\nclass TimeModal extends Modal {\r\n  show(diff) {\r\n    super.show({ diff });\r\n  }\r\n}\r\n\r\n// If a new modal which can be shown in the same queue multiple times needs to be added\r\n// Additional code needs to be written to account for that\r\n\r\nModal.startEternityChallenge = new ChallengeConfirmationModal(EternityChallengeStartModal);\r\nModal.startInfinityChallenge = new ChallengeConfirmationModal(InfinityChallengeStartModal);\r\nModal.startNormalChallenge = new ChallengeConfirmationModal(NormalChallengeStartModal);\r\n\r\nModal.catchup = new TimeModal(CatchupModal, -1);\r\n\r\nModal.dimensionBoost = new Modal(DimensionBoostModal, 1, GAME_EVENT.DIMBOOST_AFTER);\r\n\r\nModal.antimatterGalaxy = new Modal(AntimatterGalaxyModal, 1, GAME_EVENT.GALAXY_RESET_AFTER);\r\nModal.bigCrunch = new Modal(BigCrunchModal, 1, GAME_EVENT.BIG_CRUNCH_AFTER);\r\nModal.exitChallenge = new Modal(ExitChallengeModal, 1, GAME_EVENT.REALITY_RESET_AFTER);\r\nModal.replicantiGalaxy = new Modal(ReplicantiGalaxyModal, 1, GAME_EVENT.ETERNITY_RESET_AFTER);\r\nModal.eternity = new Modal(EternityModal, 1, GAME_EVENT.ETERNITY_RESET_AFTER);\r\nModal.enterDilation = new Modal(EnterDilationModal, 1, GAME_EVENT.REALITY_RESET_AFTER);\r\nModal.exitDilation = new Modal(ExitDilationModal, 1, GAME_EVENT.REALITY_RESET_AFTER);\r\nModal.reality = new Modal(RealityModal, 1, GAME_EVENT.REALITY_RESET_AFTER);\r\nModal.resetReality = new Modal(ResetRealityModal, 1, GAME_EVENT.REALITY_RESET_AFTER);\r\nModal.celestials = new Modal(EnterCelestialsModal, 1);\r\nModal.hardReset = new Modal(HardResetModal, 1);\r\nModal.backupWindows = new Modal(BackupWindowModal, 1);\r\nModal.enterSpeedrun = new Modal(SpeedrunModeModal);\r\nModal.modifySeed = new Modal(ModifySeedModal);\r\nModal.changeName = new Modal(ChangeNameModal);\r\nModal.armageddon = new Modal(ArmageddonModal, 1);\r\n\r\nModal.confirmationOptions = new Modal(ConfirmationOptionsModal);\r\nModal.infoDisplayOptions = new Modal(InfoDisplayOptionsModal);\r\nModal.awayProgressOptions = new Modal(AwayProgressOptionsModal);\r\nModal.glyphDisplayOptions = new Modal(GlyphDisplayOptionsModal);\r\nModal.cosmeticSetChoice = new Modal(CosmeticSetChoiceModal);\r\nModal.singleGlyphAppearance = new Modal(SingleGlyphAppearanceModal);\r\nModal.hotkeys = new Modal(HotkeysModal);\r\nModal.newsOptions = new Modal(NewsOptionsModal);\r\nModal.animationOptions = new Modal(AnimationOptionsModal);\r\nModal.hiddenTabs = new Modal(HiddenTabsModal);\r\nModal.preferredTree = new Modal(PreferredTreeModal);\r\nModal.notation = new Modal(NotationModal);\r\n\r\nModal.upgradeLock = new Modal(UpgradeMechanicLockModal, 1);\r\nModal.deleteCompanion = new Modal(DeleteCompanionGlyphModal, 1);\r\nModal.glyphDelete = new Modal(DeleteGlyphModal, 1, GAME_EVENT.GLYPHS_CHANGED);\r\nModal.glyphPurge = new Modal(PurgeGlyphModal, 1, GAME_EVENT.GLYPHS_CHANGED);\r\nModal.glyphSacrifice = new Modal(SacrificeGlyphModal, 1, GAME_EVENT.GLYPHS_CHANGED);\r\nModal.glyphRefine = new Modal(RefineGlyphModal, 1, GAME_EVENT.GLYPHS_CHANGED);\r\nModal.deleteAllUnprotectedGlyphs = new Modal(PurgeAllUnprotectedGlyphsModal, 1, GAME_EVENT.GLYPHS_CHANGED);\r\nModal.deleteAllRejectedGlyphs = new Modal(PurgeAllRejectedGlyphsModal, 1, GAME_EVENT.GLYPHS_CHANGED);\r\n\r\nModal.glyphShowcasePanel = new Modal(GlyphShowcasePanelModal);\r\nModal.glyphUndo = new Modal(UndoGlyphModal, 1, GAME_EVENT.REALITY_RESET_AFTER);\r\nModal.glyphReplace = new Modal(ReplaceGlyphModal, 1, GAME_EVENT.REALITY_RESET_AFTER);\r\nModal.enslavedHints = new Modal(EnslavedHintsModal);\r\nModal.realityGlyph = new Modal(RealityGlyphCreationModal);\r\nModal.glyphSetSaveDelete = new Modal(GlyphSetSaveDeleteModal);\r\nModal.uiChoice = new Modal(UiChoiceModal);\r\nModal.h2p = new Modal(H2PModal);\r\nModal.information = new Modal(InformationModal);\r\nModal.credits = new Modal(CreditsModal, 1);\r\nModal.changelog = new Modal(ChangelogModal, 1);\r\nModal.awayProgress = new Modal(AwayProgressModal);\r\nModal.loadGame = new Modal(LoadGameModal);\r\nModal.import = new Modal(ImportSaveModal);\r\nModal.importFilter = new Modal(ImportFilterModal);\r\nModal.importScriptData = new Modal(ImportAutomatorDataModal);\r\nModal.automatorScriptDelete = new Modal(DeleteAutomatorScriptModal);\r\nModal.automatorScriptTemplate = new Modal(AutomatorScriptTemplate);\r\nModal.switchAutomatorEditorMode = new Modal(SwitchAutomatorEditorModal);\r\nModal.clearAutomatorConstants = new Modal(ClearConstantsModal);\r\nModal.importTSConstants = new Modal(ImportTimeStudyConstants);\r\nModal.autobuyerEditModal = new Modal(AutobuyerEditModal);\r\nModal.shop = new Modal(StdStoreModal);\r\nModal.studyString = new Modal(StudyStringModal);\r\nModal.singularityMilestones = new Modal(SingularityMilestonesModal);\r\nModal.pelleEffects = new Modal(PelleEffectsModal);\r\nModal.sacrifice = new Modal(SacrificeModal, 1, GAME_EVENT.DIMBOOST_AFTER);\r\nModal.breakInfinity = new Modal(BreakInfinityModal, 1, GAME_EVENT.ETERNITY_RESET_AFTER);\r\nModal.respecIAP = new Modal(RespecIAPModal);\r\n\r\nModal.s12Games = new Modal(S12GamesModal);\r\n\r\nfunction getSaveInfo(save) {\r\n  const resources = {\r\n    realTimePlayed: 0,\r\n    totalAntimatter: new Decimal(0),\r\n    infinities: new Decimal(0),\r\n    eternities: new Decimal(0),\r\n    realities: 0,\r\n    infinityPoints: new Decimal(0),\r\n    eternityPoints: new Decimal(0),\r\n    realityMachines: new Decimal(0),\r\n    imaginaryMachines: 0,\r\n    dilatedTime: new Decimal(0),\r\n    bestLevel: 0,\r\n    pelleAM: new Decimal(0),\r\n    remnants: 0,\r\n    realityShards: new Decimal(0),\r\n    // This is a slight workaround to hide DT/level once Doomed\r\n    pelleLore: 0,\r\n    saveName: \"\",\r\n    compositeProgress: 0,\r\n  };\r\n  // This code ends up getting run on raw save data before any migrations are applied, so we need to default to props\r\n  // which only exist on the pre-reality version when applicable. Note that new Decimal(undefined) gives zero.\r\n  resources.realTimePlayed = save.records?.realTimePlayed ?? 100 * save.totalTimePlayed;\r\n  resources.totalAntimatter.copyFrom(new Decimal(save.records?.totalAntimatter));\r\n  resources.infinities.copyFrom(new Decimal(save.infinities));\r\n  resources.eternities.copyFrom(new Decimal(save.eternities));\r\n  resources.realities = save.realities ?? 0;\r\n  resources.infinityPoints.copyFrom(new Decimal(save.infinityPoints));\r\n  resources.eternityPoints.copyFrom(new Decimal(save.eternityPoints));\r\n  resources.realityMachines.copyFrom(new Decimal(save.reality?.realityMachines));\r\n  resources.imaginaryMachines = save.reality?.iMCap ?? 0;\r\n  // Use max DT instead of current DT because spending it can cause it to drop and trigger the conflict modal\r\n  // unnecessarily. We only use current DT as a fallback (eg. loading a save from pre-reality versions)\r\n  resources.dilatedTime.copyFrom(new Decimal(save.records?.thisReality.maxDT ?? (save.dilation?.dilatedTime ?? 0)));\r\n  resources.bestLevel = save.records?.bestReality.glyphLevel ?? 0;\r\n  resources.pelleAM.copyFrom(new Decimal(save.celestials?.pelle.records.totalAntimatter));\r\n  resources.remnants = save.celestials?.pelle.remnants ?? 0;\r\n  resources.realityShards.copyFrom(new Decimal(save.celestials?.pelle.realityShards));\r\n  resources.pelleLore = save.celestials?.pelle.quoteBits ?? 0;\r\n  resources.saveName = save.options?.saveFileName ?? \"\";\r\n  resources.compositeProgress = ProgressChecker.getCompositeProgress(save);\r\n\r\n  return resources;\r\n}\r\n\r\nModal.cloudSaveConflict = new Modal(CloudSaveConflictModal);\r\nModal.cloudLoadConflict = new Modal(CloudLoadConflictModal);\r\nModal.cloudInvalidData = new Modal(CloudInvalidDataModal);\r\n// eslint-disable-next-line max-params\r\nModal.addCloudConflict = function(saveId, saveComparison, cloudSave, localSave, onAccept) {\r\n  Modal.hide();\r\n  ui.view.modal.cloudConflict = {\r\n    saveId,\r\n    saveComparison,\r\n    cloud: getSaveInfo(cloudSave),\r\n    local: getSaveInfo(localSave),\r\n    onAccept\r\n  };\r\n};\r\n\r\nModal.addImportConflict = function(importingSave, currentSave) {\r\n  Modal.hide();\r\n  ui.view.modal.cloudConflict = {\r\n    importingSave: getSaveInfo(importingSave),\r\n    currentSave: getSaveInfo(currentSave)\r\n  };\r\n};\r\n\r\nModal.message = new class extends Modal {\r\n  show(text, props = {}, messagePriority = 0) {\r\n    if (!GameUI.initialized) return;\r\n    // It might be zero, so explicitly check for undefined\r\n    if (this.currPriority === undefined) this.currPriority = messagePriority;\r\n    else if (messagePriority < this.currPriority) return;\r\n\r\n    super.show();\r\n    this.message = text;\r\n    this.callback = props.callback;\r\n    this.closeButton = props.closeButton ?? false;\r\n    EventHub.ui.offAll(this._component);\r\n    if (props.closeEvent) this.applyCloseListeners(props.closeEvent);\r\n  }\r\n\r\n  hide() {\r\n    EventHub.ui.offAll(this._component);\r\n    this.currPriority = undefined;\r\n    Modal.hide();\r\n  }\r\n}(MessageModal, 2);\r\n"]},"metadata":{},"sourceType":"module"}