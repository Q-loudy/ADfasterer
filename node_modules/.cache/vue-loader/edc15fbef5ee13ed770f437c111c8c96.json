{"remainingRequest":"C:\\Games\\ADFasterer\\ADfasterer\\node_modules\\@vue\\vue-loader-v15\\lib\\index.js??vue-loader-options!C:\\Games\\ADFasterer\\ADfasterer\\src\\components\\tabs\\glyphs\\sidebar\\GlyphFilterPanel.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Games\\ADFasterer\\ADfasterer\\src\\components\\tabs\\glyphs\\sidebar\\GlyphFilterPanel.vue","mtime":1745241597316},{"path":"C:\\Games\\ADFasterer\\ADfasterer\\node_modules\\babel-loader\\lib\\index.js","mtime":1745242219290},{"path":"C:\\Games\\ADFasterer\\ADfasterer\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1745242214069},{"path":"C:\\Games\\ADFasterer\\ADfasterer\\node_modules\\@vue\\vue-loader-v15\\lib\\index.js","mtime":1745242220175}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQppbXBvcnQgQXV0b1NhY3JpZmljZUFkdmFuY2VkVGFiIGZyb20gIi4vQXV0b1NhY3JpZmljZUFkdmFuY2VkVGFiIjsNCmltcG9ydCBBdXRvU2FjcmlmaWNlRWZmZWN0VGFiIGZyb20gIi4vQXV0b1NhY3JpZmljZUVmZmVjdFRhYiI7DQppbXBvcnQgR2x5cGhDb21wb25lbnQgZnJvbSAiQC9jb21wb25lbnRzL0dseXBoQ29tcG9uZW50IjsNCmltcG9ydCBTbGlkZXJDb21wb25lbnQgZnJvbSAiQC9jb21wb25lbnRzL1NsaWRlckNvbXBvbmVudCI7DQoNCmV4cG9ydCBkZWZhdWx0IHsNCiAgbmFtZTogIkdseXBoRmlsdGVyUGFuZWwiLA0KICBjb21wb25lbnRzOiB7DQogICAgQXV0b1NhY3JpZmljZUVmZmVjdFRhYiwNCiAgICBBdXRvU2FjcmlmaWNlQWR2YW5jZWRUYWIsDQogICAgU2xpZGVyQ29tcG9uZW50LA0KICAgIEdseXBoQ29tcG9uZW50DQogIH0sDQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIG1vZGU6IEFVVE9fR0xZUEhfU0NPUkUuTE9XRVNUX1NBQ1JJRklDRSwNCiAgICAgIGVmZmVjdENvdW50OiAwLA0KICAgICAgbG9ja2VkVHlwZXM6IEdseXBoVHlwZXMubG9ja2VkLm1hcChlID0+IGUuaWQpLA0KICAgICAgYWR2YW5jZWRUeXBlOiBHTFlQSF9UWVBFU1swXSwNCiAgICAgIGFsY2hlbXlVbmxvY2tlZDogZmFsc2UsDQogICAgICAvLyBOb3RlOiB0aGVyZSBhcmUgdHdvIHVuaXRzIGF0IHBsYXk6IHN0cmVuZ3RoIGlzIGZyb20gMS4uMy41KzsgcmFyaXR5IGlzIDAuLjEwMA0KICAgICAgcmFyaXR5VGhyZXNob2xkczogR0xZUEhfVFlQRVMubWFwVG9PYmplY3QoZSA9PiBlLCAoKSA9PiAwKSwNCiAgICAgIGF1dG9SZWFsaXR5Rm9yRmlsdGVyOiBwbGF5ZXIub3B0aW9ucy5hdXRvUmVhbGl0eUZvckZpbHRlciwNCiAgICB9Ow0KICB9LA0KICBjb21wdXRlZDogew0KICAgIG1vZGVzKCkgew0KICAgICAgcmV0dXJuIEFVVE9fR0xZUEhfU0NPUkU7DQogICAgfSwNCiAgICBnbHlwaFR5cGVzKCkgew0KICAgICAgcmV0dXJuIEdseXBoVHlwZXMubGlzdC5maWx0ZXIoZSA9PiAhdGhpcy5sb2NrZWRUeXBlcy5pbmNsdWRlcyhlLmlkKSk7DQogICAgfSwNCiAgICByYXJpdHlTbGlkZXJQcm9wcygpIHsNCiAgICAgIHJldHVybiB7DQogICAgICAgIG1pbjogMCwNCiAgICAgICAgbWF4OiAxMDAsDQogICAgICAgIHdpZHRoOiAiMThyZW0iLA0KICAgICAgICB2YWx1ZUluRG90OiB0cnVlLA0KICAgICAgICB0b29sdGlwOiAibmV2ZXIiLA0KICAgICAgICAiZG90LXdpZHRoIjogIjIuMnJlbSIsDQogICAgICAgICJkb3QtaGVpZ2h0IjogIjEuNnJlbSIsDQogICAgICAgICJkb3QtY2xhc3MiOiAiYy1nbHlwaC1zYWNyaWZpY2Utb3B0aW9uc19fcmFyaXR5LXNsaWRlci1oYW5kbGUiLA0KICAgICAgICAiYmctY2xhc3MiOiAiYy1nbHlwaC1zYWNyaWZpY2Utb3B0aW9uc19fcmFyaXR5LXNsaWRlci1iZyIsDQogICAgICAgICJwcm9jZXNzLWNsYXNzIjogImMtZ2x5cGgtc2FjcmlmaWNlLW9wdGlvbnNfX3Jhcml0eS1zbGlkZXItcHJvY2VzcyIsDQogICAgICAgIHN0eWxlOiB7DQogICAgICAgICAgIm1hcmdpbi1sZWZ0IjogIjFyZW0iLA0KICAgICAgICB9DQogICAgICB9Ow0KICAgIH0sDQogICAgZ2x5cGhJY29uUHJvcHMoKSB7DQogICAgICByZXR1cm4gew0KICAgICAgICBzaXplOiAiM3JlbSIsDQogICAgICAgICJnbG93LWJsdXIiOiAiMC4zcmVtIiwNCiAgICAgICAgImdsb3ctc3ByZWFkIjogIjAuMXJlbSIsDQogICAgICAgICJ0ZXh0LXByb3BvcnRpb24iOiAwLjY2DQogICAgICB9Ow0KICAgIH0sDQogICAgcXVlc3Rpb25tYXJrVG9vbHRpcCgpIHsNCiAgICAgIHJldHVybiBgQWxsIEdseXBoIGNob2ljZXMgYXJlIGdpdmVuIGEgc2NvcmUgYW5kIGNvbXBhcmVkIHRvIGEgdGhyZXNob2xkIGJhc2VkIG9uIHRoZSBjaG9zZW4gbW9kZS4gDQogICAgICAgIFRoZSBHbHlwaCB3aXRoIHRoZSBoaWdoZXN0IHNjb3JlIGlzIHBpY2tlZCwgYnV0IHdpbGwgc3RpbGwgYmUgU2FjcmlmaWNlZCBpZiBiZWxvdyB0aGUgdGhyZXNob2xkLg0KICAgICAgICAoY2xpY2sgZm9yIG1vcmUgZGV0YWlsKWA7DQogICAgfSwNCiAgICBhdXRvUmVhbGl0eVRvb2x0aXAoKSB7DQogICAgICByZXR1cm4gYElmIEF1dG8tUmVhbGl0eSBpcyBvbiwgaWdub3JlIGFsbCBvdGhlciBzZXR0aW5ncyBhbmQgaW1tZWRpYXRlbHkgUmVhbGl0eSBpZiBubyB1cGNvbWluZw0KICAgICAgICBHbHlwaHMgd291bGQgYmUga2VwdGA7DQogICAgfSwNCiAgICB1bmxvY2tlZE1vZGVzKCkgew0KICAgICAgcmV0dXJuIE9iamVjdC52YWx1ZXModGhpcy5tb2RlcykuZmlsdGVyKGlkeCA9PiB0aGlzLmlzVW5sb2NrZWQoaWR4KSk7DQogICAgfQ0KICB9LA0KICBtZXRob2RzOiB7DQogICAgdXBkYXRlKCkgew0KICAgICAgdGhpcy5lZmZlY3RDb3VudCA9IHBsYXllci5yZWFsaXR5LmdseXBocy5maWx0ZXIuc2ltcGxlOw0KICAgICAgdGhpcy5tb2RlID0gQXV0b0dseXBoUHJvY2Vzc29yLnNjb3JlTW9kZTsNCiAgICAgIGZvciAoY29uc3QgdHlwZSBvZiBnZW5lcmF0ZWRUeXBlcykgew0KICAgICAgICB0aGlzLnJhcml0eVRocmVzaG9sZHNbdHlwZV0gPSBBdXRvR2x5cGhQcm9jZXNzb3IudHlwZXNbdHlwZV0ucmFyaXR5Ow0KICAgICAgfQ0KICAgICAgdGhpcy5sb2NrZWRUeXBlcyA9IEdseXBoVHlwZXMubG9ja2VkLm1hcChlID0+IGUuaWQpOw0KICAgICAgdGhpcy5hbGNoZW15VW5sb2NrZWQgPSBSYS51bmxvY2tzLnVubG9ja0dseXBoQWxjaGVteS5jYW5CZUFwcGxpZWQ7DQogICAgfSwNCiAgICBvcHRpb25DbGFzcyhpZHgpIHsNCiAgICAgIGNvbnN0IGljb24gPSB0aGlzLm1vZGVJY29uKGlkeCk7DQogICAgICByZXR1cm4gWw0KICAgICAgICAiYy1nbHlwaC1zYWNyaWZpY2Utb3B0aW9uc19fb3B0aW9uIiwNCiAgICAgICAgaWR4ID09PSB0aGlzLm1vZGUNCiAgICAgICAgICA/ICJjLWdseXBoLXNhY3JpZmljZS1vcHRpb25zX19vcHRpb24tLWFjdGl2ZSINCiAgICAgICAgICA6ICJjLWdseXBoLXNhY3JpZmljZS1vcHRpb25zX19vcHRpb24tLWluYWN0aXZlIiwNCiAgICAgICAgaWNvbg0KICAgICAgXTsNCiAgICB9LA0KICAgIG1vZGVJY29uKGlkeCkgew0KICAgICAgc3dpdGNoIChpZHgpIHsNCiAgICAgICAgY2FzZSB0aGlzLm1vZGVzLkxPV0VTVF9TQUNSSUZJQ0U6DQogICAgICAgICAgcmV0dXJuICJmYXMgZmEtYnVybiI7DQogICAgICAgIGNhc2UgdGhpcy5tb2Rlcy5FRkZFQ1RfQ09VTlQ6DQogICAgICAgICAgcmV0dXJuICJmYXMgZmEtbGlzdC11bCI7DQogICAgICAgIGNhc2UgdGhpcy5tb2Rlcy5SQVJJVFlfVEhSRVNIT0xEOg0KICAgICAgICAgIHJldHVybiAiZmFzIGZhLWdlbSI7DQogICAgICAgIGNhc2UgdGhpcy5tb2Rlcy5TUEVDSUZJRURfRUZGRUNUOg0KICAgICAgICAgIHJldHVybiAiZmFzIGZhLXRhc2tzIjsNCiAgICAgICAgY2FzZSB0aGlzLm1vZGVzLkVGRkVDVF9TQ09SRToNCiAgICAgICAgICByZXR1cm4gImZhcyBmYS1saXN0LW9sIjsNCiAgICAgICAgY2FzZSB0aGlzLm1vZGVzLkxPV0VTVF9BTENIRU1ZOg0KICAgICAgICAgIHJldHVybiAiZmFzIGZhLWF0b20iOw0KICAgICAgICBjYXNlIHRoaXMubW9kZXMuQUxDSEVNWV9WQUxVRToNCiAgICAgICAgICByZXR1cm4gImZhcyBmYS1mbGFzayI7DQogICAgICAgIGRlZmF1bHQ6DQogICAgICAgICAgdGhyb3cgRXJyb3IoIlVucmVjb2duaXplZCBnbHlwaCBmaWx0ZXIgbW9kZSIpOw0KICAgICAgfQ0KICAgIH0sDQogICAgc3RyZW5ndGhUaHJlc2hvbGQodHlwZSkgew0KICAgICAgcmV0dXJuIHJhcml0eVRvU3RyZW5ndGgodGhpcy5yYXJpdHlUaHJlc2hvbGRzW3R5cGVdKTsNCiAgICB9LA0KICAgIGFkdmFuY2VkVHlwZVNlbGVjdFN0eWxlKHR5cGUpIHsNCiAgICAgIGNvbnN0IGNvbG9yID0gR2x5cGhBcHBlYXJhbmNlSGFuZGxlci5nZXRCb3JkZXJDb2xvcih0eXBlLmlkKTsNCiAgICAgIHJldHVybiB0eXBlLmlkID09PSB0aGlzLmFkdmFuY2VkVHlwZSA/IHsNCiAgICAgICAgY29sb3IsDQogICAgICAgICJ0ZXh0LXNoYWRvdyI6IGAwIDAgMC4yNXJlbSAke2NvbG9yfSwgMCAwIDAuNXJlbSAke2NvbG9yfSwgMCAwIDAuNzVyZW0gJHtjb2xvcn0sIDAgMCAxcmVtICR7Y29sb3J9YCwNCiAgICAgIH0gOiB7fTsNCiAgICB9LA0KICAgIHNldE1vZGUobSkgew0KICAgICAgQXV0b0dseXBoUHJvY2Vzc29yLnNjb3JlTW9kZSA9IG07DQogICAgICBwbGF5ZXIucmVhbGl0eS5oYXNDaGVja2VkRmlsdGVyID0gZmFsc2U7DQogICAgfSwNCiAgICBzZXRSYXJpdHlUaHJlc2hvbGQoaWQsIHZhbHVlKSB7DQogICAgICBBdXRvR2x5cGhQcm9jZXNzb3IudHlwZXNbaWRdLnJhcml0eSA9IHZhbHVlOw0KICAgIH0sDQogICAgc2V0RWZmZWN0Q291bnQoZXZlbnQpIHsNCiAgICAgIGNvbnN0IGlucHV0VmFsdWUgPSBldmVudC50YXJnZXQudmFsdWU7DQogICAgICBpZiAoIWlzTmFOKGlucHV0VmFsdWUpKSB7DQogICAgICAgIHRoaXMuZWZmZWN0Q291bnQgPSBNYXRoLmNsYW1wKGlucHV0VmFsdWUsIDAsIDgpOw0KICAgICAgICBwbGF5ZXIucmVhbGl0eS5nbHlwaHMuZmlsdGVyLnNpbXBsZSA9IHRoaXMuZWZmZWN0Q291bnQ7DQogICAgICB9DQogICAgfSwNCiAgICBmaWx0ZXJNb2RlKGluZGV4KSB7DQogICAgICByZXR1cm4gQXV0b0dseXBoUHJvY2Vzc29yLmZpbHRlck1vZGVOYW1lKGluZGV4KTsNCiAgICB9LA0KICAgIGlzVW5sb2NrZWQoaW5kZXgpIHsNCiAgICAgIHN3aXRjaCAoaW5kZXgpIHsNCiAgICAgICAgY2FzZSB0aGlzLm1vZGVzLkxPV0VTVF9TQUNSSUZJQ0U6DQogICAgICAgIGNhc2UgdGhpcy5tb2Rlcy5FRkZFQ1RfQ09VTlQ6DQogICAgICAgIGNhc2UgdGhpcy5tb2Rlcy5SQVJJVFlfVEhSRVNIT0xEOg0KICAgICAgICBjYXNlIHRoaXMubW9kZXMuU1BFQ0lGSUVEX0VGRkVDVDoNCiAgICAgICAgY2FzZSB0aGlzLm1vZGVzLkVGRkVDVF9TQ09SRToNCiAgICAgICAgICByZXR1cm4gdHJ1ZTsNCiAgICAgICAgY2FzZSB0aGlzLm1vZGVzLkxPV0VTVF9BTENIRU1ZOg0KICAgICAgICBjYXNlIHRoaXMubW9kZXMuQUxDSEVNWV9WQUxVRToNCiAgICAgICAgICByZXR1cm4gdGhpcy5hbGNoZW15VW5sb2NrZWQ7DQogICAgICAgIGRlZmF1bHQ6DQogICAgICAgICAgdGhyb3cgRXJyb3IoIlVucmVjb2duaXplZCBnbHlwaCBmaWx0ZXIgbW9kZSIpOw0KICAgICAgfQ0KICAgIH0sDQogICAgLy8gQ2xpY2tpbmcgYnVtcHMgdGhlIHJhcml0eSBvdmVyIHRvIGFkamFjZW50IHRocmVzaG9sZHMgYmV0d2VlbiByYXJpdGllczsgbm9ybWFsIGNsaWNrcyBtb3ZlIHRvIHRoZSBoaWdoZXIgb25lDQogICAgLy8gYW5kIHNoaWZ0LWNsaWNrcyBtb3ZlIHRvIHRoZSBsb3dlciBvbmUuIFRoZXJlIGlzIGEgbG9vcC1hcm91bmQgdGhhdCBtYWtlcyAxMDAgZ28gdG8gMCBuZXh0IGFuZCB2aWNlIHZlcnNhDQogICAgYnVtcFJhcml0eSh0eXBlKSB7DQogICAgICBjb25zdCByYXJpdHlUaHJlc2hvbGRzID0gR2x5cGhSYXJpdGllcy5tYXAociA9PiBzdHJlbmd0aFRvUmFyaXR5KHIubWluU3RyZW5ndGgpKTsNCiAgICAgIGxldCBuZXdSYXJpdHk7DQogICAgICBpZiAodWkudmlldy5zaGlmdERvd24pIHsNCiAgICAgICAgY29uc3QgbG93ZXIgPSByYXJpdHlUaHJlc2hvbGRzLmZpbHRlcihzID0+IHMgPCB0aGlzLnJhcml0eVRocmVzaG9sZHNbdHlwZV0pOw0KICAgICAgICBuZXdSYXJpdHkgPSBsb3dlci5sZW5ndGggPT09IDAgPyAxMDAgOiBsb3dlci5tYXgoKTsNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIC8vIE5vdGU6IEFzIHRoZSBtaW5pbXVtIG9mIGFuIGVtcHR5IGFycmF5IGlzIHplcm8sIHRoaXMgd3JhcHMgYXJvdW5kIHRvIDAlIGFnYWluIGlmIGNsaWNrZWQgYXQgMTAwJSByYXJpdHkNCiAgICAgICAgbmV3UmFyaXR5ID0gcmFyaXR5VGhyZXNob2xkcy5maWx0ZXIocyA9PiBzID4gdGhpcy5yYXJpdHlUaHJlc2hvbGRzW3R5cGVdKS5taW4oKTsNCiAgICAgIH0NCiAgICAgIHRoaXMuc2V0UmFyaXR5VGhyZXNob2xkKHR5cGUsIG5ld1Jhcml0eSk7DQogICAgfSwNCiAgICBzaG93RmlsdGVySG93VG8oKSB7DQogICAgICB1aS52aWV3LmgycEZvcmNlZFRhYiA9IEdhbWVEYXRhYmFzZS5oMnAudGFicy5maWx0ZXIodGFiID0+IHRhYi5uYW1lID09PSAiQWR2YW5jZWQgR2x5cGggTWVjaGFuaWNzIilbMF07DQogICAgICBNb2RhbC5oMnAuc2hvdygpOw0KICAgIH0sDQogICAgZ2V0U3ltYm9sKHR5cGUpIHsNCiAgICAgIHJldHVybiBDb3NtZXRpY0dseXBoVHlwZXNbdHlwZV0uY3VycmVudFN5bWJvbC5zeW1ib2w7DQogICAgfSwNCiAgICB0b2dnbGVBdXRvUmVhbGl0eSgpIHsNCiAgICAgIHBsYXllci5vcHRpb25zLmF1dG9SZWFsaXR5Rm9yRmlsdGVyID0gIXBsYXllci5vcHRpb25zLmF1dG9SZWFsaXR5Rm9yRmlsdGVyOw0KICAgICAgdGhpcy5hdXRvUmVhbGl0eUZvckZpbHRlciA9IHBsYXllci5vcHRpb25zLmF1dG9SZWFsaXR5Rm9yRmlsdGVyOw0KICAgICAgcGxheWVyLnJlYWxpdHkuaGFzQ2hlY2tlZEZpbHRlciA9IGZhbHNlOw0KICAgIH0sDQogICAgZXhwb3J0RmlsdGVyU2V0dGluZ3MoKSB7DQogICAgICBjb25zdCBmaWx0ZXIgPSBwbGF5ZXIucmVhbGl0eS5nbHlwaHMuZmlsdGVyOw0KICAgICAgY29uc3Qgc2VyaWFsaXplVHlwZSA9IHNldHRpbmdzID0+IFtzZXR0aW5ncy5yYXJpdHksIHNldHRpbmdzLnNjb3JlLCBzZXR0aW5ncy5lZmZlY3RDb3VudCwNCiAgICAgICAgc2V0dGluZ3Muc3BlY2lmaWVkTWFzaywgc2V0dGluZ3MuZWZmZWN0U2NvcmVzLmpvaW4oIi8iKV0uam9pbigiLCIpOw0KICAgICAgY29uc3Qgc2ltcGxlRGF0YSA9IFtmaWx0ZXIuc2VsZWN0LCBmaWx0ZXIuc2ltcGxlLCBmaWx0ZXIudHJhc2hdLmpvaW4oInwiKTsNCiAgICAgIGNvbnN0IHR5cGVEYXRhID0gQUxDSEVNWV9CQVNJQ19HTFlQSF9UWVBFUy5tYXAodCA9PiBzZXJpYWxpemVUeXBlKGZpbHRlci50eXBlc1t0XSkpLmpvaW4oInwiKTsNCiAgICAgIGNvcHlUb0NsaXBib2FyZChHYW1lU2F2ZVNlcmlhbGl6ZXIuZW5jb2RlVGV4dChgJHtzaW1wbGVEYXRhfXwke3R5cGVEYXRhfWAsICJnbHlwaCBmaWx0ZXIiKSk7DQogICAgICBHYW1lVUkubm90aWZ5LmluZm8oIkZpbHRlciBzZXR0aW5ncyBjb3BpZWQgdG8gY2xpcGJvYXJkIik7DQogICAgfSwNCiAgICBpbXBvcnRGaWx0ZXJTZXR0aW5ncygpIHsNCiAgICAgIE1vZGFsLmltcG9ydEZpbHRlci5zaG93KCk7DQogICAgfSwNCiAgfQ0KfTsNCg=="},{"version":3,"sources":["GlyphFilterPanel.vue"],"names":[],"mappings":";AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"GlyphFilterPanel.vue","sourceRoot":"src/components/tabs/glyphs/sidebar","sourcesContent":["<script>\r\nimport AutoSacrificeAdvancedTab from \"./AutoSacrificeAdvancedTab\";\r\nimport AutoSacrificeEffectTab from \"./AutoSacrificeEffectTab\";\r\nimport GlyphComponent from \"@/components/GlyphComponent\";\r\nimport SliderComponent from \"@/components/SliderComponent\";\r\n\r\nexport default {\r\n  name: \"GlyphFilterPanel\",\r\n  components: {\r\n    AutoSacrificeEffectTab,\r\n    AutoSacrificeAdvancedTab,\r\n    SliderComponent,\r\n    GlyphComponent\r\n  },\r\n  data() {\r\n    return {\r\n      mode: AUTO_GLYPH_SCORE.LOWEST_SACRIFICE,\r\n      effectCount: 0,\r\n      lockedTypes: GlyphTypes.locked.map(e => e.id),\r\n      advancedType: GLYPH_TYPES[0],\r\n      alchemyUnlocked: false,\r\n      // Note: there are two units at play: strength is from 1..3.5+; rarity is 0..100\r\n      rarityThresholds: GLYPH_TYPES.mapToObject(e => e, () => 0),\r\n      autoRealityForFilter: player.options.autoRealityForFilter,\r\n    };\r\n  },\r\n  computed: {\r\n    modes() {\r\n      return AUTO_GLYPH_SCORE;\r\n    },\r\n    glyphTypes() {\r\n      return GlyphTypes.list.filter(e => !this.lockedTypes.includes(e.id));\r\n    },\r\n    raritySliderProps() {\r\n      return {\r\n        min: 0,\r\n        max: 100,\r\n        width: \"18rem\",\r\n        valueInDot: true,\r\n        tooltip: \"never\",\r\n        \"dot-width\": \"2.2rem\",\r\n        \"dot-height\": \"1.6rem\",\r\n        \"dot-class\": \"c-glyph-sacrifice-options__rarity-slider-handle\",\r\n        \"bg-class\": \"c-glyph-sacrifice-options__rarity-slider-bg\",\r\n        \"process-class\": \"c-glyph-sacrifice-options__rarity-slider-process\",\r\n        style: {\r\n          \"margin-left\": \"1rem\",\r\n        }\r\n      };\r\n    },\r\n    glyphIconProps() {\r\n      return {\r\n        size: \"3rem\",\r\n        \"glow-blur\": \"0.3rem\",\r\n        \"glow-spread\": \"0.1rem\",\r\n        \"text-proportion\": 0.66\r\n      };\r\n    },\r\n    questionmarkTooltip() {\r\n      return `All Glyph choices are given a score and compared to a threshold based on the chosen mode. \r\n        The Glyph with the highest score is picked, but will still be Sacrificed if below the threshold.\r\n        (click for more detail)`;\r\n    },\r\n    autoRealityTooltip() {\r\n      return `If Auto-Reality is on, ignore all other settings and immediately Reality if no upcoming\r\n        Glyphs would be kept`;\r\n    },\r\n    unlockedModes() {\r\n      return Object.values(this.modes).filter(idx => this.isUnlocked(idx));\r\n    }\r\n  },\r\n  methods: {\r\n    update() {\r\n      this.effectCount = player.reality.glyphs.filter.simple;\r\n      this.mode = AutoGlyphProcessor.scoreMode;\r\n      for (const type of generatedTypes) {\r\n        this.rarityThresholds[type] = AutoGlyphProcessor.types[type].rarity;\r\n      }\r\n      this.lockedTypes = GlyphTypes.locked.map(e => e.id);\r\n      this.alchemyUnlocked = Ra.unlocks.unlockGlyphAlchemy.canBeApplied;\r\n    },\r\n    optionClass(idx) {\r\n      const icon = this.modeIcon(idx);\r\n      return [\r\n        \"c-glyph-sacrifice-options__option\",\r\n        idx === this.mode\r\n          ? \"c-glyph-sacrifice-options__option--active\"\r\n          : \"c-glyph-sacrifice-options__option--inactive\",\r\n        icon\r\n      ];\r\n    },\r\n    modeIcon(idx) {\r\n      switch (idx) {\r\n        case this.modes.LOWEST_SACRIFICE:\r\n          return \"fas fa-burn\";\r\n        case this.modes.EFFECT_COUNT:\r\n          return \"fas fa-list-ul\";\r\n        case this.modes.RARITY_THRESHOLD:\r\n          return \"fas fa-gem\";\r\n        case this.modes.SPECIFIED_EFFECT:\r\n          return \"fas fa-tasks\";\r\n        case this.modes.EFFECT_SCORE:\r\n          return \"fas fa-list-ol\";\r\n        case this.modes.LOWEST_ALCHEMY:\r\n          return \"fas fa-atom\";\r\n        case this.modes.ALCHEMY_VALUE:\r\n          return \"fas fa-flask\";\r\n        default:\r\n          throw Error(\"Unrecognized glyph filter mode\");\r\n      }\r\n    },\r\n    strengthThreshold(type) {\r\n      return rarityToStrength(this.rarityThresholds[type]);\r\n    },\r\n    advancedTypeSelectStyle(type) {\r\n      const color = GlyphAppearanceHandler.getBorderColor(type.id);\r\n      return type.id === this.advancedType ? {\r\n        color,\r\n        \"text-shadow\": `0 0 0.25rem ${color}, 0 0 0.5rem ${color}, 0 0 0.75rem ${color}, 0 0 1rem ${color}`,\r\n      } : {};\r\n    },\r\n    setMode(m) {\r\n      AutoGlyphProcessor.scoreMode = m;\r\n      player.reality.hasCheckedFilter = false;\r\n    },\r\n    setRarityThreshold(id, value) {\r\n      AutoGlyphProcessor.types[id].rarity = value;\r\n    },\r\n    setEffectCount(event) {\r\n      const inputValue = event.target.value;\r\n      if (!isNaN(inputValue)) {\r\n        this.effectCount = Math.clamp(inputValue, 0, 8);\r\n        player.reality.glyphs.filter.simple = this.effectCount;\r\n      }\r\n    },\r\n    filterMode(index) {\r\n      return AutoGlyphProcessor.filterModeName(index);\r\n    },\r\n    isUnlocked(index) {\r\n      switch (index) {\r\n        case this.modes.LOWEST_SACRIFICE:\r\n        case this.modes.EFFECT_COUNT:\r\n        case this.modes.RARITY_THRESHOLD:\r\n        case this.modes.SPECIFIED_EFFECT:\r\n        case this.modes.EFFECT_SCORE:\r\n          return true;\r\n        case this.modes.LOWEST_ALCHEMY:\r\n        case this.modes.ALCHEMY_VALUE:\r\n          return this.alchemyUnlocked;\r\n        default:\r\n          throw Error(\"Unrecognized glyph filter mode\");\r\n      }\r\n    },\r\n    // Clicking bumps the rarity over to adjacent thresholds between rarities; normal clicks move to the higher one\r\n    // and shift-clicks move to the lower one. There is a loop-around that makes 100 go to 0 next and vice versa\r\n    bumpRarity(type) {\r\n      const rarityThresholds = GlyphRarities.map(r => strengthToRarity(r.minStrength));\r\n      let newRarity;\r\n      if (ui.view.shiftDown) {\r\n        const lower = rarityThresholds.filter(s => s < this.rarityThresholds[type]);\r\n        newRarity = lower.length === 0 ? 100 : lower.max();\r\n      } else {\r\n        // Note: As the minimum of an empty array is zero, this wraps around to 0% again if clicked at 100% rarity\r\n        newRarity = rarityThresholds.filter(s => s > this.rarityThresholds[type]).min();\r\n      }\r\n      this.setRarityThreshold(type, newRarity);\r\n    },\r\n    showFilterHowTo() {\r\n      ui.view.h2pForcedTab = GameDatabase.h2p.tabs.filter(tab => tab.name === \"Advanced Glyph Mechanics\")[0];\r\n      Modal.h2p.show();\r\n    },\r\n    getSymbol(type) {\r\n      return CosmeticGlyphTypes[type].currentSymbol.symbol;\r\n    },\r\n    toggleAutoReality() {\r\n      player.options.autoRealityForFilter = !player.options.autoRealityForFilter;\r\n      this.autoRealityForFilter = player.options.autoRealityForFilter;\r\n      player.reality.hasCheckedFilter = false;\r\n    },\r\n    exportFilterSettings() {\r\n      const filter = player.reality.glyphs.filter;\r\n      const serializeType = settings => [settings.rarity, settings.score, settings.effectCount,\r\n        settings.specifiedMask, settings.effectScores.join(\"/\")].join(\",\");\r\n      const simpleData = [filter.select, filter.simple, filter.trash].join(\"|\");\r\n      const typeData = ALCHEMY_BASIC_GLYPH_TYPES.map(t => serializeType(filter.types[t])).join(\"|\");\r\n      copyToClipboard(GameSaveSerializer.encodeText(`${simpleData}|${typeData}`, \"glyph filter\"));\r\n      GameUI.notify.info(\"Filter settings copied to clipboard\");\r\n    },\r\n    importFilterSettings() {\r\n      Modal.importFilter.show();\r\n    },\r\n  }\r\n};\r\n</script>\r\n\r\n<template>\r\n  <div class=\"l-glyph-sacrifice-options c-glyph-sacrifice-options l-glyph-sidebar-panel-size\">\r\n    <div class=\"c-glyph-sacrifice-options c-glyph-sacrifice-options-container\">\r\n      <div class=\"c-filter-extra-btns c-top-left\">\r\n        <i\r\n          v-tooltip=\"'Export filter settings'\"\r\n          class=\"fas fa-file-export l-top-left-btn\"\r\n          @click=\"exportFilterSettings\"\r\n        />\r\n        <i\r\n          v-tooltip=\"'Import filter settings'\"\r\n          class=\"fas fa-file-import l-top-left-btn\"\r\n          @click=\"importFilterSettings\"\r\n        />\r\n      </div>\r\n      <div class=\"c-filter-extra-btns c-top-right\">\r\n        <i\r\n          v-tooltip=\"autoRealityTooltip\"\r\n          class=\"fas fa-recycle l-top-right-btn\"\r\n          :class=\"{ 'o-quick-reality' : autoRealityForFilter }\"\r\n          @click=\"toggleAutoReality\"\r\n        />\r\n        <i\r\n          v-tooltip=\"questionmarkTooltip\"\r\n          class=\"fas fa-question-circle l-top-right-btn o-borderless\"\r\n          @click=\"showFilterHowTo\"\r\n        />\r\n      </div>\r\n      Current Filter Mode:\r\n      <br>\r\n      {{ filterMode(mode) }}\r\n      <br>\r\n      <div class=\"c-glyph-filter-mode-container\">\r\n        <div\r\n          v-for=\"index in unlockedModes\"\r\n          :key=\"index\"\r\n          :class=\"optionClass(index)\"\r\n          @click=\"setMode(index)\"\r\n        >\r\n          <div class=\"c-glyph-sacrifice-options__option__tooltip\">\r\n            {{ filterMode(index) }}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div\r\n      v-if=\"mode === modes.LOWEST_SACRIFICE\"\r\n      class=\"c-glyph-sacrifice-options__advanced\"\r\n    >\r\n      <br>\r\n      Glyph score is assigned based on type. Priority is given to Glyphs belonging to the type of which you have\r\n      the least total Glyph Sacrifice value.\r\n      <br>\r\n      <br>\r\n      This mode never keeps Glyphs, but will instead always sacrifice the Glyph it chooses.\r\n    </div>\r\n    <div\r\n      v-if=\"mode === modes.EFFECT_COUNT\"\r\n      class=\" c-glyph-sacrifice-options__advanced\"\r\n    >\r\n      <br>\r\n      Glyphs must have at least\r\n      <input\r\n        ref=\"effectCount\"\r\n        type=\"number\"\r\n        min=\"0\"\r\n        max=\"8\"\r\n        class=\"c-auto-sac-effect-tab__input\"\r\n        :value=\"effectCount\"\r\n        @blur=\"setEffectCount\"\r\n      >\r\n      effects to be chosen. Rarer Glyphs are preferred in ties.\r\n    </div>\r\n    <div\r\n      v-if=\"mode === modes.RARITY_THRESHOLD\"\r\n      class=\"l-glyph-sacrifice-options__rarity-sliders\"\r\n    >\r\n      <span class=\"c-glyph-sacrifice-options__advanced\">\r\n        Any Glyphs with rarity below these thresholds will be sacrificed.\r\n      </span>\r\n      <div\r\n        v-for=\"type in glyphTypes\"\r\n        :key=\"type.id\"\r\n        class=\"l-glyph-sacrifice-options__rarity-slider-div\"\r\n      >\r\n        <span @click=\"bumpRarity(type.id)\">\r\n          <GlyphComponent\r\n            :glyph=\"{type: type.id, strength: strengthThreshold(type.id) }\"\r\n            v-bind=\"glyphIconProps\"\r\n            class=\"o-clickable\"\r\n          />\r\n        </span>\r\n        <SliderComponent\r\n          v-bind=\"raritySliderProps\"\r\n          :value=\"rarityThresholds[type.id]\"\r\n          :width=\"'100%'\"\r\n          @input=\"setRarityThreshold(type.id, $event)\"\r\n        />\r\n      </div>\r\n    </div>\r\n    <div\r\n      v-if=\"mode === modes.SPECIFIED_EFFECT\"\r\n      class=\"c-glyph-sacrifice-options__advanced\"\r\n    >\r\n      <div>\r\n        Glyph Type:\r\n        <span\r\n          v-for=\"type in glyphTypes\"\r\n          :key=\"type.id\"\r\n          v-tooltip=\"type.id.capitalize()\"\r\n          class=\"l-glyph-sacrifice-options__advanced-type-select c-glyph-sacrifice-options__advanced-type-select\"\r\n          :style=\"advancedTypeSelectStyle(type)\"\r\n          @click=\"advancedType=type.id\"\r\n        >\r\n          {{ getSymbol(type.id) }}\r\n        </span>\r\n      </div>\r\n      <br>\r\n      <div class=\"l-glyph-sacrifice-options__rarity-slider-div\">\r\n        <span @click=\"bumpRarity(advancedType)\">\r\n          <GlyphComponent\r\n            :glyph=\"{type: advancedType, strength: strengthThreshold(advancedType) }\"\r\n            v-bind=\"glyphIconProps\"\r\n            class=\"o-clickable\"\r\n          />\r\n        </span>\r\n        <SliderComponent\r\n          v-bind=\"raritySliderProps\"\r\n          :value=\"rarityThresholds[advancedType]\"\r\n          :width=\"'100%'\"\r\n          @input=\"setRarityThreshold(advancedType, $event)\"\r\n        />\r\n      </div>\r\n      <template v-for=\"type in glyphTypes\">\r\n        <AutoSacrificeEffectTab\r\n          v-show=\"type.id === advancedType\"\r\n          :key=\"type.id\"\r\n          :glyph-type=\"type.id\"\r\n        />\r\n      </template>\r\n    </div>\r\n    <div\r\n      v-if=\"mode === modes.EFFECT_SCORE\"\r\n      class=\"c-glyph-sacrifice-options__advanced\"\r\n    >\r\n      <div>\r\n        Glyph Type:\r\n        <span\r\n          v-for=\"type in glyphTypes\"\r\n          :key=\"type.id\"\r\n          v-tooltip=\"type.id.capitalize()\"\r\n          class=\"l-glyph-sacrifice-options__advanced-type-select c-glyph-sacrifice-options__advanced-type-select\"\r\n          :style=\"advancedTypeSelectStyle(type)\"\r\n          @click=\"advancedType=type.id\"\r\n        >\r\n          {{ getSymbol(type.id) }}\r\n        </span>\r\n      </div>\r\n      <br>\r\n      <template v-for=\"type in glyphTypes\">\r\n        <AutoSacrificeAdvancedTab\r\n          v-show=\"type.id === advancedType\"\r\n          :key=\"type.id\"\r\n          :glyph-type=\"type.id\"\r\n        />\r\n      </template>\r\n    </div>\r\n    <div\r\n      v-if=\"mode === modes.LOWEST_ALCHEMY\"\r\n      class=\"c-glyph-sacrifice-options__advanced\"\r\n    >\r\n      <br>\r\n      Glyph score is assigned based on current Alchemy Resource totals. Priority is given to the Glyph type with\r\n      the lowest associated alchemy resource total.\r\n      <br>\r\n      <br>\r\n      This mode never keeps Glyphs.\r\n    </div>\r\n    <div\r\n      v-if=\"mode === modes.ALCHEMY_VALUE\"\r\n      class=\"c-glyph-sacrifice-options__advanced\"\r\n    >\r\n      <br>\r\n      Glyphs will be assigned values based on <i>current</i> refinement value, accounting for the type-specific\r\n      resource caps. Priority is given to Glyphs which are worth the most alchemy resources; Glyphs which would\r\n      cause you to hit a cap are effectively worth less.\r\n      <br>\r\n      <br>\r\n      This mode never keeps Glyphs.\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<style scoped>\r\n.o-clickable {\r\n  cursor: pointer;\r\n}\r\n\r\n.c-filter-extra-btns {\r\n  position: absolute;\r\n  display: flex;\r\n  flex-direction: row;\r\n  top: 0;\r\n  z-index: 2;\r\n  font-size: 1.3rem;\r\n}\r\n\r\n.c-top-left {\r\n  right: calc(100% - 6rem);\r\n  color: var(--color-reality-dark);\r\n}\r\n\r\n.c-top-right {\r\n  left: calc(100% - 5rem);\r\n}\r\n\r\n.l-top-left-btn {\r\n  cursor: pointer;\r\n  border: var(--var-border-width, 0.2rem) solid;\r\n  width: 2.5rem;\r\n  margin: 0.5rem 0 0 0.5rem;\r\n  padding: 0.5rem;\r\n}\r\n\r\n.l-top-right-btn {\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  cursor: pointer;\r\n  border: var(--var-border-width, 0.2rem) solid;\r\n  width: 2rem;\r\n  height: 2rem;\r\n  margin: 0.5rem 0.5rem 0 0;\r\n  padding: 0.2rem;\r\n}\r\n\r\n.o-borderless {\r\n  border: none;\r\n}\r\n\r\n.o-quick-reality {\r\n  background: var(--color-good);\r\n}\r\n</style>\r\n"]}]}