{"remainingRequest":"C:\\Games\\ADFasterer\\ADfasterer\\node_modules\\@vue\\vue-loader-v15\\lib\\index.js??vue-loader-options!C:\\Games\\ADFasterer\\ADfasterer\\src\\components\\ui-modes\\prestige-header\\BigCrunchButton.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Games\\ADFasterer\\ADfasterer\\src\\components\\ui-modes\\prestige-header\\BigCrunchButton.vue","mtime":1745241597589},{"path":"C:\\Games\\ADFasterer\\ADfasterer\\node_modules\\babel-loader\\lib\\index.js","mtime":1745242219290},{"path":"C:\\Games\\ADFasterer\\ADfasterer\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1745242214069},{"path":"C:\\Games\\ADFasterer\\ADfasterer\\node_modules\\@vue\\vue-loader-v15\\lib\\index.js","mtime":1745242220175}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICJCaWdDcnVuY2hCdXR0b24iLA0KICBkYXRhKCkgew0KICAgIHJldHVybiB7DQogICAgICBpc1Zpc2libGU6IGZhbHNlLA0KICAgICAgZ2FpbmVkSVA6IG5ldyBEZWNpbWFsKDApLA0KICAgICAgY3VycmVudElQUmF0ZTogbmV3IERlY2ltYWwoMCksDQogICAgICBwZWFrSVBSYXRlOiBuZXcgRGVjaW1hbCgwKSwNCiAgICAgIHBlYWtJUFJhdGVWYWw6IG5ldyBEZWNpbWFsKDApLA0KICAgICAgY3VycmVudElQOiBuZXcgRGVjaW1hbCgwKSwNCiAgICAgIHRlc3NlcmFjdEFmZm9yZGFibGU6IGZhbHNlLA0KICAgICAgY2FuQ3J1bmNoOiBmYWxzZSwNCiAgICAgIGluZmluaXR5R29hbDogbmV3IERlY2ltYWwoMCksDQogICAgICBpbkFudGltYXR0ZXJDaGFsbGVuZ2U6IGZhbHNlLA0KICAgICAgaG92ZXI6IGZhbHNlLA0KICAgICAgaGVhZGVyVGV4dENvbG9yZWQ6IHRydWUsDQogICAgICBjcmVkaXRzQ2xvc2VkOiBmYWxzZSwNCiAgICAgIHNob3dJUFJhdGU6IGZhbHNlLA0KICAgIH07DQogIH0sDQogIGNvbXB1dGVkOiB7DQogICAgYnV0dG9uQ2xhc3NPYmplY3QoKSB7DQogICAgICByZXR1cm4gew0KICAgICAgICAiby1pbmZpbml0eS1idXR0b24tLXVuYXZhaWxhYmxlIjogIXRoaXMuY2FuQ3J1bmNoLA0KICAgICAgICAiby1wZWxsZS1kaXNhYmxlZC1wb2ludGVyIjogdGhpcy5jcmVkaXRzQ2xvc2VkDQogICAgICB9Ow0KICAgIH0sDQogICAgLy8gU2hvdyBJUC9taW4gYmVsb3cgdGhpcyB0aHJlc2hvbGQsIGNvbG9yIHRoZSBJUCBudW1iZXIgYWJvdmUgaXQNCiAgICByYXRlVGhyZXNob2xkOiAoKSA9PiA1ZTExLA0KICAgIGFtb3VudFN0eWxlKCkgew0KICAgICAgaWYgKCF0aGlzLmhlYWRlclRleHRDb2xvcmVkIHx8IHRoaXMuY3VycmVudElQLmx0KHRoaXMucmF0ZVRocmVzaG9sZCkpIHJldHVybiB7DQogICAgICAgICJ0cmFuc2l0aW9uLWR1cmF0aW9uIjogIjBzIg0KICAgICAgfTsNCiAgICAgIGlmICh0aGlzLmhvdmVyKSByZXR1cm4gew0KICAgICAgICBjb2xvcjogImJsYWNrIiwNCiAgICAgICAgInRyYW5zaXRpb24tZHVyYXRpb24iOiAiMC4ycyINCiAgICAgIH07DQoNCiAgICAgIC8vIER5bmFtaWNhbGx5IGdlbmVyYXRlIHJlZC10ZXh0LWdyZWVuIGJhc2VkIG9uIHRoZSBDU1MgZW50cnkgZm9yIHRleHQgY29sb3IsIHJldHVybmluZyBhIHJhdyA2LWRpZ2l0IGhleCBjb2xvcg0KICAgICAgLy8gY29kZS4gc3RlcFJHQiBpcyBhbiBhcnJheSBzcGVjaWZ5aW5nIHRoZSB0aHJlZSBSR0IgY29kZXMsIHdoaWNoIGFyZSB0aGVuIGludGVycG9sYXRlZCBiZXR3ZWVuIGluIG9yZGVyIHRvDQogICAgICAvLyBnZW5lcmF0ZSB0aGUgZmluYWwgY29sb3I7IG9ubHkgcmF0aW9zIGJldHdlZW4gMC45LTEuMSBnaXZlIGEgY29sb3IgZ3JhZGllbnQNCiAgICAgIGNvbnN0IHRleHRIZXhDb2RlID0gZ2V0Q29tcHV0ZWRTdHlsZShkb2N1bWVudC5ib2R5KS5nZXRQcm9wZXJ0eVZhbHVlKCItLWNvbG9yLXRleHQiKS5zcGxpdCgiIyIpWzFdOw0KICAgICAgY29uc3Qgc3RlcFJHQiA9IFsNCiAgICAgICAgWzI1NSwgMCwgMF0sDQogICAgICAgIFsNCiAgICAgICAgICBwYXJzZUludCh0ZXh0SGV4Q29kZS5zdWJzdHJpbmcoMCwgMiksIDE2KSwNCiAgICAgICAgICBwYXJzZUludCh0ZXh0SGV4Q29kZS5zdWJzdHJpbmcoMiwgNCksIDE2KSwNCiAgICAgICAgICBwYXJzZUludCh0ZXh0SGV4Q29kZS5zdWJzdHJpbmcoNCksIDE2KQ0KICAgICAgICBdLA0KICAgICAgICBbMCwgMjU1LCAwXQ0KICAgICAgXTsNCiAgICAgIGNvbnN0IHJhdGlvID0gdGhpcy5nYWluZWRJUC5sb2cxMCgpIC8gdGhpcy5jdXJyZW50SVAubG9nMTAoKTsNCiAgICAgIGNvbnN0IGludGVyRm4gPSBpbmRleCA9PiB7DQogICAgICAgIGlmIChyYXRpbyA8IDAuOSkgcmV0dXJuIHN0ZXBSR0JbMF1baW5kZXhdOw0KICAgICAgICBpZiAocmF0aW8gPCAxKSB7DQogICAgICAgICAgY29uc3QgciA9IDEwICogKHJhdGlvIC0gMC45KTsNCiAgICAgICAgICByZXR1cm4gTWF0aC5yb3VuZChzdGVwUkdCWzBdW2luZGV4XSAqICgxIC0gcikgKyBzdGVwUkdCWzFdW2luZGV4XSAqIHIpOw0KICAgICAgICB9DQogICAgICAgIGlmIChyYXRpbyA8IDEuMSkgew0KICAgICAgICAgIGNvbnN0IHIgPSAxMCAqIChyYXRpbyAtIDEpOw0KICAgICAgICAgIHJldHVybiBNYXRoLnJvdW5kKHN0ZXBSR0JbMV1baW5kZXhdICogKDEgLSByKSArIHN0ZXBSR0JbMl1baW5kZXhdICogcik7DQogICAgICAgIH0NCiAgICAgICAgcmV0dXJuIHN0ZXBSR0JbMl1baW5kZXhdOw0KICAgICAgfTsNCiAgICAgIGNvbnN0IHJnYiA9IFtpbnRlckZuKDApLCBpbnRlckZuKDEpLCBpbnRlckZuKDIpXTsNCiAgICAgIHJldHVybiB7DQogICAgICAgIGNvbG9yOiBgcmdiKCR7cmdiLmpvaW4oIiwiKX0pYCwNCiAgICAgICAgInRyYW5zaXRpb24tZHVyYXRpb24iOiAiMC4ycyINCiAgICAgIH07DQogICAgfSwNCiAgfSwNCiAgbWV0aG9kczogew0KICAgIHVwZGF0ZSgpIHsNCiAgICAgIHRoaXMuaXNWaXNpYmxlID0gcGxheWVyLmJyZWFrOw0KICAgICAgdGhpcy50ZXNzZXJhY3RBZmZvcmRhYmxlID0gVGVzc2VyYWN0cy5jYW5CdXlUZXNzZXJhY3Q7DQogICAgICBpZiAoIXRoaXMuaXNWaXNpYmxlKSByZXR1cm47DQogICAgICB0aGlzLmNhbkNydW5jaCA9IFBsYXllci5jYW5DcnVuY2g7DQogICAgICB0aGlzLmluZmluaXR5R29hbC5jb3B5RnJvbShQbGF5ZXIuaW5maW5pdHlHb2FsKTsNCiAgICAgIHRoaXMuaW5BbnRpbWF0dGVyQ2hhbGxlbmdlID0gUGxheWVyLmlzSW5BbnRpbWF0dGVyQ2hhbGxlbmdlOw0KICAgICAgdGhpcy5oZWFkZXJUZXh0Q29sb3JlZCA9IHBsYXllci5vcHRpb25zLmhlYWRlclRleHRDb2xvcmVkOw0KICAgICAgdGhpcy5jcmVkaXRzQ2xvc2VkID0gR2FtZUVuZC5jcmVkaXRzRXZlckNsb3NlZDsNCg0KICAgICAgY29uc3QgZ2FpbmVkSVAgPSBnYWluZWRJbmZpbml0eVBvaW50cygpOw0KICAgICAgdGhpcy5jdXJyZW50SVAuY29weUZyb20oQ3VycmVuY3kuaW5maW5pdHlQb2ludHMpOw0KICAgICAgdGhpcy5nYWluZWRJUC5jb3B5RnJvbShnYWluZWRJUCk7DQogICAgICB0aGlzLmN1cnJlbnRJUFJhdGUuY29weUZyb20oZ2FpbmVkSVAuZGl2aWRlZEJ5KE1hdGguY2xhbXBNaW4oMC4wMDA1LCBUaW1lLnRoaXNJbmZpbml0eVJlYWxUaW1lLnRvdGFsTWludXRlcykpKTsNCiAgICAgIHRoaXMucGVha0lQUmF0ZS5jb3B5RnJvbShwbGF5ZXIucmVjb3Jkcy50aGlzSW5maW5pdHkuYmVzdElQbWluKTsNCiAgICAgIHRoaXMucGVha0lQUmF0ZVZhbC5jb3B5RnJvbShwbGF5ZXIucmVjb3Jkcy50aGlzSW5maW5pdHkuYmVzdElQbWluVmFsKTsNCiAgICAgIHRoaXMuc2hvd0lQUmF0ZSA9IHRoaXMucGVha0lQUmF0ZS5sdGUodGhpcy5yYXRlVGhyZXNob2xkKTsNCiAgICB9LA0KICAgIHN3aXRjaFRvSW5maW5pdHkoKSB7DQogICAgICBUYWIuZGltZW5zaW9ucy5pbmZpbml0eS5zaG93KHRydWUpOw0KICAgIH0sDQogICAgY3J1bmNoKCkgew0KICAgICAgaWYgKCFQbGF5ZXIuY2FuQ3J1bmNoKSByZXR1cm47DQogICAgICBtYW51YWxCaWdDcnVuY2hSZXNldFJlcXVlc3QoKTsNCiAgICB9DQogIH0sDQp9Ow0K"},{"version":3,"sources":["BigCrunchButton.vue"],"names":[],"mappings":";AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"BigCrunchButton.vue","sourceRoot":"src/components/ui-modes/prestige-header","sourcesContent":["<script>\r\nexport default {\r\n  name: \"BigCrunchButton\",\r\n  data() {\r\n    return {\r\n      isVisible: false,\r\n      gainedIP: new Decimal(0),\r\n      currentIPRate: new Decimal(0),\r\n      peakIPRate: new Decimal(0),\r\n      peakIPRateVal: new Decimal(0),\r\n      currentIP: new Decimal(0),\r\n      tesseractAffordable: false,\r\n      canCrunch: false,\r\n      infinityGoal: new Decimal(0),\r\n      inAntimatterChallenge: false,\r\n      hover: false,\r\n      headerTextColored: true,\r\n      creditsClosed: false,\r\n      showIPRate: false,\r\n    };\r\n  },\r\n  computed: {\r\n    buttonClassObject() {\r\n      return {\r\n        \"o-infinity-button--unavailable\": !this.canCrunch,\r\n        \"o-pelle-disabled-pointer\": this.creditsClosed\r\n      };\r\n    },\r\n    // Show IP/min below this threshold, color the IP number above it\r\n    rateThreshold: () => 5e11,\r\n    amountStyle() {\r\n      if (!this.headerTextColored || this.currentIP.lt(this.rateThreshold)) return {\r\n        \"transition-duration\": \"0s\"\r\n      };\r\n      if (this.hover) return {\r\n        color: \"black\",\r\n        \"transition-duration\": \"0.2s\"\r\n      };\r\n\r\n      // Dynamically generate red-text-green based on the CSS entry for text color, returning a raw 6-digit hex color\r\n      // code. stepRGB is an array specifying the three RGB codes, which are then interpolated between in order to\r\n      // generate the final color; only ratios between 0.9-1.1 give a color gradient\r\n      const textHexCode = getComputedStyle(document.body).getPropertyValue(\"--color-text\").split(\"#\")[1];\r\n      const stepRGB = [\r\n        [255, 0, 0],\r\n        [\r\n          parseInt(textHexCode.substring(0, 2), 16),\r\n          parseInt(textHexCode.substring(2, 4), 16),\r\n          parseInt(textHexCode.substring(4), 16)\r\n        ],\r\n        [0, 255, 0]\r\n      ];\r\n      const ratio = this.gainedIP.log10() / this.currentIP.log10();\r\n      const interFn = index => {\r\n        if (ratio < 0.9) return stepRGB[0][index];\r\n        if (ratio < 1) {\r\n          const r = 10 * (ratio - 0.9);\r\n          return Math.round(stepRGB[0][index] * (1 - r) + stepRGB[1][index] * r);\r\n        }\r\n        if (ratio < 1.1) {\r\n          const r = 10 * (ratio - 1);\r\n          return Math.round(stepRGB[1][index] * (1 - r) + stepRGB[2][index] * r);\r\n        }\r\n        return stepRGB[2][index];\r\n      };\r\n      const rgb = [interFn(0), interFn(1), interFn(2)];\r\n      return {\r\n        color: `rgb(${rgb.join(\",\")})`,\r\n        \"transition-duration\": \"0.2s\"\r\n      };\r\n    },\r\n  },\r\n  methods: {\r\n    update() {\r\n      this.isVisible = player.break;\r\n      this.tesseractAffordable = Tesseracts.canBuyTesseract;\r\n      if (!this.isVisible) return;\r\n      this.canCrunch = Player.canCrunch;\r\n      this.infinityGoal.copyFrom(Player.infinityGoal);\r\n      this.inAntimatterChallenge = Player.isInAntimatterChallenge;\r\n      this.headerTextColored = player.options.headerTextColored;\r\n      this.creditsClosed = GameEnd.creditsEverClosed;\r\n\r\n      const gainedIP = gainedInfinityPoints();\r\n      this.currentIP.copyFrom(Currency.infinityPoints);\r\n      this.gainedIP.copyFrom(gainedIP);\r\n      this.currentIPRate.copyFrom(gainedIP.dividedBy(Math.clampMin(0.0005, Time.thisInfinityRealTime.totalMinutes)));\r\n      this.peakIPRate.copyFrom(player.records.thisInfinity.bestIPmin);\r\n      this.peakIPRateVal.copyFrom(player.records.thisInfinity.bestIPminVal);\r\n      this.showIPRate = this.peakIPRate.lte(this.rateThreshold);\r\n    },\r\n    switchToInfinity() {\r\n      Tab.dimensions.infinity.show(true);\r\n    },\r\n    crunch() {\r\n      if (!Player.canCrunch) return;\r\n      manualBigCrunchResetRequest();\r\n    }\r\n  },\r\n};\r\n</script>\r\n\r\n<template>\r\n  <button\r\n    v-if=\"isVisible && !tesseractAffordable\"\r\n    :class=\"buttonClassObject\"\r\n    class=\"o-prestige-button o-infinity-button\"\r\n    @click=\"crunch\"\r\n    @mouseover=\"hover = true\"\r\n    @mouseleave=\"hover = false\"\r\n  >\r\n    <!-- Cannot Crunch -->\r\n    <template v-if=\"!canCrunch\">\r\n      Reach {{ format(infinityGoal, 2, 2) }}\r\n      <br>\r\n      antimatter\r\n    </template>\r\n\r\n    <!-- Can Crunch in challenge -->\r\n    <template v-else-if=\"inAntimatterChallenge\">\r\n      Big Crunch to\r\n      <br>\r\n      complete the challenge\r\n    </template>\r\n\r\n    <!-- Can Crunch -->\r\n    <template v-else>\r\n      <div v-if=\"!showIPRate\" />\r\n      <b>\r\n        Big Crunch for\r\n        <span :style=\"amountStyle\">{{ format(gainedIP, 2) }}</span>\r\n        <span v-if=\"showIPRate\"> IP</span>\r\n        <span v-else> Infinity {{ pluralize(\"Point\", gainedIP) }}</span>\r\n      </b>\r\n      <template v-if=\"showIPRate\">\r\n        <br>\r\n        Current: {{ format(currentIPRate, 2) }} IP/min\r\n        <br>\r\n        Peak: {{ format(peakIPRate, 2) }} IP/min\r\n        <br>\r\n        at {{ format(peakIPRateVal, 2) }} IP\r\n      </template>\r\n      <div v-else />\r\n    </template>\r\n  </button>\r\n\r\n  <button\r\n    v-else-if=\"tesseractAffordable\"\r\n    class=\"o-prestige-button c-game-header__tesseract-available\"\r\n    :class=\"{ 'o-pelle-disabled-pointer': creditsClosed }\"\r\n    @click=\"switchToInfinity\"\r\n  >\r\n    <b>\r\n      You have enough Infinity Points to buy a Tesseract\r\n    </b>\r\n  </button>\r\n</template>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n"]}]}