{"remainingRequest":"C:\\Games\\ADFasterer\\ADfasterer\\node_modules\\@vue\\vue-loader-v15\\lib\\index.js??vue-loader-options!C:\\Games\\ADFasterer\\ADfasterer\\src\\components\\tabs\\glyphs\\sidebar\\AutoSacrificeAdvancedTab.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Games\\ADFasterer\\ADfasterer\\src\\components\\tabs\\glyphs\\sidebar\\AutoSacrificeAdvancedTab.vue","mtime":1745241597312},{"path":"C:\\Games\\ADFasterer\\ADfasterer\\node_modules\\babel-loader\\lib\\index.js","mtime":1745242219290},{"path":"C:\\Games\\ADFasterer\\ADfasterer\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1745242214069},{"path":"C:\\Games\\ADFasterer\\ADfasterer\\node_modules\\@vue\\vue-loader-v15\\lib\\index.js","mtime":1745242220175}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICJBdXRvU2FjcmlmaWNlQWR2YW5jZWRUYWIiLA0KICBwcm9wczogew0KICAgIGdseXBoVHlwZTogew0KICAgICAgdHlwZTogU3RyaW5nLA0KICAgICAgcmVxdWlyZWQ6IHRydWUNCiAgICB9DQogIH0sDQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIHNjb3JlVGhyZXNob2xkOiAwLA0KICAgICAgZWZmZWN0U2NvcmVzOiB7fSwNCiAgICB9Ow0KICB9LA0KICBjb21wdXRlZDogew0KICAgIHR5cGVDb25maWcoKSB7DQogICAgICByZXR1cm4gR2x5cGhUeXBlc1t0aGlzLmdseXBoVHlwZV07DQogICAgfSwNCiAgICBhdXRvU2FjcmlmaWNlU2V0dGluZ3MoKSB7DQogICAgICByZXR1cm4gQXV0b0dseXBoUHJvY2Vzc29yLnR5cGVzW3RoaXMuZ2x5cGhUeXBlXTsNCiAgICB9LA0KICAgIGVmZmVjdHMoKSB7DQogICAgICByZXR1cm4gdGhpcy50eXBlQ29uZmlnLmVmZmVjdHM7DQogICAgfSwNCiAgICBkZXNjU3R5bGUoKSB7DQogICAgICByZXR1cm4gew0KICAgICAgICAiY29sb3IiOiBHbHlwaEFwcGVhcmFuY2VIYW5kbGVyLmdldEJvcmRlckNvbG9yKHRoaXMuZ2x5cGhUeXBlKSwNCiAgICAgICAgImJvcmRlci1jb2xvciI6IHRoaXMudHlwZUNvbmZpZy5jb2xvcg0KICAgICAgfTsNCiAgICB9LA0KICAgIG1pblNjb3JlSW5wdXRTdHlsZSgpIHsNCiAgICAgIC8vIE92ZXJyaWRlIHNvbWUgcHJvcGVydGllcyBvZiB0aGUgbnVtYmVyIGlucHV0IHRvIG1hdGNoIHJvdyBzdHlsZToNCiAgICAgIHJldHVybiB7DQogICAgICAgICJmb250LXNpemUiOiAibGFyZ2VyIiwNCiAgICAgICAgImJvcmRlci13aWR0aCI6ICJ2YXIoLS12YXItYm9yZGVyLXdpZHRoLCAwLjJyZW0pIiwNCiAgICAgIH07DQogICAgfSwNCiAgICBxdWVzdGlvbm1hcmtUb29sdGlwKCkgew0KICAgICAgcmV0dXJuICJUaGUgc2NvcmUgb2YgYSBHbHlwaCBpcyBpdHMgcmFyaXR5IHBlcmNlbnRhZ2UsIHBsdXMgdGhlIHNwZWNpZmllZCBhbW91bnQgZm9yIGVhY2ggZWZmZWN0IGl0IGhhcy4iOw0KICAgIH0sDQogICAgLy8gVGhpcyBpcyBhbiBhYnNvbHV0ZSB2YWx1ZSBsaW1pdCAoaWUuIGl0J3MgYWxsb3dlZCB0byBnbyBuZWdhdGl2ZSBkb3duIHRvIG5lZ2F0aXZlIHRoaXMgdmFsdWUpDQogICAgd2VpZ2h0SW5wdXRMaW1pdCgpIHsNCiAgICAgIHJldHVybiA5OTk7DQogICAgfSwNCiAgICBpbmRleE9mZnNldCgpIHsNCiAgICAgIHJldHVybiBBdXRvR2x5cGhQcm9jZXNzb3IuYml0bWFza0luZGV4T2Zmc2V0KHRoaXMuZ2x5cGhUeXBlKTsNCiAgICB9DQogIH0sDQogIGNyZWF0ZWQoKSB7DQogICAgdGhpcy5lZmZlY3RTY29yZXMgPSBbLi4uQXV0b0dseXBoUHJvY2Vzc29yLnR5cGVzW3RoaXMuZ2x5cGhUeXBlXS5lZmZlY3RTY29yZXNdOw0KICB9LA0KICBtZXRob2RzOiB7DQogICAgdXBkYXRlKCkgew0KICAgICAgdGhpcy5zY29yZVRocmVzaG9sZCA9IHRoaXMuYXV0b1NhY3JpZmljZVNldHRpbmdzLnNjb3JlOw0KICAgICAgZm9yIChjb25zdCBlIG9mIHRoaXMuZWZmZWN0cykgew0KICAgICAgICBjb25zdCBzaGlmdGVkSW5kZXggPSBlLmJpdG1hc2tJbmRleCAtIHRoaXMuaW5kZXhPZmZzZXQ7DQogICAgICAgIHRoaXMuZWZmZWN0U2NvcmVzW3NoaWZ0ZWRJbmRleF0gPSB0aGlzLmF1dG9TYWNyaWZpY2VTZXR0aW5ncy5lZmZlY3RTY29yZXNbc2hpZnRlZEluZGV4XTsNCiAgICAgIH0NCiAgICB9LA0KICAgIGxpbWl0ZWRJbnB1dChpbnB1dCkgew0KICAgICAgcmV0dXJuIE1hdGguY2xhbXAoaW5wdXQsIC10aGlzLndlaWdodElucHV0TGltaXQsIHRoaXMud2VpZ2h0SW5wdXRMaW1pdCk7DQogICAgfSwNCiAgICBzZXRTY29yZVRocmVzaG9sZChldmVudCkgew0KICAgICAgY29uc3QgaW5wdXRWYWx1ZSA9IGV2ZW50LnRhcmdldC52YWx1ZTsNCiAgICAgIGlmICghaXNOYU4oaW5wdXRWYWx1ZSkpIHsNCiAgICAgICAgdGhpcy5hdXRvU2FjcmlmaWNlU2V0dGluZ3Muc2NvcmUgPSB0aGlzLmxpbWl0ZWRJbnB1dChpbnB1dFZhbHVlKTsNCiAgICAgIH0NCiAgICB9LA0KICAgIHNldEVmZmVjdFNjb3JlKGluZGV4LCBldmVudCkgew0KICAgICAgY29uc3QgaW5wdXRWYWx1ZSA9IGV2ZW50LnRhcmdldC52YWx1ZTsNCiAgICAgIGlmICghaXNOYU4oaW5wdXRWYWx1ZSkpIHsNCiAgICAgICAgdGhpcy5hdXRvU2FjcmlmaWNlU2V0dGluZ3MuZWZmZWN0U2NvcmVzW2luZGV4XSA9IHRoaXMubGltaXRlZElucHV0KGlucHV0VmFsdWUpOw0KICAgICAgfQ0KICAgIH0sDQogIH0NCn07DQo="},{"version":3,"sources":["AutoSacrificeAdvancedTab.vue"],"names":[],"mappings":";AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"AutoSacrificeAdvancedTab.vue","sourceRoot":"src/components/tabs/glyphs/sidebar","sourcesContent":["<script>\r\nexport default {\r\n  name: \"AutoSacrificeAdvancedTab\",\r\n  props: {\r\n    glyphType: {\r\n      type: String,\r\n      required: true\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      scoreThreshold: 0,\r\n      effectScores: {},\r\n    };\r\n  },\r\n  computed: {\r\n    typeConfig() {\r\n      return GlyphTypes[this.glyphType];\r\n    },\r\n    autoSacrificeSettings() {\r\n      return AutoGlyphProcessor.types[this.glyphType];\r\n    },\r\n    effects() {\r\n      return this.typeConfig.effects;\r\n    },\r\n    descStyle() {\r\n      return {\r\n        \"color\": GlyphAppearanceHandler.getBorderColor(this.glyphType),\r\n        \"border-color\": this.typeConfig.color\r\n      };\r\n    },\r\n    minScoreInputStyle() {\r\n      // Override some properties of the number input to match row style:\r\n      return {\r\n        \"font-size\": \"larger\",\r\n        \"border-width\": \"var(--var-border-width, 0.2rem)\",\r\n      };\r\n    },\r\n    questionmarkTooltip() {\r\n      return \"The score of a Glyph is its rarity percentage, plus the specified amount for each effect it has.\";\r\n    },\r\n    // This is an absolute value limit (ie. it's allowed to go negative down to negative this value)\r\n    weightInputLimit() {\r\n      return 999;\r\n    },\r\n    indexOffset() {\r\n      return AutoGlyphProcessor.bitmaskIndexOffset(this.glyphType);\r\n    }\r\n  },\r\n  created() {\r\n    this.effectScores = [...AutoGlyphProcessor.types[this.glyphType].effectScores];\r\n  },\r\n  methods: {\r\n    update() {\r\n      this.scoreThreshold = this.autoSacrificeSettings.score;\r\n      for (const e of this.effects) {\r\n        const shiftedIndex = e.bitmaskIndex - this.indexOffset;\r\n        this.effectScores[shiftedIndex] = this.autoSacrificeSettings.effectScores[shiftedIndex];\r\n      }\r\n    },\r\n    limitedInput(input) {\r\n      return Math.clamp(input, -this.weightInputLimit, this.weightInputLimit);\r\n    },\r\n    setScoreThreshold(event) {\r\n      const inputValue = event.target.value;\r\n      if (!isNaN(inputValue)) {\r\n        this.autoSacrificeSettings.score = this.limitedInput(inputValue);\r\n      }\r\n    },\r\n    setEffectScore(index, event) {\r\n      const inputValue = event.target.value;\r\n      if (!isNaN(inputValue)) {\r\n        this.autoSacrificeSettings.effectScores[index] = this.limitedInput(inputValue);\r\n      }\r\n    },\r\n  }\r\n};\r\n</script>\r\n\r\n<template>\r\n  <div class=\"l-auto-sac-type-tab\">\r\n    <div class=\"l-auto-sac-type-tab__row-wrapper\">\r\n      <div>\r\n        <div\r\n          :ach-tooltip=\"questionmarkTooltip\"\r\n          class=\"o-questionmark\"\r\n        >\r\n          ?\r\n        </div>\r\n        <b> Threshold score</b> (rarity % + effect scores)\r\n      </div>\r\n      <input\r\n        ref=\"scoreThreshold\"\r\n        type=\"number\"\r\n        :min=\"-weightInputLimit\"\r\n        :max=\"weightInputLimit\"\r\n        class=\"c-auto-sac-type-tab__input\"\r\n        :value=\"scoreThreshold\"\r\n        :style=\"minScoreInputStyle\"\r\n        @blur=\"setScoreThreshold\"\r\n      >\r\n    </div>\r\n    <div\r\n      v-for=\"effect in effects\"\r\n      :key=\"effect.id\"\r\n      class=\"l-auto-sac-type-tab__row-wrapper\"\r\n    >\r\n      <div\r\n        class=\"c-auto-sac-type-tab__effect-desc l-auto-sac-type-tab__effect-desc\"\r\n        :style=\"descStyle\"\r\n      >\r\n        {{ effect.genericDesc }}\r\n      </div>\r\n      <input\r\n        type=\"number\"\r\n        :min=\"-weightInputLimit\"\r\n        :max=\"weightInputLimit\"\r\n        class=\"c-auto-sac-type-tab__input\"\r\n        :value=\"effectScores[effect.bitmaskIndex - indexOffset]\"\r\n        @blur=\"setEffectScore(effect.bitmaskIndex - indexOffset, $event)\"\r\n      >\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n"]}]}