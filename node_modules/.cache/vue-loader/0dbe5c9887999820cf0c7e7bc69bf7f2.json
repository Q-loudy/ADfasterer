{"remainingRequest":"C:\\Games\\ADFasterer\\ADfasterer\\node_modules\\@vue\\vue-loader-v15\\lib\\index.js??vue-loader-options!C:\\Games\\ADFasterer\\ADfasterer\\src\\components\\tabs\\eternity-challenges\\EternityChallengeBox.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Games\\ADFasterer\\ADfasterer\\src\\components\\tabs\\eternity-challenges\\EternityChallengeBox.vue","mtime":1745241597270},{"path":"C:\\Games\\ADFasterer\\ADfasterer\\node_modules\\babel-loader\\lib\\index.js","mtime":1745242219290},{"path":"C:\\Games\\ADFasterer\\ADfasterer\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1745242214069},{"path":"C:\\Games\\ADFasterer\\ADfasterer\\node_modules\\@vue\\vue-loader-v15\\lib\\index.js","mtime":1745242220175}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQppbXBvcnQgd29yZFNoaWZ0IGZyb20gIkAvY29yZS93b3JkLXNoaWZ0IjsNCg0KaW1wb3J0IERlc2NyaXB0aW9uRGlzcGxheSBmcm9tICJAL2NvbXBvbmVudHMvRGVzY3JpcHRpb25EaXNwbGF5IjsNCmltcG9ydCBFZmZlY3REaXNwbGF5IGZyb20gIkAvY29tcG9uZW50cy9FZmZlY3REaXNwbGF5IjsNCmltcG9ydCBFdGVybml0eUNoYWxsZW5nZUJveFdyYXBwZXIgZnJvbSAiLi9FdGVybml0eUNoYWxsZW5nZUJveFdyYXBwZXIiOw0KDQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICJFdGVybml0eUNoYWxsZW5nZUJveCIsDQogIGNvbXBvbmVudHM6IHsNCiAgICBFdGVybml0eUNoYWxsZW5nZUJveFdyYXBwZXIsDQogICAgRGVzY3JpcHRpb25EaXNwbGF5LA0KICAgIEVmZmVjdERpc3BsYXkNCiAgfSwNCiAgcHJvcHM6IHsNCiAgICBjaGFsbGVuZ2U6IHsNCiAgICAgIHR5cGU6IE9iamVjdCwNCiAgICAgIHJlcXVpcmVkOiB0cnVlDQogICAgfQ0KICB9LA0KICBkYXRhKCkgew0KICAgIHJldHVybiB7DQogICAgICBpc1VubG9ja2VkOiBmYWxzZSwNCiAgICAgIGlzUnVubmluZzogZmFsc2UsDQogICAgICBpc0NvbXBsZXRlZDogZmFsc2UsDQogICAgICBjYW5CZVVubG9ja2VkOiBmYWxzZSwNCiAgICAgIGNvbXBsZXRpb25zOiAwLA0KICAgICAgc2hvd0dvYWxTcGFuOiBmYWxzZSwNCiAgICAgIGxhc3RHb2FsOiAiIiwNCiAgICB9Ow0KICB9LA0KICBjb21wdXRlZDogew0KICAgIGNvbmZpZygpIHsNCiAgICAgIHJldHVybiB0aGlzLmNoYWxsZW5nZS5jb25maWc7DQogICAgfSwNCiAgICBnb2FsRGlzcGxheSgpIHsNCiAgICAgIGNvbnN0IGNvbmZpZyA9IHRoaXMuY29uZmlnOw0KICAgICAgbGV0IGdvYWwgPSBgR29hbDogJHt0aGlzLmdvYWxBdENvbXBsZXRpb25zKHRoaXMuY29tcGxldGlvbnMpfSBJUGA7DQogICAgICBpZiAoY29uZmlnLnJlc3RyaWN0aW9uKSB7DQogICAgICAgIGdvYWwgKz0gYCAke2NvbmZpZy5mb3JtYXRSZXN0cmljdGlvbihjb25maWcucmVzdHJpY3Rpb24odGhpcy5jb21wbGV0aW9ucykpfWA7DQogICAgICB9DQogICAgICByZXR1cm4gZ29hbDsNCiAgICB9LA0KICAgIGZpcnN0R29hbCgpIHsNCiAgICAgIHJldHVybiB0aGlzLmdvYWxBdENvbXBsZXRpb25zKDApOw0KICAgIH0sDQogICAgY3VycmVudFJld2FyZENvbmZpZygpIHsNCiAgICAgIGNvbnN0IGNoYWxsZW5nZSA9IHRoaXMuY2hhbGxlbmdlOw0KICAgICAgY29uc3QgY29uZmlnID0gdGhpcy5jb25maWcucmV3YXJkOw0KICAgICAgcmV0dXJuIHsNCiAgICAgICAgZWZmZWN0OiAoKSA9PiBjb25maWcuZWZmZWN0KGNoYWxsZW5nZS5jb21wbGV0aW9ucyksDQogICAgICAgIGZvcm1hdEVmZmVjdDogY29uZmlnLmZvcm1hdEVmZmVjdCwNCiAgICAgICAgY2FwOiBjb25maWcuY2FwLA0KICAgICAgfTsNCiAgICB9LA0KICAgIG5leHRSZXdhcmRDb25maWcoKSB7DQogICAgICBjb25zdCBjaGFsbGVuZ2UgPSB0aGlzLmNoYWxsZW5nZTsNCiAgICAgIGNvbnN0IGNvbmZpZyA9IHRoaXMuY29uZmlnLnJld2FyZDsNCiAgICAgIHJldHVybiB7DQogICAgICAgIGVmZmVjdDogKCkgPT4gY29uZmlnLmVmZmVjdChjaGFsbGVuZ2UuY29tcGxldGlvbnMgKyAxKSwNCiAgICAgICAgZm9ybWF0RWZmZWN0OiBjb25maWcuZm9ybWF0RWZmZWN0LA0KICAgICAgICBjYXA6IGNvbmZpZy5jYXAsDQogICAgICB9Ow0KICAgIH0sDQogICAgbmFtZSgpIHsNCiAgICAgIHJldHVybiBgRUMke3RoaXMuY2hhbGxlbmdlLmlkfWA7DQogICAgfQ0KICB9LA0KICBtZXRob2RzOiB7DQogICAgdXBkYXRlKCkgew0KICAgICAgY29uc3QgY2hhbGxlbmdlID0gdGhpcy5jaGFsbGVuZ2U7DQogICAgICB0aGlzLmlzVW5sb2NrZWQgPSBjaGFsbGVuZ2UuaXNVbmxvY2tlZDsNCiAgICAgIHRoaXMuaXNSdW5uaW5nID0gY2hhbGxlbmdlLmlzUnVubmluZzsNCiAgICAgIHRoaXMuaXNDb21wbGV0ZWQgPSBjaGFsbGVuZ2UuaXNGdWxseUNvbXBsZXRlZDsNCiAgICAgIHRoaXMuY29tcGxldGlvbnMgPSBjaGFsbGVuZ2UuY29tcGxldGlvbnM7DQogICAgICB0aGlzLnNob3dHb2FsU3BhbiA9IFBsYXllclByb2dyZXNzLnJlYWxpdHlVbmxvY2tlZCgpOw0KICAgICAgdGhpcy5jYW5CZVVubG9ja2VkID0gVGltZVN0dWR5LmV0ZXJuaXR5Q2hhbGxlbmdlKGNoYWxsZW5nZS5pZCkuY2FuQmVCb3VnaHQ7DQoNCiAgICAgIHRoaXMubGFzdEdvYWwgPSAoRW5zbGF2ZWQuaXNSdW5uaW5nICYmIHRoaXMuY2hhbGxlbmdlLmlkID09PSAxKQ0KICAgICAgICA/IHdvcmRTaGlmdC53b3JkQ3ljbGUodGhpcy5jb25maWcuc2NyYW1ibGVUZXh0Lm1hcCh4ID0+IGZvcm1hdCh4KSkpDQogICAgICAgIDogdGhpcy5nb2FsQXRDb21wbGV0aW9ucyh0aGlzLmNoYWxsZW5nZS5tYXhDb21wbGV0aW9ucyAtIDEpOw0KICAgIH0sDQogICAgc3RhcnQoKSB7DQogICAgICBpZiAodGhpcy5jYW5CZVVubG9ja2VkKSB7DQogICAgICAgIFRpbWVTdHVkeS5ldGVybml0eUNoYWxsZW5nZSh0aGlzLmNoYWxsZW5nZS5pZCkucHVyY2hhc2UoKTsNCiAgICAgIH0gZWxzZSB0aGlzLmNoYWxsZW5nZS5yZXF1ZXN0U3RhcnQoKTsNCiAgICB9LA0KICAgIGdvYWxBdENvbXBsZXRpb25zKGNvbXBsZXRpb25zKSB7DQogICAgICByZXR1cm4gZm9ybWF0KHRoaXMuY2hhbGxlbmdlLmdvYWxBdENvbXBsZXRpb25zKGNvbXBsZXRpb25zKSwgMiwgMSk7DQogICAgfQ0KICB9DQp9Ow0K"},{"version":3,"sources":["EternityChallengeBox.vue"],"names":[],"mappings":";AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"EternityChallengeBox.vue","sourceRoot":"src/components/tabs/eternity-challenges","sourcesContent":["<script>\r\nimport wordShift from \"@/core/word-shift\";\r\n\r\nimport DescriptionDisplay from \"@/components/DescriptionDisplay\";\r\nimport EffectDisplay from \"@/components/EffectDisplay\";\r\nimport EternityChallengeBoxWrapper from \"./EternityChallengeBoxWrapper\";\r\n\r\nexport default {\r\n  name: \"EternityChallengeBox\",\r\n  components: {\r\n    EternityChallengeBoxWrapper,\r\n    DescriptionDisplay,\r\n    EffectDisplay\r\n  },\r\n  props: {\r\n    challenge: {\r\n      type: Object,\r\n      required: true\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      isUnlocked: false,\r\n      isRunning: false,\r\n      isCompleted: false,\r\n      canBeUnlocked: false,\r\n      completions: 0,\r\n      showGoalSpan: false,\r\n      lastGoal: \"\",\r\n    };\r\n  },\r\n  computed: {\r\n    config() {\r\n      return this.challenge.config;\r\n    },\r\n    goalDisplay() {\r\n      const config = this.config;\r\n      let goal = `Goal: ${this.goalAtCompletions(this.completions)} IP`;\r\n      if (config.restriction) {\r\n        goal += ` ${config.formatRestriction(config.restriction(this.completions))}`;\r\n      }\r\n      return goal;\r\n    },\r\n    firstGoal() {\r\n      return this.goalAtCompletions(0);\r\n    },\r\n    currentRewardConfig() {\r\n      const challenge = this.challenge;\r\n      const config = this.config.reward;\r\n      return {\r\n        effect: () => config.effect(challenge.completions),\r\n        formatEffect: config.formatEffect,\r\n        cap: config.cap,\r\n      };\r\n    },\r\n    nextRewardConfig() {\r\n      const challenge = this.challenge;\r\n      const config = this.config.reward;\r\n      return {\r\n        effect: () => config.effect(challenge.completions + 1),\r\n        formatEffect: config.formatEffect,\r\n        cap: config.cap,\r\n      };\r\n    },\r\n    name() {\r\n      return `EC${this.challenge.id}`;\r\n    }\r\n  },\r\n  methods: {\r\n    update() {\r\n      const challenge = this.challenge;\r\n      this.isUnlocked = challenge.isUnlocked;\r\n      this.isRunning = challenge.isRunning;\r\n      this.isCompleted = challenge.isFullyCompleted;\r\n      this.completions = challenge.completions;\r\n      this.showGoalSpan = PlayerProgress.realityUnlocked();\r\n      this.canBeUnlocked = TimeStudy.eternityChallenge(challenge.id).canBeBought;\r\n\r\n      this.lastGoal = (Enslaved.isRunning && this.challenge.id === 1)\r\n        ? wordShift.wordCycle(this.config.scrambleText.map(x => format(x)))\r\n        : this.goalAtCompletions(this.challenge.maxCompletions - 1);\r\n    },\r\n    start() {\r\n      if (this.canBeUnlocked) {\r\n        TimeStudy.eternityChallenge(this.challenge.id).purchase();\r\n      } else this.challenge.requestStart();\r\n    },\r\n    goalAtCompletions(completions) {\r\n      return format(this.challenge.goalAtCompletions(completions), 2, 1);\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<template>\r\n  <EternityChallengeBoxWrapper\r\n    :name=\"name\"\r\n    :is-unlocked=\"isUnlocked\"\r\n    :is-running=\"isRunning\"\r\n    :is-completed=\"isCompleted\"\r\n    :can-be-unlocked=\"canBeUnlocked\"\r\n    :completion-count=\"completions\"\r\n    @start=\"start\"\r\n  >\r\n    <template #top>\r\n      <DescriptionDisplay :config=\"config\" />\r\n    </template>\r\n    <template #bottom>\r\n      <div :style=\"{ visiblity: completions < 5 ? 'visible' : 'hidden' }\">\r\n        <div>\r\n          Completed {{ quantifyInt(\"time\", completions) }}\r\n        </div>\r\n        {{ goalDisplay }}\r\n      </div>\r\n      <span v-if=\"showGoalSpan\">\r\n        Goal Span: {{ firstGoal }} IP - {{ lastGoal }} IP\r\n      </span>\r\n      <span>\r\n        Reward:\r\n        <DescriptionDisplay\r\n          :config=\"config.reward\"\r\n          :length=\"55\"\r\n          name=\"c-challenge-box__reward-description\"\r\n        />\r\n      </span>\r\n      <span>\r\n        <EffectDisplay\r\n          v-if=\"completions > 0\"\r\n          :config=\"currentRewardConfig\"\r\n        />\r\n        <span v-if=\"completions > 0 && completions < 5\">|</span>\r\n        <EffectDisplay\r\n          v-if=\"completions < 5\"\r\n          :config=\"nextRewardConfig\"\r\n          label=\"Next\"\r\n          :ignore-capped=\"true\"\r\n        />\r\n      </span>\r\n    </template>\r\n  </EternityChallengeBoxWrapper>\r\n</template>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n"]}]}