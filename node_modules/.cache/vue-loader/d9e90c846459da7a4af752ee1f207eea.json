{"remainingRequest":"C:\\Games\\ADFasterer\\ADfasterer\\node_modules\\@vue\\vue-loader-v15\\lib\\index.js??vue-loader-options!C:\\Games\\ADFasterer\\ADfasterer\\src\\components\\modals\\options\\glyph-appearance\\GlyphCustomizationSlidingWindow.vue?vue&type=style&index=0&id=f53af232&scoped=true&lang=css&","dependencies":[{"path":"C:\\Games\\ADFasterer\\ADfasterer\\src\\components\\modals\\options\\glyph-appearance\\GlyphCustomizationSlidingWindow.vue","mtime":1745241596965},{"path":"C:\\Games\\ADFasterer\\ADfasterer\\node_modules\\css-loader\\dist\\cjs.js","mtime":1745242216572},{"path":"C:\\Games\\ADFasterer\\ADfasterer\\node_modules\\@vue\\vue-loader-v15\\lib\\loaders\\stylePostLoader.js","mtime":1745242222796},{"path":"C:\\Games\\ADFasterer\\ADfasterer\\node_modules\\postcss-loader\\dist\\cjs.js","mtime":1745242214022},{"path":"C:\\Games\\ADFasterer\\ADfasterer\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1745242214069},{"path":"C:\\Games\\ADFasterer\\ADfasterer\\node_modules\\@vue\\vue-loader-v15\\lib\\index.js","mtime":1745242220175}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCg0KLmMtYWxsLW9wdGlvbnMgew0KICBkaXNwbGF5OiBmbGV4Ow0KICBmbGV4LWRpcmVjdGlvbjogcm93Ow0KICB3aWR0aDogNDlyZW07DQogIG1hcmdpbjogMC41cmVtOw0KICBib3JkZXI6IDAuMXJlbSBzb2xpZCB2YXIoLS1jb2xvci10ZXh0KTsNCiAgYm9yZGVyLXJhZGl1czogdmFyKC0tdmFyLWJvcmRlci1yYWRpdXMsIDAuNXJlbSk7DQp9DQoNCi5jLW5vLW9wdGlvbnMgew0KICB3aWR0aDogNDlyZW07DQogIG1hcmdpbjogMC41cmVtOw0KICBib3JkZXI6IDAuMXJlbSBzb2xpZCB2YXIoLS1jb2xvci10ZXh0KTsNCiAgYm9yZGVyLXJhZGl1czogdmFyKC0tdmFyLWJvcmRlci1yYWRpdXMsIDAuNXJlbSk7DQp9DQoNCi5jLWV4dHJhLW9wdGlvbnMgew0KICBwb3NpdGlvbjogcmVsYXRpdmU7DQogIGRpc3BsYXk6IGZsZXg7DQogIGZsZXgtZGlyZWN0aW9uOiByb3c7DQogIHdpZHRoOiAxMDAlOw0KICBoZWlnaHQ6IDEwMCU7DQogIG92ZXJmbG93OiBoaWRkZW47DQogIGJvcmRlci13aWR0aDogMC4xcmVtOw0KICBib3JkZXItbGVmdC1zdHlsZTogZGFzaGVkOw0KICBib3JkZXItY29sb3I6IHZhcigtLWNvbG9yLXRleHQpOw0KfQ0KDQouYy1zbGlkaW5nLXdpbmRvdyB7DQogIGRpc3BsYXk6IGZsZXg7DQogIGZsZXgtZGlyZWN0aW9uOiByb3c7DQp9DQoNCi5vLW9wdGlvbi0taW5hY3RpdmUgew0KICBvcGFjaXR5OiAwLjM7DQp9DQoNCi5vLWFycm93IHsNCiAgcG9zaXRpb246IGFic29sdXRlOw0KICBkaXNwbGF5OiBmbGV4Ow0KICBhbGlnbi1pdGVtczogY2VudGVyOw0KICBoZWlnaHQ6IDEwMCU7DQogIHBhZGRpbmc6IDAuM3JlbTsNCiAgei1pbmRleDogMTsNCiAgYmFja2dyb3VuZDogdmFyKC0tY29sb3ItZ29vZCk7DQogIGNvbG9yOiB2YXIoLS1jb2xvci10ZXh0KTsNCiAgdHJhbnNpdGlvbi1kdXJhdGlvbjogMC4zczsNCiAgY3Vyc29yOiBwb2ludGVyOw0KICB1c2VyLXNlbGVjdDogbm9uZTsNCn0NCg0KLm8tYXJyb3ctLWxlZnQgew0KICBsZWZ0OiAwOw0KfQ0KDQouby1hcnJvdy0tcmlnaHQgew0KICByaWdodDogMDsNCiAgYm9yZGVyLXJhZGl1czogMCB2YXIoLS12YXItYm9yZGVyLXJhZGl1cywgMC41cmVtKSB2YXIoLS12YXItYm9yZGVyLXJhZGl1cywgMC41cmVtKSAwOw0KfQ0KDQouby1hcnJvdy0tZGlzYWJsZWQgew0KICBvcGFjaXR5OiAwLjM7DQogIGN1cnNvcjogZGVmYXVsdDsNCn0NCg0KLm8tZGVmYXVsdC1vcHRpb24gew0KICBhbGlnbi1zZWxmOiBub3JtYWw7DQogIGZvbnQtc2l6ZTogMS41cmVtOw0KICBjb2xvcjogdmFyKC0tY29sb3ItdGV4dCk7DQp9DQoNCi5vLWNsaWNrYWJsZSB7DQogIGN1cnNvcjogcG9pbnRlcjsNCn0NCg0KLmMtc2luZ2xlLXNldCB7DQogIGRpc3BsYXk6IGZsZXg7DQogIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47DQp9DQoNCi5vLXN5bWJvbCB7DQogIHdpZHRoOiAyLjVyZW07DQogIHRleHQtYWxpZ246IGNlbnRlcjsNCiAgZm9udC1zaXplOiAxLjZyZW07DQogIHVzZXItc2VsZWN0OiBub25lOw0KfQ0KDQouby1jb2xvciB7DQogIGRpc3BsYXk6IGZsZXg7DQogIGp1c3RpZnktY29udGVudDogY2VudGVyOw0KICBhbGlnbi1pdGVtczogY2VudGVyOw0KICB3aWR0aDogMS41cmVtOw0KICBoZWlnaHQ6IDEuNXJlbTsNCiAgbWFyZ2luOiAwLjVyZW07DQogIGZvbnQtd2VpZ2h0OiBib2xkOw0KICB1c2VyLXNlbGVjdDogbm9uZTsNCn0NCg=="},{"version":3,"sources":["GlyphCustomizationSlidingWindow.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6NA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"GlyphCustomizationSlidingWindow.vue","sourceRoot":"src/components/modals/options/glyph-appearance","sourcesContent":["<script>\r\nexport default {\r\n  name: \"GlyphCustomizationSlidingWindow\",\r\n  props: {\r\n    type: {\r\n      type: String,\r\n      required: true,\r\n    },\r\n    isSymbol: {\r\n      type: Boolean,\r\n      required: true,\r\n    },\r\n    options: {\r\n      type: Array,\r\n      required: true,\r\n    },\r\n    glyphId: {\r\n      type: Number,\r\n      required: false,\r\n      default: -1,\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      isActive: false,\r\n      selected: \"\",\r\n      leftmostIndex: 0,\r\n      realityColor: \"\",\r\n      // Required in order to refresh all the options if the option to force dark backgrounds is clicked\r\n      darkKeySwap: false,\r\n    };\r\n  },\r\n  computed: {\r\n    isSingleGlyph() {\r\n      return this.glyphId !== -1;\r\n    },\r\n    attrString() {\r\n      return this.isSymbol ? \"symbol\" : \"color\";\r\n    },\r\n    typeObject() {\r\n      return CosmeticGlyphTypes;\r\n    },\r\n    defaultOption() {\r\n      if (this.realityColor) return this.realityColor;\r\n      const config = this.typeObject[this.type];\r\n      const prop = `${this.isSingleGlyph ? \"current\" : \"default\"}${this.attrString.capitalize()}`;\r\n      return this.isSymbol\r\n        ? config[prop].symbol\r\n        : config[prop].border;\r\n    },\r\n    canScroll() {\r\n      return this.options.length > this.windowSize;\r\n    },\r\n    // Maximum number of options visible at one time, used to determine scrolling bounds\r\n    windowSize() {\r\n      return 17;\r\n    }\r\n  },\r\n  created() {\r\n    this.updateSelected();\r\n  },\r\n  methods: {\r\n    update() {\r\n      if (this.isSingleGlyph) {\r\n        const glyph = Glyphs.findById(this.glyphId);\r\n        this.isActive = !glyph.cosmetic;\r\n      } else {\r\n        this.isActive = player.reality.glyphs.cosmetics.active;\r\n      }\r\n      if (this.type === \"reality\" && !this.isSymbol) this.realityColor = GlyphAppearanceHandler.realityColor;\r\n      this.darkKeySwap = player.options.glyphBG;\r\n    },\r\n    select(option) {\r\n      if (!this.isSingleGlyph && !this.isActive) return;\r\n      if (this.isSingleGlyph) {\r\n        const glyph = Glyphs.findById(this.glyphId);\r\n        glyph[this.attrString] = option;\r\n        if (!this.active) glyph.cosmetic = undefined;\r\n      } else {\r\n        player.reality.glyphs.cosmetics[`${this.attrString}Map`][this.type] = option;\r\n      }\r\n      this.updateSelected();\r\n      EventHub.dispatch(GAME_EVENT.GLYPH_VISUAL_CHANGE);\r\n    },\r\n    updateSelected() {\r\n      if (this.isSingleGlyph) {\r\n        const glyph = Glyphs.findById(this.glyphId);\r\n        this.selected = glyph[this.attrString];\r\n      } else {\r\n        this.selected = this.isSymbol\r\n          ? this.typeObject[this.type].currentSymbol.symbol\r\n          : this.typeObject[this.type].currentColor.str;\r\n      }\r\n    },\r\n    containerClassObject() {\r\n      return {\r\n        \"c-all-options\": true,\r\n        \"o-option--inactive\": !this.isActive\r\n      };\r\n    },\r\n    defaultOptionClassObject() {\r\n      const checkOption = this.isSingleGlyph ? undefined : this.defaultOption;\r\n      return {\r\n        \"o-symbol\": this.isSymbol,\r\n        \"o-color\": !this.isSymbol,\r\n        \"o-clickable\": this.isActive,\r\n        \"o-option--inactive\": this.isSymbol && checkOption !== this.selected,\r\n      };\r\n    },\r\n    optionClassObject(option) {\r\n      return {\r\n        \"o-symbol\": this.isSymbol,\r\n        \"o-color\": !this.isSymbol,\r\n        \"o-clickable\": this.isActive,\r\n        \"o-option--inactive\": this.isSymbol && option !== this.selected,\r\n      };\r\n    },\r\n    boxStyle(color) {\r\n      if (this.isSymbol || !color) return {};\r\n      const colorProps = GlyphAppearanceHandler.getColorProps(color);\r\n      return {\r\n        background: colorProps.bg,\r\n        color: this.invertBW(colorProps.bg),\r\n        \"box-shadow\": `0 0 0.4rem 0.1rem ${colorProps.border}`,\r\n      };\r\n    },\r\n    windowStyle() {\r\n      return {\r\n        transform: `translate(${2 - 2.5 * this.leftmostIndex}rem)`,\r\n        \"transition-duration\": \"0.3s\",\r\n      };\r\n    },\r\n    leftClass() {\r\n      return {\r\n        \"o-arrow o-arrow--left\": true,\r\n        \"o-arrow--disabled\": this.leftmostIndex === 0 || !this.canScroll,\r\n      };\r\n    },\r\n    rightClass() {\r\n      return {\r\n        \"o-arrow o-arrow--right\": true,\r\n        \"o-arrow--disabled\": this.leftmostIndex === this.options.length - this.windowSize || !this.canScroll,\r\n      };\r\n    },\r\n    slideWindow(dir) {\r\n      if (!this.canScroll) return;\r\n      this.leftmostIndex = Math.clamp(this.leftmostIndex + dir, 0, this.options.length - this.windowSize);\r\n    },\r\n    optionChar(option) {\r\n      if (this.isSymbol) return option;\r\n      return (option === this.selected || (!this.selected && option === this.defaultOption)) ? \"✓\" : \"\";\r\n    },\r\n    invertBW(color) {\r\n      return color === \"black\" ? \"white\" : \"black\";\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<template>\r\n  <div>\r\n    <div\r\n      v-if=\"options.length > 0\"\r\n      :class=\"containerClassObject()\"\r\n    >\r\n      <div class=\"o-default-option\">\r\n        <div\r\n          :key=\"'default' + darkKeySwap\"\r\n          :class=\"defaultOptionClassObject()\"\r\n          :style=\"boxStyle(defaultOption)\"\r\n          @click=\"select(undefined)\"\r\n        >\r\n          {{ optionChar(defaultOption) }}\r\n        </div>\r\n      </div>\r\n      <div class=\"c-extra-options\">\r\n        <div\r\n          :class=\"leftClass()\"\r\n          @click=\"slideWindow(-5)\"\r\n        >\r\n          ⇐\r\n        </div>\r\n        <div\r\n          :class=\"rightClass()\"\r\n          @click=\"slideWindow(5)\"\r\n        >\r\n          ⇒\r\n        </div>\r\n        <div\r\n          class=\"c-sliding-window\"\r\n          :style=\"windowStyle()\"\r\n        >\r\n          <div\r\n            v-for=\"set in options\"\r\n            :key=\"set[0] + set[1]\"\r\n          >\r\n            <div class=\"c-single-set\">\r\n              <div\r\n                v-for=\"singleOption in set\"\r\n                :key=\"singleOption\"\r\n                :class=\"optionClassObject(singleOption)\"\r\n                :style=\"boxStyle(singleOption)\"\r\n                @click=\"select(singleOption)\"\r\n              >\r\n                {{ optionChar(singleOption) }}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div\r\n      v-else\r\n      class=\"c-no-options\"\r\n    >\r\n      You have no custom options for changing Glyph {{ attrString }}s.\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<style scoped>\r\n.c-all-options {\r\n  display: flex;\r\n  flex-direction: row;\r\n  width: 49rem;\r\n  margin: 0.5rem;\r\n  border: 0.1rem solid var(--color-text);\r\n  border-radius: var(--var-border-radius, 0.5rem);\r\n}\r\n\r\n.c-no-options {\r\n  width: 49rem;\r\n  margin: 0.5rem;\r\n  border: 0.1rem solid var(--color-text);\r\n  border-radius: var(--var-border-radius, 0.5rem);\r\n}\r\n\r\n.c-extra-options {\r\n  position: relative;\r\n  display: flex;\r\n  flex-direction: row;\r\n  width: 100%;\r\n  height: 100%;\r\n  overflow: hidden;\r\n  border-width: 0.1rem;\r\n  border-left-style: dashed;\r\n  border-color: var(--color-text);\r\n}\r\n\r\n.c-sliding-window {\r\n  display: flex;\r\n  flex-direction: row;\r\n}\r\n\r\n.o-option--inactive {\r\n  opacity: 0.3;\r\n}\r\n\r\n.o-arrow {\r\n  position: absolute;\r\n  display: flex;\r\n  align-items: center;\r\n  height: 100%;\r\n  padding: 0.3rem;\r\n  z-index: 1;\r\n  background: var(--color-good);\r\n  color: var(--color-text);\r\n  transition-duration: 0.3s;\r\n  cursor: pointer;\r\n  user-select: none;\r\n}\r\n\r\n.o-arrow--left {\r\n  left: 0;\r\n}\r\n\r\n.o-arrow--right {\r\n  right: 0;\r\n  border-radius: 0 var(--var-border-radius, 0.5rem) var(--var-border-radius, 0.5rem) 0;\r\n}\r\n\r\n.o-arrow--disabled {\r\n  opacity: 0.3;\r\n  cursor: default;\r\n}\r\n\r\n.o-default-option {\r\n  align-self: normal;\r\n  font-size: 1.5rem;\r\n  color: var(--color-text);\r\n}\r\n\r\n.o-clickable {\r\n  cursor: pointer;\r\n}\r\n\r\n.c-single-set {\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\n.o-symbol {\r\n  width: 2.5rem;\r\n  text-align: center;\r\n  font-size: 1.6rem;\r\n  user-select: none;\r\n}\r\n\r\n.o-color {\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  width: 1.5rem;\r\n  height: 1.5rem;\r\n  margin: 0.5rem;\r\n  font-weight: bold;\r\n  user-select: none;\r\n}\r\n</style>\r\n"]}]}