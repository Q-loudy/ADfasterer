{"remainingRequest":"C:\\Games\\ADFasterer\\ADfasterer\\node_modules\\@vue\\vue-loader-v15\\lib\\index.js??vue-loader-options!C:\\Games\\ADFasterer\\ADfasterer\\src\\components\\tabs\\celestial-pelle\\PelleUpgrade.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Games\\ADFasterer\\ADfasterer\\src\\components\\tabs\\celestial-pelle\\PelleUpgrade.vue","mtime":1745241597148},{"path":"C:\\Games\\ADFasterer\\ADfasterer\\node_modules\\babel-loader\\lib\\index.js","mtime":1745242219290},{"path":"C:\\Games\\ADFasterer\\ADfasterer\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1745242214069},{"path":"C:\\Games\\ADFasterer\\ADfasterer\\node_modules\\@vue\\vue-loader-v15\\lib\\index.js","mtime":1745242220175}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQppbXBvcnQgQ29zdERpc3BsYXkgZnJvbSAiQC9jb21wb25lbnRzL0Nvc3REaXNwbGF5IjsNCmltcG9ydCBDdXN0b21pemVhYmxlVG9vbHRpcCBmcm9tICJAL2NvbXBvbmVudHMvQ3VzdG9taXplYWJsZVRvb2x0aXAiOw0KaW1wb3J0IERlc2NyaXB0aW9uRGlzcGxheSBmcm9tICJAL2NvbXBvbmVudHMvRGVzY3JpcHRpb25EaXNwbGF5IjsNCg0KZXhwb3J0IGRlZmF1bHQgew0KICBuYW1lOiAiUGVsbGVVcGdyYWRlIiwNCiAgY29tcG9uZW50czogew0KICAgIERlc2NyaXB0aW9uRGlzcGxheSwNCiAgICBDb3N0RGlzcGxheSwNCiAgICBDdXN0b21pemVhYmxlVG9vbHRpcA0KICB9LA0KICBwcm9wczogew0KICAgIHVwZ3JhZGU6IHsNCiAgICAgIHR5cGU6IE9iamVjdCwNCiAgICAgIHJlcXVpcmVkOiB0cnVlDQogICAgfSwNCiAgICBmYWRlZDogew0KICAgICAgdHlwZTogQm9vbGVhbiwNCiAgICAgIHJlcXVpcmVkOiBmYWxzZQ0KICAgIH0sDQogICAgZ2FsYXh5R2VuZXJhdG9yOiB7DQogICAgICB0eXBlOiBCb29sZWFuLA0KICAgICAgcmVxdWlyZWQ6IGZhbHNlLA0KICAgIH0sDQogICAgc2hvd0ltcHJvdmVkRXN0aW1hdGU6IHsNCiAgICAgIHR5cGU6IEJvb2xlYW4sDQogICAgICByZXF1aXJlZDogZmFsc2UsDQogICAgfSwNCiAgfSwNCiAgZGF0YSgpIHsNCiAgICByZXR1cm4gew0KICAgICAgY2FuQnV5OiBmYWxzZSwNCiAgICAgIGlzQm91Z2h0OiBmYWxzZSwNCiAgICAgIHB1cmNoYXNlczogMCwNCiAgICAgIGN1cnJlbnRUaW1lRXN0aW1hdGU6IG5ldyBEZWNpbWFsKDApLA0KICAgICAgcHJvamVjdGVkVGltZUVzdGltYXRlOiBuZXcgRGVjaW1hbCgwKSwNCiAgICAgIGlzQ2FwcGVkOiBmYWxzZSwNCiAgICAgIGhvdmVyaW5nOiBmYWxzZSwNCiAgICAgIGhhc1JlbW5hbnRzOiBmYWxzZSwNCiAgICAgIGdhbGF4eUNhcDogMCwNCiAgICAgIG5vdEFmZm9yZGFibGU6IGZhbHNlDQogICAgfTsNCiAgfSwNCiAgY29tcHV0ZWQ6IHsNCiAgICBjb25maWcoKSB7DQogICAgICByZXR1cm4gdGhpcy51cGdyYWRlLmNvbmZpZzsNCiAgICB9LA0KICAgIGVmZmVjdFRleHQoKSB7DQogICAgICBpZiAoIXRoaXMuY29uZmlnLmZvcm1hdEVmZmVjdCkgcmV0dXJuIGZhbHNlOw0KICAgICAgY29uc3QgcHJlZml4ID0gdGhpcy5pc0NhcHBlZCA/ICJDYXBwZWQ6IiA6ICJDdXJyZW50bHk6IjsNCiAgICAgIGNvbnN0IGZvcm1hdHRlZEVmZmVjdCA9IHggPT4gdGhpcy5jb25maWcuZm9ybWF0RWZmZWN0KHRoaXMuY29uZmlnLmVmZmVjdCh4KSk7DQogICAgICBjb25zdCB2YWx1ZSA9IGZvcm1hdHRlZEVmZmVjdCh0aGlzLnB1cmNoYXNlcyk7DQogICAgICBjb25zdCBuZXh0ID0gKCF0aGlzLmlzQ2FwcGVkICYmIHRoaXMuaG92ZXJpbmcpDQogICAgICAgID8gZm9ybWF0dGVkRWZmZWN0KHRoaXMucHVyY2hhc2VzICsgMSkNCiAgICAgICAgOiB1bmRlZmluZWQ7DQogICAgICByZXR1cm4geyBwcmVmaXgsIHZhbHVlLCBuZXh0IH07DQogICAgfSwNCiAgICB0aW1lRXN0aW1hdGUoKSB7DQogICAgICBpZiAoIXRoaXMuaGFzVGltZUVzdGltYXRlIHx8ICF0aGlzLmhhc1JlbW5hbnRzKSByZXR1cm4gbnVsbDsNCiAgICAgIGlmICh0aGlzLm5vdEFmZm9yZGFibGUpIHJldHVybiAiTmV2ZXIgYWZmb3JkYWJsZSBkdWUgdG8gR2VuZXJhdGVkIEdhbGF4eSBjYXAiOw0KICAgICAgcmV0dXJuIHRoaXMuY3VycmVudFRpbWVFc3RpbWF0ZTsNCiAgICB9LA0KICAgIGhhc1RpbWVFc3RpbWF0ZSgpIHsNCiAgICAgIHJldHVybiAhKHRoaXMuY2FuQnV5IHx8DQogICAgICAgIHRoaXMuaXNCb3VnaHQgfHwNCiAgICAgICAgdGhpcy5pc0NhcHBlZCB8fA0KICAgICAgICAodGhpcy5nYWxheHlHZW5lcmF0b3IgJiYgdGhpcy5jb25maWcuY3VycmVuY3lMYWJlbCAhPT0gIkdhbGF4eSIpDQogICAgICApOw0KICAgIH0sDQogICAgc2hvdWxkRXN0aW1hdGVJbXByb3ZlbWVudCgpIHsNCiAgICAgIHJldHVybiB0aGlzLnNob3dJbXByb3ZlZEVzdGltYXRlICYmIHRoaXMuaGFzVGltZUVzdGltYXRlOw0KICAgIH0sDQogICAgZXN0aW1hdGVJbXByb3ZlbWVudCgpIHsNCiAgICAgIGlmICghdGhpcy5zaG91bGRFc3RpbWF0ZUltcHJvdmVtZW50KSByZXR1cm4gIiI7DQogICAgICBpZiAoIVBlbGxlLmNhbkFybWFnZWRkb24pIHJldHVybiBgJHt0aGlzLmN1cnJlbnRUaW1lRXN0aW1hdGV9YDsNCiAgICAgIC8vIElmIHRoZSBpbXByb3ZlZCB2YWx1ZSBpcyBzdGlsbCAiPiAxIHllYXIiIHRoZW4gd2Ugb25seSBzaG93IGl0IG9uY2UNCiAgICAgIGlmICh0aGlzLnByb2plY3RlZFRpbWVFc3RpbWF0ZS5zdGFydHNXaXRoKCI+IikpIHJldHVybiB0aGlzLnByb2plY3RlZFRpbWVFc3RpbWF0ZTsNCiAgICAgIHJldHVybiBgJHt0aGlzLmN1cnJlbnRUaW1lRXN0aW1hdGV9IOKenCAke3RoaXMucHJvamVjdGVkVGltZUVzdGltYXRlfWA7DQogICAgfSwNCiAgfSwNCiAgbWV0aG9kczogew0KICAgIHVwZGF0ZSgpIHsNCiAgICAgIHRoaXMuY2FuQnV5ID0gdGhpcy51cGdyYWRlLmNhbkJlQm91Z2h0ICYmICF0aGlzLmZhZGVkOw0KICAgICAgdGhpcy5pc0JvdWdodCA9IHRoaXMudXBncmFkZS5pc0JvdWdodDsNCiAgICAgIHRoaXMuaXNDYXBwZWQgPSB0aGlzLnVwZ3JhZGUuaXNDYXBwZWQ7DQogICAgICB0aGlzLnB1cmNoYXNlcyA9IHBsYXllci5jZWxlc3RpYWxzLnBlbGxlLnJlYnV5YWJsZXNbdGhpcy51cGdyYWRlLmNvbmZpZy5pZF07DQogICAgICB0aGlzLmN1cnJlbnRUaW1lRXN0aW1hdGUgPSBUaW1lU3Bhbg0KICAgICAgICAuZnJvbVNlY29uZHModGhpcy5zZWNvbmRzVW50aWxDb3N0KHRoaXMuZ2FsYXh5R2VuZXJhdG9yID8gR2FsYXh5R2VuZXJhdG9yLmdhaW5QZXJTZWNvbmQNCiAgICAgICAgICA6IFBlbGxlLnJlYWxpdHlTaGFyZEdhaW5QZXJTZWNvbmQpLnRvTnVtYmVyKCkpDQogICAgICAgIC50b1RpbWVFc3RpbWF0ZSgpOw0KICAgICAgdGhpcy5wcm9qZWN0ZWRUaW1lRXN0aW1hdGUgPSBUaW1lU3Bhbg0KICAgICAgICAuZnJvbVNlY29uZHModGhpcy5zZWNvbmRzVW50aWxDb3N0KFBlbGxlLm5leHRSZWFsaXR5U2hhcmRHYWluKS50b051bWJlcigpKQ0KICAgICAgICAudG9UaW1lRXN0aW1hdGUoKTsNCiAgICAgIHRoaXMuaGFzUmVtbmFudHMgPSBQZWxsZS5jZWwucmVtbmFudHMgPiAwOw0KICAgICAgdGhpcy5nYWxheHlDYXAgPSBHYWxheHlHZW5lcmF0b3IuZ2VuZXJhdGlvbkNhcDsNCiAgICAgIGNvbnN0IGdlbkRCID0gR2FtZURhdGFiYXNlLmNlbGVzdGlhbHMucGVsbGUuZ2FsYXh5R2VuZXJhdG9yVXBncmFkZXM7DQogICAgICB0aGlzLm5vdEFmZm9yZGFibGUgPSAodGhpcy5jb25maWcgPT09IGdlbkRCLmFkZGl0aXZlIHx8IHRoaXMuY29uZmlnID09PSBnZW5EQi5tdWx0aXBsaWNhdGl2ZSkgJiYNCiAgICAgICAgKERlY2ltYWwuZ3QodGhpcy51cGdyYWRlLmNvc3QsIHRoaXMuZ2FsYXh5Q2FwIC0gR2FsYXh5R2VuZXJhdG9yLmdlbmVyYXRlZEdhbGF4aWVzICsgcGxheWVyLmdhbGF4aWVzKSk7DQogICAgfSwNCiAgICBzZWNvbmRzVW50aWxDb3N0KHJhdGUpIHsNCiAgICAgIGNvbnN0IHZhbHVlID0gdGhpcy5nYWxheHlHZW5lcmF0b3IgPyBwbGF5ZXIuZ2FsYXhpZXMgKyBHYWxheHlHZW5lcmF0b3IuZ2FsYXhpZXMgOiBDdXJyZW5jeS5yZWFsaXR5U2hhcmRzLnZhbHVlOw0KICAgICAgcmV0dXJuIERlY2ltYWwuc3ViKHRoaXMudXBncmFkZS5jb3N0LCB2YWx1ZSkuZGl2KHJhdGUpOw0KICAgIH0sDQogIH0NCn07DQo="},{"version":3,"sources":["PelleUpgrade.vue"],"names":[],"mappings":";AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"PelleUpgrade.vue","sourceRoot":"src/components/tabs/celestial-pelle","sourcesContent":["<script>\r\nimport CostDisplay from \"@/components/CostDisplay\";\r\nimport CustomizeableTooltip from \"@/components/CustomizeableTooltip\";\r\nimport DescriptionDisplay from \"@/components/DescriptionDisplay\";\r\n\r\nexport default {\r\n  name: \"PelleUpgrade\",\r\n  components: {\r\n    DescriptionDisplay,\r\n    CostDisplay,\r\n    CustomizeableTooltip\r\n  },\r\n  props: {\r\n    upgrade: {\r\n      type: Object,\r\n      required: true\r\n    },\r\n    faded: {\r\n      type: Boolean,\r\n      required: false\r\n    },\r\n    galaxyGenerator: {\r\n      type: Boolean,\r\n      required: false,\r\n    },\r\n    showImprovedEstimate: {\r\n      type: Boolean,\r\n      required: false,\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      canBuy: false,\r\n      isBought: false,\r\n      purchases: 0,\r\n      currentTimeEstimate: new Decimal(0),\r\n      projectedTimeEstimate: new Decimal(0),\r\n      isCapped: false,\r\n      hovering: false,\r\n      hasRemnants: false,\r\n      galaxyCap: 0,\r\n      notAffordable: false\r\n    };\r\n  },\r\n  computed: {\r\n    config() {\r\n      return this.upgrade.config;\r\n    },\r\n    effectText() {\r\n      if (!this.config.formatEffect) return false;\r\n      const prefix = this.isCapped ? \"Capped:\" : \"Currently:\";\r\n      const formattedEffect = x => this.config.formatEffect(this.config.effect(x));\r\n      const value = formattedEffect(this.purchases);\r\n      const next = (!this.isCapped && this.hovering)\r\n        ? formattedEffect(this.purchases + 1)\r\n        : undefined;\r\n      return { prefix, value, next };\r\n    },\r\n    timeEstimate() {\r\n      if (!this.hasTimeEstimate || !this.hasRemnants) return null;\r\n      if (this.notAffordable) return \"Never affordable due to Generated Galaxy cap\";\r\n      return this.currentTimeEstimate;\r\n    },\r\n    hasTimeEstimate() {\r\n      return !(this.canBuy ||\r\n        this.isBought ||\r\n        this.isCapped ||\r\n        (this.galaxyGenerator && this.config.currencyLabel !== \"Galaxy\")\r\n      );\r\n    },\r\n    shouldEstimateImprovement() {\r\n      return this.showImprovedEstimate && this.hasTimeEstimate;\r\n    },\r\n    estimateImprovement() {\r\n      if (!this.shouldEstimateImprovement) return \"\";\r\n      if (!Pelle.canArmageddon) return `${this.currentTimeEstimate}`;\r\n      // If the improved value is still \"> 1 year\" then we only show it once\r\n      if (this.projectedTimeEstimate.startsWith(\">\")) return this.projectedTimeEstimate;\r\n      return `${this.currentTimeEstimate} ➜ ${this.projectedTimeEstimate}`;\r\n    },\r\n  },\r\n  methods: {\r\n    update() {\r\n      this.canBuy = this.upgrade.canBeBought && !this.faded;\r\n      this.isBought = this.upgrade.isBought;\r\n      this.isCapped = this.upgrade.isCapped;\r\n      this.purchases = player.celestials.pelle.rebuyables[this.upgrade.config.id];\r\n      this.currentTimeEstimate = TimeSpan\r\n        .fromSeconds(this.secondsUntilCost(this.galaxyGenerator ? GalaxyGenerator.gainPerSecond\r\n          : Pelle.realityShardGainPerSecond).toNumber())\r\n        .toTimeEstimate();\r\n      this.projectedTimeEstimate = TimeSpan\r\n        .fromSeconds(this.secondsUntilCost(Pelle.nextRealityShardGain).toNumber())\r\n        .toTimeEstimate();\r\n      this.hasRemnants = Pelle.cel.remnants > 0;\r\n      this.galaxyCap = GalaxyGenerator.generationCap;\r\n      const genDB = GameDatabase.celestials.pelle.galaxyGeneratorUpgrades;\r\n      this.notAffordable = (this.config === genDB.additive || this.config === genDB.multiplicative) &&\r\n        (Decimal.gt(this.upgrade.cost, this.galaxyCap - GalaxyGenerator.generatedGalaxies + player.galaxies));\r\n    },\r\n    secondsUntilCost(rate) {\r\n      const value = this.galaxyGenerator ? player.galaxies + GalaxyGenerator.galaxies : Currency.realityShards.value;\r\n      return Decimal.sub(this.upgrade.cost, value).div(rate);\r\n    },\r\n  }\r\n};\r\n</script>\r\n\r\n<template>\r\n  <button\r\n    class=\"c-pelle-upgrade\"\r\n    :class=\"{\r\n      'c-pelle-upgrade--unavailable': !canBuy && !(isBought || isCapped),\r\n      'c-pelle-upgrade--bought': isBought || isCapped,\r\n      'c-pelle-upgrade--faded': faded,\r\n      'c-pelle-upgrade--galaxyGenerator': galaxyGenerator\r\n    }\"\r\n    @click=\"!faded && upgrade.purchase()\"\r\n    @mouseover=\"hovering = true\"\r\n    @mouseleave=\"hovering = false\"\r\n  >\r\n    <CustomizeableTooltip\r\n      :show=\"shouldEstimateImprovement\"\r\n      left=\"50%\"\r\n      top=\"0\"\r\n    >\r\n      <template #tooltipContent>\r\n        {{ estimateImprovement }}\r\n      </template>\r\n    </CustomizeableTooltip>\r\n    <CustomizeableTooltip\r\n      v-if=\"timeEstimate\"\r\n      left=\"50%\"\r\n      top=\"0\"\r\n      content-class=\"l-fill-container\"\r\n    >\r\n      <template #tooltipContent>\r\n        {{ timeEstimate }}\r\n      </template>\r\n    </CustomizeableTooltip>\r\n    <DescriptionDisplay :config=\"config\" />\r\n    <div class=\"l-pelle-upgrade-gap\" />\r\n    <div v-if=\"effectText\">\r\n      {{ effectText.prefix }} {{ effectText.value }}\r\n      <template v-if=\"effectText.next\">\r\n        ➜ <span\r\n          :class=\"{\r\n            'c-improved-effect': canBuy,\r\n            'c-improved-effect--unavailable': !canBuy,\r\n          }\"\r\n        >\r\n          {{ effectText.next }}\r\n        </span>\r\n      </template>\r\n      <div class=\"l-pelle-upgrade-gap\" />\r\n    </div>\r\n    <CostDisplay\r\n      v-if=\"!isCapped\"\r\n      :config=\"config\"\r\n      :name=\"galaxyGenerator ? config.currencyLabel : 'Reality Shard'\"\r\n    />\r\n  </button>\r\n</template>\r\n\r\n<style scoped>\r\n.c-pelle-upgrade {\r\n  display: flex;\r\n  flex-direction: column;\r\n  width: 18rem;\r\n  height: 9rem;\r\n  position: relative;\r\n  justify-content: center;\r\n  align-items: center;\r\n  font-family: Typewriter;\r\n  font-size: 0.95rem;\r\n  font-weight: bold;\r\n  color: var(--color-text);\r\n  background: var(--color-text-inverted);\r\n  border: 0.1rem solid var(--color-pelle--secondary);\r\n  border-radius: var(--var-border-radius, 0.5rem);\r\n  box-shadow: inset 0 0 1rem 0.1rem var(--color-pelle--secondary);\r\n  margin: 0.6rem 0.55rem;\r\n  padding: 1rem;\r\n  cursor: pointer;\r\n}\r\n\r\n.c-pelle-upgrade:hover {\r\n  box-shadow: inset 0 0 2rem 0.1rem var(--color-pelle--secondary);\r\n  transition-duration: 0.3s;\r\n}\r\n\r\n/* stylelint-disable-next-line selector-class-pattern */\r\n.c-pelle-upgrade--galaxyGenerator {\r\n  font-weight: bold;\r\n  color: black;\r\n  background: linear-gradient(var(--color-pelle--secondary), var(--color-pelle--base));\r\n  box-shadow: none;\r\n}\r\n\r\n.c-pelle-upgrade--unavailable {\r\n  color: black;\r\n  background: #5f5f5f;\r\n  box-shadow: none;\r\n  cursor: default;\r\n}\r\n\r\n.c-pelle-upgrade--faded {\r\n  opacity: 0.3;\r\n  box-shadow: none;\r\n  cursor: default;\r\n}\r\n\r\n.c-pelle-upgrade--bought {\r\n  color: black;\r\n  background: var(--color-pelle--secondary);\r\n  cursor: default;\r\n}\r\n\r\n/* stylelint-disable-next-line selector-class-pattern */\r\n.c-pelle-upgrade--galaxyGenerator:hover,\r\n.c-pelle-upgrade--unavailable:hover,\r\n.c-pelle-upgrade--faded:hover,\r\n.c-pelle-upgrade--bought:hover {\r\n  box-shadow: 0.1rem 0.1rem 0.5rem var(--color-pelle--secondary);\r\n  transition-duration: 0.3s;\r\n}\r\n\r\n.l-pelle-upgrade-gap {\r\n  flex-shrink: 0;\r\n  height: 0.5rem;\r\n}\r\n\r\n.c-improved-effect {\r\n  font-weight: bold;\r\n  color: #00bb00;\r\n}\r\n\r\n.c-improved-effect--unavailable {\r\n  font-weight: bold;\r\n  color: var(--color-infinity);\r\n}\r\n\r\n.s-base--metro .c-pelle-upgrade--unavailable {\r\n  background-color: #9e9e9e;\r\n}\r\n</style>\r\n"]}]}