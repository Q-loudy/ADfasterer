{"remainingRequest":"C:\\Games\\ADFasterer\\ADfasterer\\node_modules\\@vue\\vue-loader-v15\\lib\\index.js??vue-loader-options!C:\\Games\\ADFasterer\\ADfasterer\\src\\components\\InfinityUpgradeButton.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Games\\ADFasterer\\ADfasterer\\src\\components\\InfinityUpgradeButton.vue","mtime":1745241596786},{"path":"C:\\Games\\ADFasterer\\ADfasterer\\node_modules\\babel-loader\\lib\\index.js","mtime":1745242219290},{"path":"C:\\Games\\ADFasterer\\ADfasterer\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1745242214069},{"path":"C:\\Games\\ADFasterer\\ADfasterer\\node_modules\\@vue\\vue-loader-v15\\lib\\index.js","mtime":1745242220175}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQppbXBvcnQgQ29zdERpc3BsYXkgZnJvbSAiQC9jb21wb25lbnRzL0Nvc3REaXNwbGF5IjsNCmltcG9ydCBEZXNjcmlwdGlvbkRpc3BsYXkgZnJvbSAiQC9jb21wb25lbnRzL0Rlc2NyaXB0aW9uRGlzcGxheSI7DQppbXBvcnQgRWZmZWN0RGlzcGxheSBmcm9tICJAL2NvbXBvbmVudHMvRWZmZWN0RGlzcGxheSI7DQoNCmV4cG9ydCBkZWZhdWx0IHsNCiAgbmFtZTogIkluZmluaXR5VXBncmFkZUJ1dHRvbiIsDQogIGNvbXBvbmVudHM6IHsNCiAgICBEZXNjcmlwdGlvbkRpc3BsYXksDQogICAgRWZmZWN0RGlzcGxheSwNCiAgICBDb3N0RGlzcGxheSwNCiAgfSwNCiAgcHJvcHM6IHsNCiAgICB1cGdyYWRlOiB7DQogICAgICB0eXBlOiBPYmplY3QsDQogICAgICByZXF1aXJlZDogdHJ1ZQ0KICAgIH0NCiAgfSwNCiAgZGF0YSgpIHsNCiAgICByZXR1cm4gew0KICAgICAgc2hvd1dvcnN0Q2hhbGxlbmdlOiBmYWxzZSwNCiAgICAgIHdvcnN0Q2hhbGxlbmdlU3RyaW5nOiAiIiwNCiAgICAgIGlzVXNlbGVzczogZmFsc2UsDQogICAgICBjYW5CZUJvdWdodDogZmFsc2UsDQogICAgICBjaGFyZ2VQb3NzaWJsZTogZmFsc2UsDQogICAgICBjYW5CZUNoYXJnZWQ6IGZhbHNlLA0KICAgICAgaXNCb3VnaHQ6IGZhbHNlLA0KICAgICAgaXNDaGFyZ2VkOiBmYWxzZSwNCiAgICAgIGlzRGlzYWJsZWQ6IGZhbHNlLA0KICAgICAgc2hvd2luZ0NoYXJnZWQ6IGZhbHNlLA0KICAgICAgaGFzVFMzMTogZmFsc2UsDQogICAgICB0czMxRWZmZWN0OiBuZXcgRGVjaW1hbCgwKQ0KICAgIH07DQogIH0sDQogIGNvbXB1dGVkOiB7DQogICAgaXNCYXNlZE9uSW5maW5pdGllcygpIHsNCiAgICAgIHJldHVybiAvKDE4fDI3fDM2fDQ1KU11bHQvdS50ZXN0KHRoaXMudXBncmFkZS5pZCkgfHwgdGhpcy51cGdyYWRlLmlkID09PSAiaW5maW5pdGllZE11bHQiOw0KICAgIH0sDQogICAgc2hpZnREb3duKCkgew0KICAgICAgcmV0dXJuIHVpLnZpZXcuc2hpZnREb3duOw0KICAgIH0sDQogICAgc2hvd0NoYXJnZWRFZmZlY3QoKSB7DQogICAgICByZXR1cm4gdGhpcy5jaGFyZ2VQb3NzaWJsZSAmJiAodGhpcy5pc0NoYXJnZWQgfHwgdGhpcy5zaG93aW5nQ2hhcmdlZCB8fCB0aGlzLnNoaWZ0RG93bik7DQogICAgfSwNCiAgICBjb25maWcoKSB7DQogICAgICBjb25zdCBjb25maWcgPSB0aGlzLnVwZ3JhZGUuY29uZmlnOw0KICAgICAgcmV0dXJuIHRoaXMuc2hvd0NoYXJnZWRFZmZlY3QNCiAgICAgICAgPyBjb25maWcuY2hhcmdlZA0KICAgICAgICA6IGNvbmZpZzsNCiAgICB9LA0KICAgIGNsYXNzT2JqZWN0KCkgew0KICAgICAgcmV0dXJuIHsNCiAgICAgICAgIm8taW5maW5pdHktdXBncmFkZS1idG4iOiB0cnVlLA0KICAgICAgICAiby1pbmZpbml0eS11cGdyYWRlLWJ0bi0tYm91Z2h0IjogIXRoaXMuaXNVc2VsZXNzICYmIHRoaXMuaXNCb3VnaHQsDQogICAgICAgICJvLWluZmluaXR5LXVwZ3JhZGUtYnRuLS1hdmFpbGFibGUiOiAhdGhpcy5pc1VzZWxlc3MgJiYgIXRoaXMuaXNCb3VnaHQgJiYgdGhpcy5jYW5CZUJvdWdodCwNCiAgICAgICAgIm8taW5maW5pdHktdXBncmFkZS1idG4tLXVuYXZhaWxhYmxlIjogIXRoaXMuaXNVc2VsZXNzICYmICF0aGlzLmlzQm91Z2h0ICYmICF0aGlzLmNhbkJlQm91Z2h0LA0KICAgICAgICAiby1pbmZpbml0eS11cGdyYWRlLWJ0bi0tdXNlbGVzcyI6IHRoaXMuaXNVc2VsZXNzLA0KICAgICAgICAiby1wZWxsZS1kaXNhYmxlZCI6IHRoaXMuaXNVc2VsZXNzLA0KICAgICAgICAiby1pbmZpbml0eS11cGdyYWRlLWJ0bi0tY2hhcmdlYWJsZSI6ICF0aGlzLmlzQ2hhcmdlZCAmJiB0aGlzLmNoYXJnZVBvc3NpYmxlICYmDQogICAgICAgICAgKHRoaXMuc2hvd2luZ0NoYXJnZWQgfHwgdGhpcy5zaGlmdERvd24pLA0KICAgICAgICAiby1pbmZpbml0eS11cGdyYWRlLWJ0bi0tY2hhcmdlZCI6IHRoaXMuaXNDaGFyZ2VkLA0KICAgICAgICAiby1wZWxsZS1kaXNhYmxlZC1wb2ludGVyIjogdGhpcy5pc1VzZWxlc3MNCiAgICAgIH07DQogICAgfSwNCiAgICBpc0ltcHJvdmVkQnlUUzMxKCkgew0KICAgICAgcmV0dXJuIHRoaXMuaGFzVFMzMSAmJiB0aGlzLmlzQmFzZWRPbkluZmluaXRpZXMgJiYgIXRoaXMuc2hvd0NoYXJnZWRFZmZlY3Q7DQogICAgfQ0KICB9LA0KICBtZXRob2RzOiB7DQogICAgdXBkYXRlKCkgew0KICAgICAgLy8gTm90ZSB0aGF0IHRoaXMgY29tcG9uZW50IGlzIHVzZWQgYnkgYm90aCBpbmZpbml0eSB1cGdyYWRlcyBhbmQgYnJlYWsgaW5maW5pdHkgdXBncmFkZXMNCiAgICAgIC8vIChwdXR0aW5nIHRoaXMgY29tbWVudCBoZXJlIHJhdGhlciB0aGFuIGF0IHRoZSB0b3Agb2YgdGhlIGNvbXBvbmVudCBzaW5jZSB0aGlzIGZ1bmN0aW9uDQogICAgICAvLyBzZWVtcyBtb3JlIGxpa2VseSB0byBiZSByZWFkKS4NCiAgICAgIGNvbnN0IHVwZ3JhZGUgPSB0aGlzLnVwZ3JhZGU7DQogICAgICB0aGlzLmlzQm91Z2h0ID0gdXBncmFkZS5pc0JvdWdodCB8fCB1cGdyYWRlLmlzQ2FwcGVkOw0KICAgICAgdGhpcy5jaGFyZ2VQb3NzaWJsZSA9IFJhLnVubG9ja3MuY2hhcmdlZEluZmluaXR5VXBncmFkZXMuY2FuQmVBcHBsaWVkICYmDQogICAgICAgIHVwZ3JhZGUuaGFzQ2hhcmdlRWZmZWN0ICYmICFQZWxsZS5pc0Rvb21lZDsNCiAgICAgIHRoaXMuY2FuQmVCb3VnaHQgPSB1cGdyYWRlLmNhbkJlQm91Z2h0Ow0KICAgICAgdGhpcy5jYW5CZUNoYXJnZWQgPSB1cGdyYWRlLmNhbkNoYXJnZTsNCiAgICAgIHRoaXMuaXNDaGFyZ2VkID0gdXBncmFkZS5pc0NoYXJnZWQ7DQogICAgICAvLyBBIGJpdCBoYWNreSwgYnV0IHRoZSBvZmZsaW5lIHBhc3NpdmUgSVAgdXBncmFkZSAodGhlIG9uZSB0aGF0IGRvZXNuJ3Qgd29yayBvbmxpbmUpDQogICAgICAvLyBzaG91bGQgaGlkZSBpdHMgZWZmZWN0IHZhbHVlIGlmIG9mZmxpbmUgcHJvZ3Jlc3MgaXMgZGlzYWJsZWQsIGluIG9yZGVyIHRvIGJlDQogICAgICAvLyBjb25zaXN0ZW50IHdpdGggdGhlIG90aGVyIG9mZmxpbmUgcHJvZ3Jlc3MgdXBncmFkZXMgd2hpY2ggaGlkZSBhcyB3ZWxsLg0KICAgICAgLy8gQWxzbywgdGhlIElQIHVwZ3JhZGUgdGhhdCB3b3JrcyBib3RoIG9ubGluZSBhbmQgb2ZmbGluZSBzaG91bGQgbm90DQogICAgICAvLyBzaG93IDAgaWYgaXRzIHZhbHVlIGlzIDAuIFRoaXMgaXMgYSBiaXQgaW5jb252ZW5pZW50IGJlY2F1c2Ugc29tZXRpbWVzLA0KICAgICAgLy8gbGlrZSBhZnRlciBldGVybml0eSwgaXQgY2FuIGJlIGJvdWdodCBidXQgaGF2ZSB2YWx1ZSAwLCBidXQgbm90IHNob3dpbmcgdGhlIGVmZmVjdA0KICAgICAgLy8gaW4gdGhpcyBjYXNlIGRvZXNuJ3QgZmVlbCB0b28gYmFkLiBPdGhlciB1cGdyYWRlcywgaW5jbHVkaW5nIHRoZSBjb3N0IHNjYWxpbmcNCiAgICAgIC8vIHJlYnV5YWJsZXMsIHNob3VsZCBuZXZlciBoaWRlIHRoZWlyIGVmZmVjdC4NCiAgICAgIHRoaXMuaXNEaXNhYmxlZCA9IHVwZ3JhZGUuY29uZmlnLmlzRGlzYWJsZWQgJiYgdXBncmFkZS5jb25maWcuaXNEaXNhYmxlZCh1cGdyYWRlLmNvbmZpZy5lZmZlY3QoKSk7DQogICAgICB0aGlzLmlzVXNlbGVzcyA9IFBlbGxlLnVzZWxlc3NJbmZpbml0eVVwZ3JhZGVzLmluY2x1ZGVzKHVwZ3JhZGUuaWQpICYmIFBlbGxlLmlzRG9vbWVkOw0KICAgICAgdGhpcy5oYXNUUzMxID0gVGltZVN0dWR5KDMxKS5jYW5CZUFwcGxpZWQ7DQogICAgICBpZiAoIXRoaXMuaXNEaXNhYmxlZCAmJiB0aGlzLmlzSW1wcm92ZWRCeVRTMzEpIHRoaXMudHMzMUVmZmVjdCA9IERlY2ltYWwucG93KHVwZ3JhZGUuY29uZmlnLmVmZmVjdCgpLCA0KTsNCiAgICAgIGlmICh1cGdyYWRlLmlkICE9PSAiY2hhbGxlbmdlTXVsdCIpIHJldHVybjsNCiAgICAgIHRoaXMuc2hvd1dvcnN0Q2hhbGxlbmdlID0gdXBncmFkZS5lZmZlY3RWYWx1ZSAhPT0gdXBncmFkZS5jYXAgJiYNCiAgICAgICAgcGxheWVyLmNoYWxsZW5nZS5ub3JtYWwuYmVzdFRpbWVzLnN1bSgpIDwgTnVtYmVyLk1BWF9WQUxVRTsNCiAgICAgIGNvbnN0IHdvcnN0Q2hhbGxlbmdlVGltZSA9IEdhbWVDYWNoZS53b3JzdENoYWxsZW5nZVRpbWUudmFsdWU7DQogICAgICBjb25zdCB3b3JzdENoYWxsZW5nZUluZGV4ID0gMiArIHBsYXllci5jaGFsbGVuZ2Uubm9ybWFsLmJlc3RUaW1lcy5pbmRleE9mKHdvcnN0Q2hhbGxlbmdlVGltZSk7DQogICAgICB0aGlzLndvcnN0Q2hhbGxlbmdlU3RyaW5nID0gYChDaGFsbGVuZ2UgJHt3b3JzdENoYWxsZW5nZUluZGV4fTogJHt0aW1lRGlzcGxheVNob3J0KHdvcnN0Q2hhbGxlbmdlVGltZSl9KWA7DQogICAgfQ0KICB9DQp9Ow0K"},{"version":3,"sources":["InfinityUpgradeButton.vue"],"names":[],"mappings":";AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"InfinityUpgradeButton.vue","sourceRoot":"src/components","sourcesContent":["<script>\r\nimport CostDisplay from \"@/components/CostDisplay\";\r\nimport DescriptionDisplay from \"@/components/DescriptionDisplay\";\r\nimport EffectDisplay from \"@/components/EffectDisplay\";\r\n\r\nexport default {\r\n  name: \"InfinityUpgradeButton\",\r\n  components: {\r\n    DescriptionDisplay,\r\n    EffectDisplay,\r\n    CostDisplay,\r\n  },\r\n  props: {\r\n    upgrade: {\r\n      type: Object,\r\n      required: true\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      showWorstChallenge: false,\r\n      worstChallengeString: \"\",\r\n      isUseless: false,\r\n      canBeBought: false,\r\n      chargePossible: false,\r\n      canBeCharged: false,\r\n      isBought: false,\r\n      isCharged: false,\r\n      isDisabled: false,\r\n      showingCharged: false,\r\n      hasTS31: false,\r\n      ts31Effect: new Decimal(0)\r\n    };\r\n  },\r\n  computed: {\r\n    isBasedOnInfinities() {\r\n      return /(18|27|36|45)Mult/u.test(this.upgrade.id) || this.upgrade.id === \"infinitiedMult\";\r\n    },\r\n    shiftDown() {\r\n      return ui.view.shiftDown;\r\n    },\r\n    showChargedEffect() {\r\n      return this.chargePossible && (this.isCharged || this.showingCharged || this.shiftDown);\r\n    },\r\n    config() {\r\n      const config = this.upgrade.config;\r\n      return this.showChargedEffect\r\n        ? config.charged\r\n        : config;\r\n    },\r\n    classObject() {\r\n      return {\r\n        \"o-infinity-upgrade-btn\": true,\r\n        \"o-infinity-upgrade-btn--bought\": !this.isUseless && this.isBought,\r\n        \"o-infinity-upgrade-btn--available\": !this.isUseless && !this.isBought && this.canBeBought,\r\n        \"o-infinity-upgrade-btn--unavailable\": !this.isUseless && !this.isBought && !this.canBeBought,\r\n        \"o-infinity-upgrade-btn--useless\": this.isUseless,\r\n        \"o-pelle-disabled\": this.isUseless,\r\n        \"o-infinity-upgrade-btn--chargeable\": !this.isCharged && this.chargePossible &&\r\n          (this.showingCharged || this.shiftDown),\r\n        \"o-infinity-upgrade-btn--charged\": this.isCharged,\r\n        \"o-pelle-disabled-pointer\": this.isUseless\r\n      };\r\n    },\r\n    isImprovedByTS31() {\r\n      return this.hasTS31 && this.isBasedOnInfinities && !this.showChargedEffect;\r\n    }\r\n  },\r\n  methods: {\r\n    update() {\r\n      // Note that this component is used by both infinity upgrades and break infinity upgrades\r\n      // (putting this comment here rather than at the top of the component since this function\r\n      // seems more likely to be read).\r\n      const upgrade = this.upgrade;\r\n      this.isBought = upgrade.isBought || upgrade.isCapped;\r\n      this.chargePossible = Ra.unlocks.chargedInfinityUpgrades.canBeApplied &&\r\n        upgrade.hasChargeEffect && !Pelle.isDoomed;\r\n      this.canBeBought = upgrade.canBeBought;\r\n      this.canBeCharged = upgrade.canCharge;\r\n      this.isCharged = upgrade.isCharged;\r\n      // A bit hacky, but the offline passive IP upgrade (the one that doesn't work online)\r\n      // should hide its effect value if offline progress is disabled, in order to be\r\n      // consistent with the other offline progress upgrades which hide as well.\r\n      // Also, the IP upgrade that works both online and offline should not\r\n      // show 0 if its value is 0. This is a bit inconvenient because sometimes,\r\n      // like after eternity, it can be bought but have value 0, but not showing the effect\r\n      // in this case doesn't feel too bad. Other upgrades, including the cost scaling\r\n      // rebuyables, should never hide their effect.\r\n      this.isDisabled = upgrade.config.isDisabled && upgrade.config.isDisabled(upgrade.config.effect());\r\n      this.isUseless = Pelle.uselessInfinityUpgrades.includes(upgrade.id) && Pelle.isDoomed;\r\n      this.hasTS31 = TimeStudy(31).canBeApplied;\r\n      if (!this.isDisabled && this.isImprovedByTS31) this.ts31Effect = Decimal.pow(upgrade.config.effect(), 4);\r\n      if (upgrade.id !== \"challengeMult\") return;\r\n      this.showWorstChallenge = upgrade.effectValue !== upgrade.cap &&\r\n        player.challenge.normal.bestTimes.sum() < Number.MAX_VALUE;\r\n      const worstChallengeTime = GameCache.worstChallengeTime.value;\r\n      const worstChallengeIndex = 2 + player.challenge.normal.bestTimes.indexOf(worstChallengeTime);\r\n      this.worstChallengeString = `(Challenge ${worstChallengeIndex}: ${timeDisplayShort(worstChallengeTime)})`;\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<template>\r\n  <button\r\n    :class=\"classObject\"\r\n    @mouseenter=\"showingCharged = canBeCharged\"\r\n    @mouseleave=\"showingCharged = false\"\r\n    @click=\"upgrade.purchase()\"\r\n  >\r\n    <span :class=\"{ 'o-pelle-disabled': isUseless }\">\r\n      <DescriptionDisplay\r\n        :config=\"config\"\r\n      />\r\n      <span v-if=\"showWorstChallenge\">\r\n        <br>\r\n        {{ worstChallengeString }}\r\n      </span>\r\n      <EffectDisplay\r\n        v-if=\"!isDisabled\"\r\n        br\r\n        :config=\"config\"\r\n      />\r\n      <template v-if=\"!isDisabled && isImprovedByTS31\">\r\n        <br>\r\n        After TS31: {{ formatX(ts31Effect, 2, 2) }}\r\n      </template>\r\n    </span>\r\n    <CostDisplay\r\n      v-if=\"!isBought\"\r\n      br\r\n      :config=\"config\"\r\n      name=\"Infinity Point\"\r\n    />\r\n    <slot />\r\n  </button>\r\n</template>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n"]}]}