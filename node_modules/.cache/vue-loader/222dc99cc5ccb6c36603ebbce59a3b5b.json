{"remainingRequest":"C:\\Games\\ADFasterer\\ADfasterer\\node_modules\\@vue\\vue-loader-v15\\lib\\index.js??vue-loader-options!C:\\Games\\ADFasterer\\ADfasterer\\src\\components\\modals\\StudyStringModal.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Games\\ADFasterer\\ADfasterer\\src\\components\\modals\\StudyStringModal.vue","mtime":1745241596852},{"path":"C:\\Games\\ADFasterer\\ADfasterer\\node_modules\\babel-loader\\lib\\index.js","mtime":1745242219290},{"path":"C:\\Games\\ADFasterer\\ADfasterer\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1745242214069},{"path":"C:\\Games\\ADFasterer\\ADfasterer\\node_modules\\@vue\\vue-loader-v15\\lib\\index.js","mtime":1745242220175}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQppbXBvcnQgeyBzaGE1MTJfMjU2IH0gZnJvbSAianMtc2hhNTEyIjsNCg0KaW1wb3J0IE1vZGFsV3JhcHBlckNob2ljZSBmcm9tICJAL2NvbXBvbmVudHMvbW9kYWxzL01vZGFsV3JhcHBlckNob2ljZSI7DQppbXBvcnQgUHJpbWFyeUJ1dHRvbiBmcm9tICJAL2NvbXBvbmVudHMvUHJpbWFyeUJ1dHRvbiI7DQppbXBvcnQgU3R1ZHlTdHJpbmdMaW5lIGZyb20gIkAvY29tcG9uZW50cy9tb2RhbHMvU3R1ZHlTdHJpbmdMaW5lIjsNCg0KaW1wb3J0IFN0dWR5U3RyaW5nUHJldmlldyBmcm9tICIuL3RpbWUtc3R1ZHktbW9kYWwtcHJldmlldy9TdHVkeVN0cmluZ1ByZXZpZXciOw0KaW1wb3J0IFN0dWR5VHJlZUluZm8gZnJvbSAiLi9TdHVkeVRyZWVJbmZvIjsNCg0KbGV0IHNhdmVkSW1wb3J0U3RyaW5nID0gIiI7DQoNCmV4cG9ydCBkZWZhdWx0IHsNCiAgbmFtZTogIlN0dWR5U3RyaW5nTW9kYWwiLA0KICBjb21wb25lbnRzOiB7DQogICAgTW9kYWxXcmFwcGVyQ2hvaWNlLA0KICAgIFN0dWR5U3RyaW5nTGluZSwNCiAgICBQcmltYXJ5QnV0dG9uLA0KICAgIFN0dWR5U3RyaW5nUHJldmlldywNCiAgICBTdHVkeVRyZWVJbmZvDQogIH0sDQogIHByb3BzOiB7DQogICAgaWQ6IHsNCiAgICAgIHR5cGU6IE51bWJlciwNCiAgICAgIHJlcXVpcmVkOiB0cnVlLA0KICAgIH0sDQogICAgZGVsZXRpbmc6IHsNCiAgICAgIHR5cGU6IEJvb2xlYW4sDQogICAgICByZXF1aXJlZDogZmFsc2UsDQogICAgICBkZWZhdWx0OiBmYWxzZSwNCiAgICB9DQogIH0sDQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIGlucHV0OiAiIiwNCiAgICAgIG5hbWU6ICIiLA0KICAgICAgcmVzcGVjQW5kTG9hZDogZmFsc2UsDQogICAgICBjYW5FdGVybml0eTogZmFsc2UNCiAgICB9Ow0KICB9LA0KICBjb21wdXRlZDogew0KICAgIC8vIFRoaXMgbW9kYWwgaXMgdXNlZCBieSBib3RoIHN0dWR5IGltcG9ydGluZyBhbmQgcHJlc2V0IGVkaXRpbmcsIGJ1dCBpcyBnaXZlbiBhbiBpZCBvZiAtMSB3aGVuIGltcG9ydGluZw0KICAgIGlzSW1wb3J0aW5nKCkgew0KICAgICAgcmV0dXJuIHRoaXMuaWQgPT09IC0xOw0KICAgIH0sDQogICAgLy8gVGhpcyByZXByZXNlbnRzIHRoZSBzdGF0ZSByZWFjaGVkIGZyb20gaW1wb3J0aW5nIGludG8gYW4gZW1wdHkgdHJlZQ0KICAgIGltcG9ydGVkVHJlZSgpIHsNCiAgICAgIGlmICghdGhpcy5pbnB1dElzVmFsaWRUcmVlKSByZXR1cm4ge307DQogICAgICBjb25zdCBpbXBvcnRlZFRyZWUgPSBuZXcgVGltZVN0dWR5VHJlZSh0aGlzLnRydW5jYXRlZElucHV0KTsNCiAgICAgIGNvbnN0IG5ld1N0dWRpZXNBcnJheSA9IGltcG9ydGVkVHJlZS5wdXJjaGFzZWRTdHVkaWVzLm1hcChzID0+IHRoaXMuc3R1ZHlTdHJpbmcocykpOw0KICAgICAgcmV0dXJuIHsNCiAgICAgICAgdGltZVRoZW9yZW1zOiBpbXBvcnRlZFRyZWUuc3BlbnRUaGVvcmVtc1swXSwNCiAgICAgICAgc3BhY2VUaGVvcmVtczogaW1wb3J0ZWRUcmVlLnNwZW50VGhlb3JlbXNbMV0sDQogICAgICAgIG5ld1N0dWRpZXM6IG1ha2VFbnVtZXJhdGlvbihuZXdTdHVkaWVzQXJyYXkpLA0KICAgICAgICBuZXdTdHVkaWVzQXJyYXksDQogICAgICAgIGludmFsaWRTdHVkaWVzOiBpbXBvcnRlZFRyZWUuaW52YWxpZFN0dWRpZXMsDQogICAgICAgIGZpcnN0UGF0aHM6IG1ha2VFbnVtZXJhdGlvbihpbXBvcnRlZFRyZWUuZGltZW5zaW9uUGF0aHMpLA0KICAgICAgICBzZWNvbmRQYXRoczogbWFrZUVudW1lcmF0aW9uKGltcG9ydGVkVHJlZS5wYWNlUGF0aHMpLA0KICAgICAgICBlYzogaW1wb3J0ZWRUcmVlLmVjLA0KICAgICAgICBzdGFydEVDOiBpbXBvcnRlZFRyZWUuc3RhcnRFQywNCiAgICAgICAgaGFzSW5mbzogbWFrZUVudW1lcmF0aW9uKGltcG9ydGVkVHJlZS5kaW1lbnNpb25QYXRocykgfHwgaW1wb3J0ZWRUcmVlLmVjID4gMCwNCiAgICAgIH07DQogICAgfSwNCiAgICAvLyBUaGlzIGlzIG9ubHkgc2hvd24gd2hlbiBpbXBvcnRpbmc7IHdoZW4gbW9kaWZ5aW5nIGEgcHJlc2V0IHdlIGFzc3VtZSB0aGF0IGdlbmVyYWxseSB0aGUgY3VycmVudCBzdGF0ZSBvZiB0aGUNCiAgICAvLyB0cmVlIGlzIGlycmVsZXZhbnQgYmVjYXVzZSBpZiBpdCBtYXR0ZXJlZCB0aGVuIHRoZSBwbGF5ZXIgd291bGQgc2ltcGx5IGltcG9ydCBpbnN0ZWFkDQogICAgY29tYmluZWRUcmVlKCkgew0KICAgICAgaWYgKCF0aGlzLmlucHV0SXNWYWxpZFRyZWUpIHJldHVybiB7fTsNCiAgICAgIGNvbnN0IGN1cnJlbnRTdHVkeVRyZWUgPSBHYW1lQ2FjaGUuY3VycmVudFN0dWR5VHJlZS52YWx1ZTsNCiAgICAgIGNvbnN0IGNvbWJpbmVkVHJlZSA9IHRoaXMuY29tYmluZWRUcmVlT2JqZWN0Ow0KICAgICAgY29uc3QgbmV3U3R1ZGllc0FycmF5ID0gY29tYmluZWRUcmVlLnB1cmNoYXNlZFN0dWRpZXMNCiAgICAgICAgLmZpbHRlcihzID0+ICFjdXJyZW50U3R1ZHlUcmVlLnB1cmNoYXNlZFN0dWRpZXMuaW5jbHVkZXMocykpLm1hcChzID0+IHRoaXMuc3R1ZHlTdHJpbmcocykpOw0KICAgICAgLy8gVG8gc3RhcnQgYW4gRUMgdXNpbmcgdGhlICEgZnVuY3Rpb25hbGl0eSwgd2Ugd2FudCB0byBtYWtlIHN1cmUgYWxsIHRoZSBmb2xsb3dpbmcgYXJlIHRydWU6DQogICAgICAvLyAtIFRoZSBpbXBvcnRlZCBzdHJpbmcgbmVlZHMgdG8gZW5kIHdpdGggIiEiICh0aGlzIGlzIHBhcnNlZCBvdXQgaW4gdGltZS1zdHVkeS10cmVlLmpzIGFuZCBzdG9yZWQgaW50byB0aGUNCiAgICAgIC8vICAgY2FuU3RhcnQgcHJvcCBmb3IgdHJlZSBvYmplY3RzKQ0KICAgICAgLy8gLSBXZSBjYW4gdW5sb2NrIHRoZSBFQyBpbiB0aGUgc3RyaW5nLiBUaGlzIHJlcXVpcmVzIGVpdGhlciBubyBFQyBjdXJyZW50bHkgdW5sb2NrZWQsIG9yIHdlIGNvaW5jaWRlbnRhbGx5DQogICAgICAvLyAgIGFscmVhZHkgaGF2ZSBpdCB1bmxvY2tlZA0KICAgICAgLy8gLSBUaGUgRUNzIGluIHRoZSB0cmVlIG9iamVjdCBhbmQgdGhlIGltcG9ydCBzdHJpbmcgTVVTVCBtYXRjaDsgdGhlIG9ubHkgRUMgd2Ugd2FudCB0byB0cnkgdG8gZW50ZXIgaXMgdGhlDQogICAgICAvLyAgIG9uZSB3aGljaCBpcyBiZWluZyBpbXBvcnRlZCwgYW5kIHRoZSB0cmVlIG9iamVjdCB3aWxsIGNvbnRhaW4gYSBkaWZmZXJlbnQgRUMgaWYgd2UgYWxyZWFkeSBoYXZlIG9uZQ0KICAgICAgY29uc3Qgc3RyaW5nRUMgPSBUaW1lU3R1ZHlUcmVlLmdldEVDRnJvbVN0cmluZyh0aGlzLnRydW5jYXRlZElucHV0KTsNCiAgICAgIGNvbnN0IGhhc0V4Y2xhbWF0aW9uUG9pbnQgPSBjb21iaW5lZFRyZWUuc3RhcnRFQzsNCiAgICAgIGNvbnN0IGNhblVubG9ja0VDID0gWzAsIHN0cmluZ0VDXS5pbmNsdWRlcyhwbGF5ZXIuY2hhbGxlbmdlLmV0ZXJuaXR5LmN1cnJlbnQpOw0KICAgICAgY29uc3QgaGFzRUNNaXNtYXRjaCA9IGNvbWJpbmVkVHJlZS5lYyAhPT0gc3RyaW5nRUM7DQogICAgICByZXR1cm4gew0KICAgICAgICB0aW1lVGhlb3JlbXM6IGNvbWJpbmVkVHJlZS5zcGVudFRoZW9yZW1zWzBdIC0gY3VycmVudFN0dWR5VHJlZS5zcGVudFRoZW9yZW1zWzBdLA0KICAgICAgICBzcGFjZVRoZW9yZW1zOiBjb21iaW5lZFRyZWUuc3BlbnRUaGVvcmVtc1sxXSAtIGN1cnJlbnRTdHVkeVRyZWUuc3BlbnRUaGVvcmVtc1sxXSwNCiAgICAgICAgbmV3U3R1ZGllczogbWFrZUVudW1lcmF0aW9uKG5ld1N0dWRpZXNBcnJheSksDQogICAgICAgIG5ld1N0dWRpZXNBcnJheSwNCiAgICAgICAgZmlyc3RQYXRoczogbWFrZUVudW1lcmF0aW9uKGNvbWJpbmVkVHJlZS5kaW1lbnNpb25QYXRocyksDQogICAgICAgIHNlY29uZFBhdGhzOiBtYWtlRW51bWVyYXRpb24oY29tYmluZWRUcmVlLnBhY2VQYXRocyksDQogICAgICAgIGVjOiBjb21iaW5lZFRyZWUuZWMsDQogICAgICAgIHN0YXJ0RUM6IGhhc0V4Y2xhbWF0aW9uUG9pbnQgJiYgY2FuVW5sb2NrRUMgJiYgIWhhc0VDTWlzbWF0Y2gsDQogICAgICAgIGhhc0luZm86IG1ha2VFbnVtZXJhdGlvbihjb21iaW5lZFRyZWUuZGltZW5zaW9uUGF0aHMpIHx8IGNvbWJpbmVkVHJlZS5lYyA+IDAsDQogICAgICB9Ow0KICAgIH0sDQogICAgY29tYmluZWRUcmVlT2JqZWN0KCkgew0KICAgICAgY29uc3QgY29tYmluZWRUcmVlID0gbmV3IFRpbWVTdHVkeVRyZWUoKTsNCiAgICAgIGNvbWJpbmVkVHJlZS5hdHRlbXB0QnV5QXJyYXkoVGltZVN0dWR5VHJlZS5jdXJyZW50U3R1ZGllcywgZmFsc2UpOw0KICAgICAgY29tYmluZWRUcmVlLmF0dGVtcHRCdXlBcnJheShjb21iaW5lZFRyZWUucGFyc2VTdHVkeUltcG9ydCh0aGlzLnRydW5jYXRlZElucHV0KSwgdHJ1ZSk7DQogICAgICByZXR1cm4gY29tYmluZWRUcmVlOw0KICAgIH0sDQogICAgbW9kYWxUaXRsZSgpIHsNCiAgICAgIGlmICh0aGlzLmRlbGV0aW5nKSByZXR1cm4gYERlbGV0aW5nIFN0dWR5IFByZXNldCAiJHt0aGlzLm5hbWV9ImA7DQogICAgICByZXR1cm4gdGhpcy5pc0ltcG9ydGluZyA/ICJJbnB1dCB5b3VyIHRyZWUiIDogYEVkaXRpbmcgU3R1ZHkgUHJlc2V0ICIke3RoaXMubmFtZX0iYDsNCiAgICB9LA0KICAgIGludmFsaWRNZXNzYWdlKCkgew0KICAgICAgaWYgKCF0aGlzLmlucHV0SXNWYWxpZFRyZWUgfHwgdGhpcy5pbXBvcnRlZFRyZWUuaW52YWxpZFN0dWRpZXMubGVuZ3RoID09PSAwKSByZXR1cm4gbnVsbDsNCiAgICAgIC8vIFBhZCB0aGUgaW5wdXQgd2l0aCBub24tZGlnaXRzIHdoaWNoIHdlIHJlbW92ZSBsYXRlciBpbiBvcmRlciB0byBub3QgY2F1c2UgZXJyb25lb3VzIGV4dHJhIG1hdGNoZXMgd2l0aGluIElEcw0KICAgICAgLy8gYW5kIGxpbWl0IHRoZSBzdHJpbmcgbGVuZ3RoIHRvIHN0b3AgZXhjZXNzaXZlIFVJIHN0cmV0Y2gNCiAgICAgIGxldCBjb2xvcmVkU3RyaW5nID0gYCMke3RoaXMudHJ1bmNhdGVkSW5wdXR9I2A7DQogICAgICBpZiAoY29sb3JlZFN0cmluZy5sZW5ndGggPiAzMDApIGNvbG9yZWRTdHJpbmcgPSBgJHtjb2xvcmVkU3RyaW5nLnNsaWNlKDAsIDI5Nyl9Li4uYDsNCg0KICAgICAgZm9yIChjb25zdCBzdHVkeSBvZiB0aGlzLmltcG9ydGVkVHJlZS5pbnZhbGlkU3R1ZGllcykgew0KICAgICAgICBjb25zdCBpZCA9IGAke3N0dWR5fWAubWF0Y2goLyhFQyk/KFxkKykvdSk7DQogICAgICAgIGNvbnN0IG51bSA9IHBhcnNlSW50KGlkWzJdLCAxMCk7DQogICAgICAgIHN3aXRjaCAoaWRbMV0pIHsNCiAgICAgICAgICBjYXNlICJFQyI6DQogICAgICAgICAgICBjb2xvcmVkU3RyaW5nID0gY29sb3JlZFN0cmluZy5yZXBsYWNlQWxsKG5ldyBSZWdFeHAoYFxcfCgke251bX0pYCwgImd1IiksDQogICAgICAgICAgICAgIGB8PHNwYW4gc3R5bGU9ImNvbG9yOiB2YXIoLS1jb2xvci1iYWQpOyI+JDE8L3NwYW4+YCk7DQogICAgICAgICAgICBicmVhazsNCiAgICAgICAgICBkZWZhdWx0Og0KICAgICAgICAgICAgY29sb3JlZFN0cmluZyA9IGNvbG9yZWRTdHJpbmcucmVwbGFjZUFsbChuZXcgUmVnRXhwKGAoXFxEKSgke251bX0pKFxcRClgLCAiZ3UiKSwNCiAgICAgICAgICAgICAgYCQxPHNwYW4gc3R5bGU9ImNvbG9yOiB2YXIoLS1jb2xvci1iYWQpOyI+JDI8L3NwYW4+JDNgKTsNCiAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICB9DQogICAgICB9DQogICAgICByZXR1cm4gYFlvdXIgaW1wb3J0IHN0cmluZyBoYXMgaW52YWxpZCBzdHVkeSBJRHM6ICR7Y29sb3JlZFN0cmluZy5yZXBsYWNlQWxsKCIjIiwgIiIpLnJlcGxhY2VBbGwoIiwiLCAiLCAiKX0NCiAgICAgICAgPGJyPjxicj5gOw0KICAgIH0sDQogICAgdHJ1bmNhdGVkSW5wdXQoKSB7DQogICAgICByZXR1cm4gVGltZVN0dWR5VHJlZS50cnVuY2F0ZUlucHV0KHRoaXMuaW5wdXQpOw0KICAgIH0sDQogICAgaGFzSW5wdXQoKSB7DQogICAgICByZXR1cm4gdGhpcy50cnVuY2F0ZWRJbnB1dCAhPT0gIiI7DQogICAgfSwNCiAgICBpbnB1dElzVmFsaWQoKSB7DQogICAgICByZXR1cm4gdGhpcy5pbnB1dElzVmFsaWRUcmVlIHx8IHRoaXMuaW5wdXRJc1NlY3JldDsNCiAgICB9LA0KICAgIGlucHV0SXNWYWxpZFRyZWUoKSB7DQogICAgICByZXR1cm4gVGltZVN0dWR5VHJlZS5pc1ZhbGlkSW1wb3J0U3RyaW5nKHRoaXMudHJ1bmNhdGVkSW5wdXQpOw0KICAgIH0sDQogICAgaW5wdXRJc1NlY3JldCgpIHsNCiAgICAgIC8vIFRoZSBidXR0b24gdG8gb3BlbiB0aGUgbW9kYWwgYW5kIHRoZSBhY3R1YWwgbW9kYWwgaXRzZWxmIGRpc3BsYXkgdHdvIGRpZmZlcmVudCBzdHJpbmdzOw0KICAgICAgLy8gd2Ugc2hvdWxkIGFsbG93IGVpdGhlciB0byB1bmxvY2sgdGhlIHNlY3JldCBhY2hpZXZlbWVudA0KICAgICAgY29uc3Qgc2VjcmV0U3RyaW5ncyA9IFsNCiAgICAgICAgIjA4YjgxOWYyNTNiNjg0NzczZTg3NmRmNTMwZjk1ZGNiODVkMmZiMDUyMDQ2ZmExNmVjMzIxYzY1ZjMzMzA2MDgiLA0KICAgICAgICAiYmI0NTBjMmEzODY5YmFlNDEyZWQwYjQzMDRkYzIyOTUyMWZjNjlmMGZkY2M5NWIzYjYxNDYwYWFmNTY1OGZjNCINCiAgICAgIF07DQogICAgICByZXR1cm4gc2VjcmV0U3RyaW5ncy5pbmNsdWRlcyhzaGE1MTJfMjU2KHRoaXMuaW5wdXQudG9Mb3dlckNhc2UoKSkpOw0KICAgIH0sDQogICAgY29uZmlybVRleHQoKSB7DQogICAgICBpZiAodGhpcy5kZWxldGluZykgcmV0dXJuICJEZWxldGUiOw0KICAgICAgcmV0dXJuIHRoaXMuaXNJbXBvcnRpbmcgPyAiSW1wb3J0IiA6ICJTYXZlIjsNCiAgICB9DQogIH0sDQogIHdhdGNoOiB7DQogICAgaW5wdXQobmV3SW5wdXQpIHsNCiAgICAgIHNhdmVkSW1wb3J0U3RyaW5nID0gbmV3SW5wdXQ7DQogICAgfQ0KICB9LA0KICAvLyBOZWVkcyB0byBiZSBhc3NpZ25lZCBpbiBjcmVhdGVkKCkgb3IgZWxzZSB0aGV5IHdpbGwgZW5kIHVwIGJlaW5nIHVuZGVmaW5lZCB3aGVuIGltcG9ydGluZw0KICBjcmVhdGVkKCkgew0KICAgIGNvbnN0IHByZXNldCA9IHBsYXllci50aW1lc3R1ZHkucHJlc2V0c1t0aGlzLmlkXTsNCiAgICB0aGlzLmlucHV0ID0gcHJlc2V0ID8gcHJlc2V0LnN0dWRpZXMgOiBzYXZlZEltcG9ydFN0cmluZzsNCiAgICB0aGlzLm5hbWUgPSBwcmVzZXQgPyBwcmVzZXQubmFtZSA6ICIiOw0KICB9LA0KICBtb3VudGVkKCkgew0KICAgIHRoaXMuJHJlZnMuaW5wdXQuc2VsZWN0KCk7DQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICB1cGRhdGUoKSB7DQogICAgICB0aGlzLmNhbkV0ZXJuaXR5ID0gUGxheWVyLmNhbkV0ZXJuaXR5Ow0KICAgIH0sDQogICAgY29uZmlybSgpIHsNCiAgICAgIGlmICh0aGlzLmRlbGV0aW5nKSB7DQogICAgICAgIHRoaXMuZGVsZXRlUHJlc2V0KCk7DQogICAgICB9IGVsc2UgaWYgKHRoaXMuaXNJbXBvcnRpbmcpIHsNCiAgICAgICAgaWYgKHRoaXMucmVzcGVjQW5kTG9hZCAmJiBQbGF5ZXIuY2FuRXRlcm5pdHkpIHsNCiAgICAgICAgICBwbGF5ZXIucmVzcGVjID0gdHJ1ZTsNCiAgICAgICAgICBjb25zdCB0cmVlID0gbmV3IFRpbWVTdHVkeVRyZWUodGhpcy50cnVuY2F0ZWRJbnB1dCk7DQogICAgICAgICAgYW5pbWF0ZUFuZEV0ZXJuaXR5KCgpID0+IFRpbWVTdHVkeVRyZWUuY29tbWl0VG9HYW1lU3RhdGUodHJlZS5wdXJjaGFzZWRTdHVkaWVzLCBmYWxzZSwgdHJlZS5zdGFydEVDKSk7DQogICAgICAgICAgcmV0dXJuOw0KICAgICAgICB9DQogICAgICAgIHRoaXMuaW1wb3J0VHJlZSgpOw0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgdGhpcy5zYXZlUHJlc2V0KCk7DQogICAgICB9DQogICAgfSwNCiAgICBjb252ZXJ0SW5wdXRTaG9ydGhhbmRzKCkgew0KICAgICAgdGhpcy5pbnB1dCA9IFRpbWVTdHVkeVRyZWUuZm9ybWF0U3R1ZHlMaXN0KHRoaXMuaW5wdXQpOw0KICAgIH0sDQogICAgaW1wb3J0VHJlZSgpIHsNCiAgICAgIGlmICghdGhpcy5pbnB1dElzVmFsaWQpIHJldHVybjsNCiAgICAgIGlmICh0aGlzLmlucHV0SXNTZWNyZXQpIFNlY3JldEFjaGlldmVtZW50KDM3KS51bmxvY2soKTsNCiAgICAgIHNhdmVkSW1wb3J0U3RyaW5nID0gIiI7DQogICAgICB0aGlzLmVtaXRDbG9zZSgpOw0KICAgICAgLy8gV2UgbmVlZCB0byB1c2UgYSBjb21iaW5lZCB0cmVlIGZvciBjb21taXR0aW5nIHRvIHRoZSBnYW1lIHN0YXRlLCBvciBlbHNlIGl0IHdvbid0IGJ1eSBzdHVkaWVzIGluIHRoZSBpbXBvcnRlZA0KICAgICAgLy8gdHJlZSBhcmUgb25seSByZWFjaGFibGUgaWYgdGhlIGN1cnJlbnQgdHJlZSBpcyBhbHJlYWR5IGJvdWdodA0KICAgICAgVGltZVN0dWR5VHJlZS5jb21taXRUb0dhbWVTdGF0ZSh0aGlzLmNvbWJpbmVkVHJlZU9iamVjdC5wdXJjaGFzZWRTdHVkaWVzLCBmYWxzZSwgdGhpcy5jb21iaW5lZFRyZWUuc3RhcnRFQyk7DQogICAgfSwNCiAgICBzYXZlUHJlc2V0KCkgew0KICAgICAgaWYgKHRoaXMuaW5wdXRJc1ZhbGlkKSB7DQogICAgICAgIHBsYXllci50aW1lc3R1ZHkucHJlc2V0c1t0aGlzLmlkXS5zdHVkaWVzID0gdGhpcy5pbnB1dDsNCiAgICAgICAgR2FtZVVJLm5vdGlmeS5ldGVybml0eShgU3R1ZHkgVHJlZSAke3RoaXMubmFtZX0gc3VjY2Vzc2Z1bGx5IGVkaXRlZC5gKTsNCiAgICAgICAgdGhpcy5lbWl0Q2xvc2UoKTsNCiAgICAgIH0NCiAgICB9LA0KICAgIGRlbGV0ZVByZXNldCgpIHsNCiAgICAgIGNvbnN0IG5hbWUgPSBwbGF5ZXIudGltZXN0dWR5LnByZXNldHNbdGhpcy5pZF0ubmFtZTsNCiAgICAgIGNvbnN0IHByZXNldE5hbWUgPSBuYW1lID8gYFN0dWR5IHByZXNldCAiJHtuYW1lfSJgIDogIlN0dWR5IHByZXNldCI7DQogICAgICBwbGF5ZXIudGltZXN0dWR5LnByZXNldHNbdGhpcy5pZF0uc3R1ZGllcyA9ICIiOw0KICAgICAgcGxheWVyLnRpbWVzdHVkeS5wcmVzZXRzW3RoaXMuaWRdLm5hbWUgPSAiIjsNCiAgICAgIEdhbWVVSS5ub3RpZnkuZXRlcm5pdHkoYCR7cHJlc2V0TmFtZX0gZGVsZXRlZCBmcm9tIHNsb3QgJHt0aGlzLmlkICsgMX1gKTsNCiAgICB9LA0KICAgIHN0dWR5U3RyaW5nKHN0dWR5KSB7DQogICAgICByZXR1cm4gc3R1ZHkgaW5zdGFuY2VvZiBFQ1RpbWVTdHVkeVN0YXRlID8gYEVDJHtzdHVkeS5pZH1gIDogYCR7c3R1ZHkuaWR9YDsNCiAgICB9DQogIH0sDQp9Ow0K"},{"version":3,"sources":["StudyStringModal.vue"],"names":[],"mappings":";AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"StudyStringModal.vue","sourceRoot":"src/components/modals","sourcesContent":["<script>\r\nimport { sha512_256 } from \"js-sha512\";\r\n\r\nimport ModalWrapperChoice from \"@/components/modals/ModalWrapperChoice\";\r\nimport PrimaryButton from \"@/components/PrimaryButton\";\r\nimport StudyStringLine from \"@/components/modals/StudyStringLine\";\r\n\r\nimport StudyStringPreview from \"./time-study-modal-preview/StudyStringPreview\";\r\nimport StudyTreeInfo from \"./StudyTreeInfo\";\r\n\r\nlet savedImportString = \"\";\r\n\r\nexport default {\r\n  name: \"StudyStringModal\",\r\n  components: {\r\n    ModalWrapperChoice,\r\n    StudyStringLine,\r\n    PrimaryButton,\r\n    StudyStringPreview,\r\n    StudyTreeInfo\r\n  },\r\n  props: {\r\n    id: {\r\n      type: Number,\r\n      required: true,\r\n    },\r\n    deleting: {\r\n      type: Boolean,\r\n      required: false,\r\n      default: false,\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      input: \"\",\r\n      name: \"\",\r\n      respecAndLoad: false,\r\n      canEternity: false\r\n    };\r\n  },\r\n  computed: {\r\n    // This modal is used by both study importing and preset editing, but is given an id of -1 when importing\r\n    isImporting() {\r\n      return this.id === -1;\r\n    },\r\n    // This represents the state reached from importing into an empty tree\r\n    importedTree() {\r\n      if (!this.inputIsValidTree) return {};\r\n      const importedTree = new TimeStudyTree(this.truncatedInput);\r\n      const newStudiesArray = importedTree.purchasedStudies.map(s => this.studyString(s));\r\n      return {\r\n        timeTheorems: importedTree.spentTheorems[0],\r\n        spaceTheorems: importedTree.spentTheorems[1],\r\n        newStudies: makeEnumeration(newStudiesArray),\r\n        newStudiesArray,\r\n        invalidStudies: importedTree.invalidStudies,\r\n        firstPaths: makeEnumeration(importedTree.dimensionPaths),\r\n        secondPaths: makeEnumeration(importedTree.pacePaths),\r\n        ec: importedTree.ec,\r\n        startEC: importedTree.startEC,\r\n        hasInfo: makeEnumeration(importedTree.dimensionPaths) || importedTree.ec > 0,\r\n      };\r\n    },\r\n    // This is only shown when importing; when modifying a preset we assume that generally the current state of the\r\n    // tree is irrelevant because if it mattered then the player would simply import instead\r\n    combinedTree() {\r\n      if (!this.inputIsValidTree) return {};\r\n      const currentStudyTree = GameCache.currentStudyTree.value;\r\n      const combinedTree = this.combinedTreeObject;\r\n      const newStudiesArray = combinedTree.purchasedStudies\r\n        .filter(s => !currentStudyTree.purchasedStudies.includes(s)).map(s => this.studyString(s));\r\n      // To start an EC using the ! functionality, we want to make sure all the following are true:\r\n      // - The imported string needs to end with \"!\" (this is parsed out in time-study-tree.js and stored into the\r\n      //   canStart prop for tree objects)\r\n      // - We can unlock the EC in the string. This requires either no EC currently unlocked, or we coincidentally\r\n      //   already have it unlocked\r\n      // - The ECs in the tree object and the import string MUST match; the only EC we want to try to enter is the\r\n      //   one which is being imported, and the tree object will contain a different EC if we already have one\r\n      const stringEC = TimeStudyTree.getECFromString(this.truncatedInput);\r\n      const hasExclamationPoint = combinedTree.startEC;\r\n      const canUnlockEC = [0, stringEC].includes(player.challenge.eternity.current);\r\n      const hasECMismatch = combinedTree.ec !== stringEC;\r\n      return {\r\n        timeTheorems: combinedTree.spentTheorems[0] - currentStudyTree.spentTheorems[0],\r\n        spaceTheorems: combinedTree.spentTheorems[1] - currentStudyTree.spentTheorems[1],\r\n        newStudies: makeEnumeration(newStudiesArray),\r\n        newStudiesArray,\r\n        firstPaths: makeEnumeration(combinedTree.dimensionPaths),\r\n        secondPaths: makeEnumeration(combinedTree.pacePaths),\r\n        ec: combinedTree.ec,\r\n        startEC: hasExclamationPoint && canUnlockEC && !hasECMismatch,\r\n        hasInfo: makeEnumeration(combinedTree.dimensionPaths) || combinedTree.ec > 0,\r\n      };\r\n    },\r\n    combinedTreeObject() {\r\n      const combinedTree = new TimeStudyTree();\r\n      combinedTree.attemptBuyArray(TimeStudyTree.currentStudies, false);\r\n      combinedTree.attemptBuyArray(combinedTree.parseStudyImport(this.truncatedInput), true);\r\n      return combinedTree;\r\n    },\r\n    modalTitle() {\r\n      if (this.deleting) return `Deleting Study Preset \"${this.name}\"`;\r\n      return this.isImporting ? \"Input your tree\" : `Editing Study Preset \"${this.name}\"`;\r\n    },\r\n    invalidMessage() {\r\n      if (!this.inputIsValidTree || this.importedTree.invalidStudies.length === 0) return null;\r\n      // Pad the input with non-digits which we remove later in order to not cause erroneous extra matches within IDs\r\n      // and limit the string length to stop excessive UI stretch\r\n      let coloredString = `#${this.truncatedInput}#`;\r\n      if (coloredString.length > 300) coloredString = `${coloredString.slice(0, 297)}...`;\r\n\r\n      for (const study of this.importedTree.invalidStudies) {\r\n        const id = `${study}`.match(/(EC)?(\\d+)/u);\r\n        const num = parseInt(id[2], 10);\r\n        switch (id[1]) {\r\n          case \"EC\":\r\n            coloredString = coloredString.replaceAll(new RegExp(`\\\\|(${num})`, \"gu\"),\r\n              `|<span style=\"color: var(--color-bad);\">$1</span>`);\r\n            break;\r\n          default:\r\n            coloredString = coloredString.replaceAll(new RegExp(`(\\\\D)(${num})(\\\\D)`, \"gu\"),\r\n              `$1<span style=\"color: var(--color-bad);\">$2</span>$3`);\r\n            break;\r\n        }\r\n      }\r\n      return `Your import string has invalid study IDs: ${coloredString.replaceAll(\"#\", \"\").replaceAll(\",\", \", \")}\r\n        <br><br>`;\r\n    },\r\n    truncatedInput() {\r\n      return TimeStudyTree.truncateInput(this.input);\r\n    },\r\n    hasInput() {\r\n      return this.truncatedInput !== \"\";\r\n    },\r\n    inputIsValid() {\r\n      return this.inputIsValidTree || this.inputIsSecret;\r\n    },\r\n    inputIsValidTree() {\r\n      return TimeStudyTree.isValidImportString(this.truncatedInput);\r\n    },\r\n    inputIsSecret() {\r\n      // The button to open the modal and the actual modal itself display two different strings;\r\n      // we should allow either to unlock the secret achievement\r\n      const secretStrings = [\r\n        \"08b819f253b684773e876df530f95dcb85d2fb052046fa16ec321c65f3330608\",\r\n        \"bb450c2a3869bae412ed0b4304dc229521fc69f0fdcc95b3b61460aaf5658fc4\"\r\n      ];\r\n      return secretStrings.includes(sha512_256(this.input.toLowerCase()));\r\n    },\r\n    confirmText() {\r\n      if (this.deleting) return \"Delete\";\r\n      return this.isImporting ? \"Import\" : \"Save\";\r\n    }\r\n  },\r\n  watch: {\r\n    input(newInput) {\r\n      savedImportString = newInput;\r\n    }\r\n  },\r\n  // Needs to be assigned in created() or else they will end up being undefined when importing\r\n  created() {\r\n    const preset = player.timestudy.presets[this.id];\r\n    this.input = preset ? preset.studies : savedImportString;\r\n    this.name = preset ? preset.name : \"\";\r\n  },\r\n  mounted() {\r\n    this.$refs.input.select();\r\n  },\r\n  methods: {\r\n    update() {\r\n      this.canEternity = Player.canEternity;\r\n    },\r\n    confirm() {\r\n      if (this.deleting) {\r\n        this.deletePreset();\r\n      } else if (this.isImporting) {\r\n        if (this.respecAndLoad && Player.canEternity) {\r\n          player.respec = true;\r\n          const tree = new TimeStudyTree(this.truncatedInput);\r\n          animateAndEternity(() => TimeStudyTree.commitToGameState(tree.purchasedStudies, false, tree.startEC));\r\n          return;\r\n        }\r\n        this.importTree();\r\n      } else {\r\n        this.savePreset();\r\n      }\r\n    },\r\n    convertInputShorthands() {\r\n      this.input = TimeStudyTree.formatStudyList(this.input);\r\n    },\r\n    importTree() {\r\n      if (!this.inputIsValid) return;\r\n      if (this.inputIsSecret) SecretAchievement(37).unlock();\r\n      savedImportString = \"\";\r\n      this.emitClose();\r\n      // We need to use a combined tree for committing to the game state, or else it won't buy studies in the imported\r\n      // tree are only reachable if the current tree is already bought\r\n      TimeStudyTree.commitToGameState(this.combinedTreeObject.purchasedStudies, false, this.combinedTree.startEC);\r\n    },\r\n    savePreset() {\r\n      if (this.inputIsValid) {\r\n        player.timestudy.presets[this.id].studies = this.input;\r\n        GameUI.notify.eternity(`Study Tree ${this.name} successfully edited.`);\r\n        this.emitClose();\r\n      }\r\n    },\r\n    deletePreset() {\r\n      const name = player.timestudy.presets[this.id].name;\r\n      const presetName = name ? `Study preset \"${name}\"` : \"Study preset\";\r\n      player.timestudy.presets[this.id].studies = \"\";\r\n      player.timestudy.presets[this.id].name = \"\";\r\n      GameUI.notify.eternity(`${presetName} deleted from slot ${this.id + 1}`);\r\n    },\r\n    studyString(study) {\r\n      return study instanceof ECTimeStudyState ? `EC${study.id}` : `${study.id}`;\r\n    }\r\n  },\r\n};\r\n</script>\r\n\r\n<template>\r\n  <ModalWrapperChoice\r\n    :show-cancel=\"!inputIsValid\"\r\n    :show-confirm=\"inputIsValid\"\r\n    class=\"c-modal-import-tree\"\r\n    @confirm=\"confirm\"\r\n  >\r\n    <template #header>\r\n      {{ modalTitle }}\r\n    </template>\r\n    <input\r\n      ref=\"input\"\r\n      v-model=\"input\"\r\n      type=\"text\"\r\n      maxlength=\"1500\"\r\n      class=\"c-modal-input c-modal-import-tree__input\"\r\n      :class=\"{ 'l-delete-input' : deleting }\"\r\n      :disabled=\"deleting\"\r\n      @keyup.enter=\"confirm\"\r\n      @keyup.esc=\"emitClose\"\r\n    >\r\n    <div class=\"c-two-column\">\r\n      <div class=\"c-study-info l-modal-import-tree__tree-info\">\r\n        <div v-if=\"inputIsSecret\">\r\n          ???\r\n        </div>\r\n        <template v-else-if=\"inputIsValidTree\">\r\n          <div\r\n            v-if=\"invalidMessage\"\r\n            class=\"l-modal-import-tree__tree-info-line\"\r\n            v-html=\"invalidMessage\"\r\n          />\r\n          <StudyStringLine\r\n            v-if=\"isImporting\"\r\n            :tree=\"combinedTree\"\r\n            :into-empty=\"false\"\r\n          />\r\n          <StudyStringLine\r\n            :tree=\"importedTree\"\r\n            :into-empty=\"true\"\r\n          />\r\n          <StudyTreeInfo\r\n            v-if=\"deleting && importedTree.hasInfo\"\r\n            header-text=\"Study Preset contains:\"\r\n            :tree-status=\"importedTree\"\r\n          />\r\n          <StudyTreeInfo\r\n            v-if=\"!deleting && !isImporting && importedTree.hasInfo\"\r\n            header-text=\"Status after loading with <b>no studies</b>:\"\r\n            :tree-status=\"importedTree\"\r\n          />\r\n          <StudyTreeInfo\r\n            v-if=\"!deleting && combinedTree.hasInfo\"\r\n            header-text=\"Status after loading with <b>current tree</b>:\"\r\n            :tree-status=\"combinedTree\"\r\n          />\r\n        </template>\r\n        <div v-if=\"!deleting && !inputIsValidTree && hasInput\">\r\n          Not a valid tree\r\n        </div>\r\n      </div>\r\n      <div class=\"c-study-preview\">\r\n        <StudyStringPreview\r\n          :show-preview=\"inputIsValidTree\"\r\n          :new-studies=\"!isImporting || (canEternity && respecAndLoad) ? importedTree.newStudiesArray\r\n            : combinedTree.newStudiesArray\"\r\n          :disregard-current-studies=\"!isImporting || (canEternity && respecAndLoad)\"\r\n        />\r\n      </div>\r\n    </div>\r\n    <div v-if=\"!isImporting && inputIsValidTree\">\r\n      <br>\r\n      <PrimaryButton\r\n        v-if=\"!deleting\"\r\n        v-tooltip=\"'This will format the study preset text, for example, changing \\'a,b,c|d\\' to \\'a, b, c | d\\'.'\"\r\n        @click=\"convertInputShorthands\"\r\n      >\r\n        Format Preset Text\r\n      </PrimaryButton>\r\n    </div>\r\n    <span v-if=\"isImporting\">\r\n      <br>\r\n      <div\r\n        v-tooltip=\"canEternity ? '' : 'You are currently unable to eternity, so this will only do a normal load.'\"\r\n        class=\"c-modal__confirmation-toggle\"\r\n        @click=\"respecAndLoad = !respecAndLoad\"\r\n      >\r\n        <div\r\n          :class=\"{\r\n            'c-modal__confirmation-toggle__checkbox': true,\r\n            'c-modal__confirmation-toggle__checkbox--active': respecAndLoad,\r\n          }\"\r\n        >\r\n          <span\r\n            v-if=\"respecAndLoad\"\r\n            class=\"fas fa-check\"\r\n          />\r\n        </div>\r\n        <span class=\"c-modal__confirmation-toggle__text\">\r\n          Also respec tree and eternity\r\n          <span\r\n            v-if=\"!canEternity\"\r\n            class=\"c-modal__confirmation-toggle__warning\"\r\n          >\r\n            !\r\n          </span>\r\n        </span>\r\n      </div>\r\n    </span>\r\n    <template #confirm-text>\r\n      {{ confirmText }}\r\n    </template>\r\n  </ModalWrapperChoice>\r\n</template>\r\n\r\n<style scoped>\r\n.c-two-column {\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n}\r\n\r\n.c-study-info {\r\n  width: 30rem;\r\n  padding: 0 2rem;\r\n}\r\n\r\n.c-study-preview {\r\n  height: 100%;\r\n  margin-right: 3rem;\r\n}\r\n\r\n.l-delete-input {\r\n  color: var(--color-text);\r\n  background-color: var(--color-disabled);\r\n  pointer-events: none;\r\n  user-select: none;\r\n}\r\n\r\n.c-modal__confirmation-toggle__text {\r\n  opacity: 1;\r\n}\r\n\r\n.c-modal__confirmation-toggle__warning {\r\n  display: inline-flex;\r\n  /* stylelint-disable-next-line unit-allowed-list */\r\n  width: 1em;\r\n  /* stylelint-disable-next-line unit-allowed-list */\r\n  height: 1em;\r\n  justify-content: center;\r\n  align-items: center;\r\n  color: #332222;\r\n  background: var(--color-bad);\r\n  border-radius: 100%;\r\n  margin-left: 0.3rem;\r\n}\r\n</style>\r\n"]}]}