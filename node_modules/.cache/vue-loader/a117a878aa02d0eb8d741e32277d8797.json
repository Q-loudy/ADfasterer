{"remainingRequest":"C:\\Games\\ADFasterer\\ADfasterer\\node_modules\\@vue\\vue-loader-v15\\lib\\index.js??vue-loader-options!C:\\Games\\ADFasterer\\ADfasterer\\src\\components\\tabs\\automator\\AutomatorEventLog.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Games\\ADFasterer\\ADfasterer\\src\\components\\tabs\\automator\\AutomatorEventLog.vue","mtime":1745241597075},{"path":"C:\\Games\\ADFasterer\\ADfasterer\\node_modules\\babel-loader\\lib\\index.js","mtime":1745242219290},{"path":"C:\\Games\\ADFasterer\\ADfasterer\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1745242214069},{"path":"C:\\Games\\ADFasterer\\ADfasterer\\node_modules\\@vue\\vue-loader-v15\\lib\\index.js","mtime":1745242220175}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICJBdXRvbWF0b3JFdmVudExvZyIsDQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIHVuc29ydGVkRXZlbnRzOiBbXSwNCiAgICAgIG5ld2VzdEZpcnN0OiBmYWxzZSwNCiAgICAgIHRpbWVzdGFtcE1vZGU6IDAsDQogICAgICBjdXJyZW50VGltZTogMCwNCiAgICAgIG1heEVudHJpZXM6IDAsDQogICAgICBjbGVhck9uUmVhbGl0eTogZmFsc2UsDQogICAgICBjbGVhck9uUmVzdGFydDogZmFsc2UsDQogICAgfTsNCiAgfSwNCiAgY29tcHV0ZWQ6IHsNCiAgICBldmVudHMoKSB7DQogICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tbmVzdGVkLXRlcm5hcnkNCiAgICAgIGNvbnN0IHNvcnRlZCA9IHRoaXMudW5zb3J0ZWRFdmVudHMuc29ydCgoYSwgYikgPT4gKGEudGltZXN0YW1wID09PSBiLnRpbWVzdGFtcA0KICAgICAgICA/IChhLnRoaXNSZWFsaXR5ID09PSBiLnRoaXNSZWFsaXR5DQogICAgICAgICAgPyBhLmxpbmUgLSBiLmxpbmUNCiAgICAgICAgICA6IGEudGhpc1JlYWxpdHkgLSBiLnRoaXNSZWFsaXR5KQ0KICAgICAgICA6IGEudGltZXN0YW1wIC0gYi50aW1lc3RhbXApKTsNCiAgICAgIHJldHVybiB0aGlzLm5ld2VzdEZpcnN0ID8gc29ydGVkLnJldmVyc2UoKSA6IHNvcnRlZDsNCiAgICB9LA0KICAgIGNsZWFyVG9vbHRpcCgpIHsNCiAgICAgIHJldHVybiBgQ2xlYXIgYWxsIGVudHJpZXMgKE1heC4gJHt0aGlzLm1heEVudHJpZXN9KWA7DQogICAgfSwNCiAgICBidXR0b25DbGFzc09iamVjdCgpIHsNCiAgICAgIHJldHVybiAiYy1hdXRvbWF0b3ItZG9jcy0tYnV0dG9uIGZhcyI7DQogICAgfQ0KICB9LA0KICB3YXRjaDogew0KICAgIG5ld2VzdEZpcnN0KG5ld1ZhbHVlKSB7DQogICAgICBwbGF5ZXIub3B0aW9ucy5hdXRvbWF0b3JFdmVudHMubmV3ZXN0Rmlyc3QgPSBuZXdWYWx1ZTsNCiAgICB9LA0KICAgIHRpbWVzdGFtcE1vZGUobmV3VmFsdWUpIHsNCiAgICAgIHBsYXllci5vcHRpb25zLmF1dG9tYXRvckV2ZW50cy50aW1lc3RhbXBUeXBlID0gbmV3VmFsdWU7DQogICAgfSwNCiAgICBjbGVhck9uUmVhbGl0eShuZXdWYWx1ZSkgew0KICAgICAgcGxheWVyLm9wdGlvbnMuYXV0b21hdG9yRXZlbnRzLmNsZWFyT25SZWFsaXR5ID0gbmV3VmFsdWU7DQogICAgfSwNCiAgICBjbGVhck9uUmVzdGFydChuZXdWYWx1ZSkgew0KICAgICAgcGxheWVyLm9wdGlvbnMuYXV0b21hdG9yRXZlbnRzLmNsZWFyT25SZXN0YXJ0ID0gbmV3VmFsdWU7DQogICAgfQ0KICB9LA0KICBtZXRob2RzOiB7DQogICAgdXBkYXRlKCkgew0KICAgICAgY29uc3QgZXZlbnRTZXR0aW5ncyA9IHBsYXllci5vcHRpb25zLmF1dG9tYXRvckV2ZW50czsNCiAgICAgIHRoaXMudW5zb3J0ZWRFdmVudHMgPSBBdXRvbWF0b3JEYXRhLmV2ZW50TG9nOw0KICAgICAgdGhpcy5uZXdlc3RGaXJzdCA9IGV2ZW50U2V0dGluZ3MubmV3ZXN0Rmlyc3Q7DQogICAgICB0aGlzLnRpbWVzdGFtcE1vZGUgPSBldmVudFNldHRpbmdzLnRpbWVzdGFtcFR5cGU7DQogICAgICB0aGlzLmN1cnJlbnRUaW1lID0gRGF0ZS5ub3coKTsNCiAgICAgIHRoaXMubWF4RW50cmllcyA9IGV2ZW50U2V0dGluZ3MubWF4RW50cmllczsNCiAgICAgIHRoaXMuY2xlYXJPblJlYWxpdHkgPSBldmVudFNldHRpbmdzLmNsZWFyT25SZWFsaXR5Ow0KICAgICAgdGhpcy5jbGVhck9uUmVzdGFydCA9IGV2ZW50U2V0dGluZ3MuY2xlYXJPblJlc3RhcnQ7DQogICAgfSwNCiAgICBjbGVhckxvZygpIHsNCiAgICAgIEF1dG9tYXRvckRhdGEuY2xlYXJFdmVudExvZygpOw0KICAgICAgdGhpcy51cGRhdGUoKTsNCiAgICB9LA0KICAgIHNvcnRTdHlsZShzZWxlY3RlZCkgew0KICAgICAgcmV0dXJuIHsNCiAgICAgICAgImJhY2tncm91bmQtY29sb3IiOiBzZWxlY3RlZCA/ICJ2YXIoLS1jb2xvci1yZWFsaXR5KSIgOiAiIg0KICAgICAgfTsNCiAgICB9LA0KICAgIHRpbWVzdGFtcFN0eWxlKGtleSkgew0KICAgICAgcmV0dXJuIHsNCiAgICAgICAgImJhY2tncm91bmQtY29sb3IiOiB0aGlzLnRpbWVzdGFtcE1vZGUgPT09IEFVVE9NQVRPUl9FVkVOVF9USU1FU1RBTVBfTU9ERVtrZXldID8gInZhcigtLWNvbG9yLXJlYWxpdHkpIiA6ICIiDQogICAgICB9Ow0KICAgIH0sDQogICAgY2xlYXJSZWFsaXR5U3R5bGUoKSB7DQogICAgICByZXR1cm4gew0KICAgICAgICAiYmFja2dyb3VuZC1jb2xvciI6IHRoaXMuY2xlYXJPblJlYWxpdHkgPyAidmFyKC0tY29sb3ItcmVhbGl0eSkiIDogIiINCiAgICAgIH07DQogICAgfSwNCiAgICBjbGVhclJlc3RhcnRTdHlsZSgpIHsNCiAgICAgIHJldHVybiB7DQogICAgICAgICJiYWNrZ3JvdW5kLWNvbG9yIjogdGhpcy5jbGVhck9uUmVzdGFydCA/ICJ2YXIoLS1jb2xvci1yZWFsaXR5KSIgOiAiIg0KICAgICAgfTsNCiAgICB9LA0KICAgIHNldFRpbWVzdGFtcE1vZGUoa2V5KSB7DQogICAgICB0aGlzLnRpbWVzdGFtcE1vZGUgPSBBVVRPTUFUT1JfRVZFTlRfVElNRVNUQU1QX01PREVba2V5XTsNCiAgICB9LA0KICAgIHRpbWVzdGFtcChlbnRyeSkgew0KICAgICAgc3dpdGNoICh0aGlzLnRpbWVzdGFtcE1vZGUpIHsNCiAgICAgICAgY2FzZSBBVVRPTUFUT1JfRVZFTlRfVElNRVNUQU1QX01PREUuRElTQUJMRUQ6DQogICAgICAgICAgcmV0dXJuICIiOw0KICAgICAgICBjYXNlIEFVVE9NQVRPUl9FVkVOVF9USU1FU1RBTVBfTU9ERS5USElTX1JFQUxJVFk6DQogICAgICAgICAgcmV0dXJuIGAsICR7VGltZVNwYW4uZnJvbVNlY29uZHMoZW50cnkudGhpc1JlYWxpdHkpLnRvU3RyaW5nU2hvcnQoKX0gKHJlYWwtdGltZSkgaW4gUmVhbGl0eWA7DQogICAgICAgIGNhc2UgQVVUT01BVE9SX0VWRU5UX1RJTUVTVEFNUF9NT0RFLlJFTEFUSVZFX05PVzoNCiAgICAgICAgICByZXR1cm4gYCwgJHtUaW1lU3Bhbi5mcm9tTWlsbGlzZWNvbmRzKHRoaXMuY3VycmVudFRpbWUgLSBlbnRyeS50aW1lc3RhbXApLnRvU3RyaW5nU2hvcnQoKX0gYWdvYDsNCiAgICAgICAgY2FzZSBBVVRPTUFUT1JfRVZFTlRfVElNRVNUQU1QX01PREUuUkVMQVRJVkVfUFJFVjoNCiAgICAgICAgICBpZiAoZW50cnkudGltZWdhcCA9PT0gZW50cnkudGltZXN0YW1wKSByZXR1cm4gYCwgZmlyc3QgbG9nZ2VkIGV2ZW50YDsNCiAgICAgICAgICByZXR1cm4gYCwgJHtUaW1lU3Bhbi5mcm9tTWlsbGlzZWNvbmRzKGVudHJ5LnRpbWVnYXApLnRvU3RyaW5nU2hvcnQoKX0gYWZ0ZXIgcHJldmlvdXMgZXZlbnRgOw0KICAgICAgICBjYXNlIEFVVE9NQVRPUl9FVkVOVF9USU1FU1RBTVBfTU9ERS5EQVRFX1RJTUU6DQogICAgICAgICAgcmV0dXJuIGAsICR7VGltZS50b0RhdGVUaW1lU3RyaW5nKGVudHJ5LnRpbWVzdGFtcCl9YDsNCiAgICAgICAgZGVmYXVsdDoNCiAgICAgICAgICB0aHJvdyBFcnJvcigiVW5yZWNvZ25pemVkIHRpbWVzdGFtcCBtb2RlIGluIEF1dG9tYXRvciBldmVudCBsb2ciKTsNCiAgICAgIH0NCiAgICB9LA0KICAgIHNjcm9sbFRvTGluZShsaW5lKSB7DQogICAgICBBdXRvbWF0b3JTY3JvbGxlci5zY3JvbGxUb0xpbmUobGluZSk7DQogICAgICBBdXRvbWF0b3JIaWdobGlnaHRlci51cGRhdGVIaWdobGlnaHRlZExpbmUobGluZSwgTGluZUVudW0uRXZlbnQpOw0KICAgIH0NCiAgfQ0KfTsNCg0KY29uc3QgQVVUT01BVE9SX0VWRU5UX1RJTUVTVEFNUF9NT0RFID0gew0KICBESVNBQkxFRDogMCwNCiAgVEhJU19SRUFMSVRZOiAxLA0KICBSRUxBVElWRV9OT1c6IDIsDQogIFJFTEFUSVZFX1BSRVY6IDMsDQogIERBVEVfVElNRTogNCwNCn07DQo="},{"version":3,"sources":["AutomatorEventLog.vue"],"names":[],"mappings":";AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA","file":"AutomatorEventLog.vue","sourceRoot":"src/components/tabs/automator","sourcesContent":["<script>\r\nexport default {\r\n  name: \"AutomatorEventLog\",\r\n  data() {\r\n    return {\r\n      unsortedEvents: [],\r\n      newestFirst: false,\r\n      timestampMode: 0,\r\n      currentTime: 0,\r\n      maxEntries: 0,\r\n      clearOnReality: false,\r\n      clearOnRestart: false,\r\n    };\r\n  },\r\n  computed: {\r\n    events() {\r\n      // eslint-disable-next-line no-nested-ternary\r\n      const sorted = this.unsortedEvents.sort((a, b) => (a.timestamp === b.timestamp\r\n        ? (a.thisReality === b.thisReality\r\n          ? a.line - b.line\r\n          : a.thisReality - b.thisReality)\r\n        : a.timestamp - b.timestamp));\r\n      return this.newestFirst ? sorted.reverse() : sorted;\r\n    },\r\n    clearTooltip() {\r\n      return `Clear all entries (Max. ${this.maxEntries})`;\r\n    },\r\n    buttonClassObject() {\r\n      return \"c-automator-docs--button fas\";\r\n    }\r\n  },\r\n  watch: {\r\n    newestFirst(newValue) {\r\n      player.options.automatorEvents.newestFirst = newValue;\r\n    },\r\n    timestampMode(newValue) {\r\n      player.options.automatorEvents.timestampType = newValue;\r\n    },\r\n    clearOnReality(newValue) {\r\n      player.options.automatorEvents.clearOnReality = newValue;\r\n    },\r\n    clearOnRestart(newValue) {\r\n      player.options.automatorEvents.clearOnRestart = newValue;\r\n    }\r\n  },\r\n  methods: {\r\n    update() {\r\n      const eventSettings = player.options.automatorEvents;\r\n      this.unsortedEvents = AutomatorData.eventLog;\r\n      this.newestFirst = eventSettings.newestFirst;\r\n      this.timestampMode = eventSettings.timestampType;\r\n      this.currentTime = Date.now();\r\n      this.maxEntries = eventSettings.maxEntries;\r\n      this.clearOnReality = eventSettings.clearOnReality;\r\n      this.clearOnRestart = eventSettings.clearOnRestart;\r\n    },\r\n    clearLog() {\r\n      AutomatorData.clearEventLog();\r\n      this.update();\r\n    },\r\n    sortStyle(selected) {\r\n      return {\r\n        \"background-color\": selected ? \"var(--color-reality)\" : \"\"\r\n      };\r\n    },\r\n    timestampStyle(key) {\r\n      return {\r\n        \"background-color\": this.timestampMode === AUTOMATOR_EVENT_TIMESTAMP_MODE[key] ? \"var(--color-reality)\" : \"\"\r\n      };\r\n    },\r\n    clearRealityStyle() {\r\n      return {\r\n        \"background-color\": this.clearOnReality ? \"var(--color-reality)\" : \"\"\r\n      };\r\n    },\r\n    clearRestartStyle() {\r\n      return {\r\n        \"background-color\": this.clearOnRestart ? \"var(--color-reality)\" : \"\"\r\n      };\r\n    },\r\n    setTimestampMode(key) {\r\n      this.timestampMode = AUTOMATOR_EVENT_TIMESTAMP_MODE[key];\r\n    },\r\n    timestamp(entry) {\r\n      switch (this.timestampMode) {\r\n        case AUTOMATOR_EVENT_TIMESTAMP_MODE.DISABLED:\r\n          return \"\";\r\n        case AUTOMATOR_EVENT_TIMESTAMP_MODE.THIS_REALITY:\r\n          return `, ${TimeSpan.fromSeconds(entry.thisReality).toStringShort()} (real-time) in Reality`;\r\n        case AUTOMATOR_EVENT_TIMESTAMP_MODE.RELATIVE_NOW:\r\n          return `, ${TimeSpan.fromMilliseconds(this.currentTime - entry.timestamp).toStringShort()} ago`;\r\n        case AUTOMATOR_EVENT_TIMESTAMP_MODE.RELATIVE_PREV:\r\n          if (entry.timegap === entry.timestamp) return `, first logged event`;\r\n          return `, ${TimeSpan.fromMilliseconds(entry.timegap).toStringShort()} after previous event`;\r\n        case AUTOMATOR_EVENT_TIMESTAMP_MODE.DATE_TIME:\r\n          return `, ${Time.toDateTimeString(entry.timestamp)}`;\r\n        default:\r\n          throw Error(\"Unrecognized timestamp mode in Automator event log\");\r\n      }\r\n    },\r\n    scrollToLine(line) {\r\n      AutomatorScroller.scrollToLine(line);\r\n      AutomatorHighlighter.updateHighlightedLine(line, LineEnum.Event);\r\n    }\r\n  }\r\n};\r\n\r\nconst AUTOMATOR_EVENT_TIMESTAMP_MODE = {\r\n  DISABLED: 0,\r\n  THIS_REALITY: 1,\r\n  RELATIVE_NOW: 2,\r\n  RELATIVE_PREV: 3,\r\n  DATE_TIME: 4,\r\n};\r\n</script>\r\n\r\n<template>\r\n  <div class=\"c-automator-docs-page\">\r\n    <div>\r\n      This panel keeps a running event log of all the commands which the automator has recently executed, with a little\r\n      extra info on some of the commands. It may be useful to help you find problems if you find your automator is\r\n      getting stuck in certain spots.\r\n      <br>\r\n      <br>\r\n      While your settings are kept within your savefile, the actual events are not and will disappear on refresh.\r\n      <br>\r\n      <br>\r\n      <b>Entry Sorting:</b>\r\n      <button\r\n        v-tooltip=\"'Oldest results first'\"\r\n        :style=\"sortStyle(!newestFirst)\"\r\n        :class=\"buttonClassObject\"\r\n        class=\"fa-angle-down\"\r\n        @click=\"newestFirst = false\"\r\n      />\r\n      <button\r\n        v-tooltip=\"'Newest results first'\"\r\n        :style=\"sortStyle(newestFirst)\"\r\n        :class=\"buttonClassObject\"\r\n        class=\"fa-angle-up\"\r\n        @click=\"newestFirst = true\"\r\n      />\r\n      <button\r\n        v-tooltip=\"clearTooltip\"\r\n        :class=\"buttonClassObject\"\r\n        class=\"fa-trash\"\r\n        @click=\"clearLog\"\r\n      />\r\n      <button\r\n        v-tooltip=\"'Clear event log every Reality'\"\r\n        :style=\"clearRealityStyle()\"\r\n        :class=\"buttonClassObject\"\r\n        class=\"fa-eraser\"\r\n        @click=\"clearOnReality = !clearOnReality\"\r\n      />\r\n      <button\r\n        v-tooltip=\"'Clear event log on script restart'\"\r\n        :style=\"clearRestartStyle()\"\r\n        :class=\"buttonClassObject\"\r\n        class=\"fa-backspace\"\r\n        @click=\"clearOnRestart = !clearOnRestart\"\r\n      />\r\n    </div>\r\n    <div>\r\n      <b>Timestamp style:</b>\r\n      <button\r\n        v-tooltip=\"'No timestamps'\"\r\n        :style=\"timestampStyle('DISABLED')\"\r\n        :class=\"buttonClassObject\"\r\n        class=\"fa-ban\"\r\n        @click=\"setTimestampMode('DISABLED')\"\r\n      />\r\n      <button\r\n        v-tooltip=\"'Current time this Reality'\"\r\n        :style=\"timestampStyle('THIS_REALITY')\"\r\n        :class=\"buttonClassObject\"\r\n        class=\"fa-stopwatch\"\r\n        @click=\"setTimestampMode('THIS_REALITY')\"\r\n      />\r\n      <button\r\n        v-tooltip=\"'Time elapsed since event'\"\r\n        :style=\"timestampStyle('RELATIVE_NOW')\"\r\n        :class=\"buttonClassObject\"\r\n        class=\"fa-clock\"\r\n        @click=\"setTimestampMode('RELATIVE_NOW')\"\r\n      />\r\n      <button\r\n        v-tooltip=\"'Time since last event'\"\r\n        :style=\"timestampStyle('RELATIVE_PREV')\"\r\n        :class=\"buttonClassObject\"\r\n        class=\"fa-arrow-left\"\r\n        @click=\"setTimestampMode('RELATIVE_PREV')\"\r\n      />\r\n      <button\r\n        v-tooltip=\"'Date and time'\"\r\n        :style=\"timestampStyle('DATE_TIME')\"\r\n        :class=\"buttonClassObject\"\r\n        class=\"fa-user-clock\"\r\n        @click=\"setTimestampMode('DATE_TIME')\"\r\n      />\r\n    </div>\r\n    <span\r\n      v-for=\"(event, id) in events\"\r\n      :key=\"id\"\r\n    >\r\n      <b>Line {{ event.line }}{{ timestamp(event) }}:</b>\r\n      <button\r\n        v-tooltip=\"'Jump to line'\"\r\n        :class=\"buttonClassObject\"\r\n        class=\"fa-arrow-circle-right\"\r\n        @click=\"scrollToLine(event.line)\"\r\n      />\r\n      <div class=\"c-automator-docs-page__indented\">\r\n        <i>{{ event.message }}</i>\r\n      </div>\r\n    </span>\r\n  </div>\r\n</template>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n"]}]}