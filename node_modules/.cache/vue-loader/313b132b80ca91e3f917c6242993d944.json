{"remainingRequest":"C:\\Games\\ADFasterer\\ADfasterer\\node_modules\\@vue\\vue-loader-v15\\lib\\index.js??vue-loader-options!C:\\Games\\ADFasterer\\ADfasterer\\src\\components\\modals\\cloud\\CloudLoadConflictModal.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Games\\ADFasterer\\ADfasterer\\src\\components\\modals\\cloud\\CloudLoadConflictModal.vue","mtime":1745241596905},{"path":"C:\\Games\\ADFasterer\\ADfasterer\\node_modules\\babel-loader\\lib\\index.js","mtime":1745242219290},{"path":"C:\\Games\\ADFasterer\\ADfasterer\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1745242214069},{"path":"C:\\Games\\ADFasterer\\ADfasterer\\node_modules\\@vue\\vue-loader-v15\\lib\\index.js","mtime":1745242220175}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQppbXBvcnQgTW9kYWxXcmFwcGVyQ2hvaWNlIGZyb20gIkAvY29tcG9uZW50cy9tb2RhbHMvTW9kYWxXcmFwcGVyQ2hvaWNlIjsNCmltcG9ydCBTYXZlSW5mb0VudHJ5IGZyb20gIkAvY29tcG9uZW50cy9tb2RhbHMvY2xvdWQvU2F2ZUluZm9FbnRyeSI7DQoNCmV4cG9ydCBkZWZhdWx0IHsNCiAgbmFtZTogIkNsb3VkTG9hZENvbmZsaWN0TW9kYWwiLA0KICBjb21wb25lbnRzOiB7DQogICAgTW9kYWxXcmFwcGVyQ2hvaWNlLA0KICAgIFNhdmVJbmZvRW50cnksDQogIH0sDQogIGNvbXB1dGVkOiB7DQogICAgY29uZmxpY3QoKSB7DQogICAgICByZXR1cm4gdGhpcy4kdmlld01vZGVsLm1vZGFsLmNsb3VkQ29uZmxpY3Q7DQogICAgfSwNCiAgICBvbGRlcigpIHsNCiAgICAgIHJldHVybiB0aGlzLmNvbmZsaWN0LnNhdmVDb21wYXJpc29uLm9sZGVyID09PSAxOw0KICAgIH0sDQogICAgZmFydGhlcigpIHsNCiAgICAgIHJldHVybiB0aGlzLmNvbmZsaWN0LnNhdmVDb21wYXJpc29uLmZhcnRoZXIgPT09IDE7DQogICAgfSwNCiAgICBoYXNEaWZmZXJlbnROYW1lKCkgew0KICAgICAgcmV0dXJuIHRoaXMuY29uZmxpY3QuY2xvdWQuc2F2ZU5hbWUgIT09IHRoaXMuY29uZmxpY3QubG9jYWwuc2F2ZU5hbWU7DQogICAgfSwNCiAgICBzdWdnZXN0aW9uVGV4dCgpIHsNCiAgICAgIGNvbnN0IGdvb2RTdHlsZSA9IGBzdHlsZT0iY29sb3I6IHZhcigtLWNvbG9yLWdvb2QpImA7DQogICAgICBjb25zdCBiYWRTdHlsZSA9IGBzdHlsZT0iY29sb3I6IHZhcigtLWNvbG9yLWJhZCkiYDsNCg0KICAgICAgY29uc3Qgc3VnZ2VzdGlvbnMgPSBbIkxvYWRpbmcgdGhpcyBDbG91ZCBzYXZlICJdOw0KICAgICAgY29uc3QgY2xvdWRQcm9nID0gdGhpcy5jb25mbGljdC5jbG91ZC5jb21wb3NpdGVQcm9ncmVzcywgbG9jYWxQcm9nID0gdGhpcy5jb25mbGljdC5sb2NhbC5jb21wb3NpdGVQcm9ncmVzczsNCiAgICAgIGNvbnN0IHdhcm5PdmVyd3JpdGUgPSB0aGlzLmZhcnRoZXIgJiYgTWF0aC5hYnMoY2xvdWRQcm9nIC0gbG9jYWxQcm9nKSA+IDAuMTU7DQogICAgICBzdWdnZXN0aW9ucy5wdXNoKHdhcm5PdmVyd3JpdGUNCiAgICAgICAgPyBgPGIgJHtiYWRTdHlsZX0+d291bGQgY2F1c2UgeW91ciBsb2NhbCBzYXZlIHRvIGxvc2Ugc2lnbmlmaWNhbnQgcHJvZ3Jlc3M8L2I+YA0KICAgICAgICA6IGA8YiAke2dvb2RTdHlsZX0+aXMgcHJvYmFibHkgc2FmZTwvYj5gKTsNCiAgICAgIGlmICh0aGlzLmhhc0RpZmZlcmVudE5hbWUpIHsNCiAgICAgICAgc3VnZ2VzdGlvbnMucHVzaChgPGJyPiR7d2Fybk92ZXJ3cml0ZSA/ICJBZGRpdGlvbmFsbHkiIDogIkhvd2V2ZXIifSwgdGhlIENsb3VkIHNhdmUNCiAgICAgICAgICA8YiAke2JhZFN0eWxlfT5tYXkgYmUgYSBzYXZlIGZyb20gYSBkaWZmZXJlbnQgZGV2aWNlPC9iPi5gKTsNCiAgICAgIH0NCiAgICAgIGlmICh3YXJuT3ZlcndyaXRlIHx8IHRoaXMuaGFzRGlmZmVyZW50TmFtZSkgew0KICAgICAgICBzdWdnZXN0aW9ucy5wdXNoKGA8YnI+PGIgJHtiYWRTdHlsZX0+QXJlIHlvdSBzdXJlIHlvdSB3aXNoIHRvIG92ZXJ3cml0ZSB5b3VyIGxvY2FsIHNhdmU/PC9iPmApOw0KICAgICAgfQ0KICAgICAgcmV0dXJuIHN1Z2dlc3Rpb25zLmpvaW4oIiIpOw0KICAgIH0NCiAgfSwNCiAgbWV0aG9kczogew0KICAgIGNvbmZpcm0oKSB7DQogICAgICB0aGlzLmNvbmZsaWN0Lm9uQWNjZXB0Py4oKTsNCiAgICAgIEV2ZW50SHViLmRpc3BhdGNoKEdBTUVfRVZFTlQuQ0xPU0VfTU9EQUwpOw0KICAgIH0NCiAgfQ0KfTsNCg=="},{"version":3,"sources":["CloudLoadConflictModal.vue"],"names":[],"mappings":";AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"CloudLoadConflictModal.vue","sourceRoot":"src/components/modals/cloud","sourcesContent":["<script>\r\nimport ModalWrapperChoice from \"@/components/modals/ModalWrapperChoice\";\r\nimport SaveInfoEntry from \"@/components/modals/cloud/SaveInfoEntry\";\r\n\r\nexport default {\r\n  name: \"CloudLoadConflictModal\",\r\n  components: {\r\n    ModalWrapperChoice,\r\n    SaveInfoEntry,\r\n  },\r\n  computed: {\r\n    conflict() {\r\n      return this.$viewModel.modal.cloudConflict;\r\n    },\r\n    older() {\r\n      return this.conflict.saveComparison.older === 1;\r\n    },\r\n    farther() {\r\n      return this.conflict.saveComparison.farther === 1;\r\n    },\r\n    hasDifferentName() {\r\n      return this.conflict.cloud.saveName !== this.conflict.local.saveName;\r\n    },\r\n    suggestionText() {\r\n      const goodStyle = `style=\"color: var(--color-good)\"`;\r\n      const badStyle = `style=\"color: var(--color-bad)\"`;\r\n\r\n      const suggestions = [\"Loading this Cloud save \"];\r\n      const cloudProg = this.conflict.cloud.compositeProgress, localProg = this.conflict.local.compositeProgress;\r\n      const warnOverwrite = this.farther && Math.abs(cloudProg - localProg) > 0.15;\r\n      suggestions.push(warnOverwrite\r\n        ? `<b ${badStyle}>would cause your local save to lose significant progress</b>`\r\n        : `<b ${goodStyle}>is probably safe</b>`);\r\n      if (this.hasDifferentName) {\r\n        suggestions.push(`<br>${warnOverwrite ? \"Additionally\" : \"However\"}, the Cloud save\r\n          <b ${badStyle}>may be a save from a different device</b>.`);\r\n      }\r\n      if (warnOverwrite || this.hasDifferentName) {\r\n        suggestions.push(`<br><b ${badStyle}>Are you sure you wish to overwrite your local save?</b>`);\r\n      }\r\n      return suggestions.join(\"\");\r\n    }\r\n  },\r\n  methods: {\r\n    confirm() {\r\n      this.conflict.onAccept?.();\r\n      EventHub.dispatch(GAME_EVENT.CLOSE_MODAL);\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<template>\r\n  <ModalWrapperChoice\r\n    class=\"c-modal-options__large\"\r\n    :cancel-class=\"'c-modal-message__okay-btn'\"\r\n    :confirm-class=\"'c-modal-message__okay-btn c-modal__confirm-btn'\"\r\n    :confirm-fn=\"confirm\"\r\n  >\r\n    <template #header>\r\n      Load Game from Cloud\r\n    </template>\r\n    <span v-if=\"hasDifferentName\">\r\n      Your Local and Cloud Saves have <b>different names</b>.\r\n    </span>\r\n    <span v-else-if=\"older\">\r\n      Loading from the Cloud would <b>load a save with less playtime</b>.\r\n    </span>\r\n    <span v-else-if=\"farther\">\r\n      Loading from the Cloud would <b>cause you to lose progress</b>.\r\n    </span>\r\n    <span v-else>\r\n      Your Local Save and Cloud Save <b>appear to have similar amounts of progress</b>.\r\n    </span>\r\n    Please select the save you want to load.\r\n    <br>\r\n    <br>\r\n    <SaveInfoEntry\r\n      :save-data=\"conflict.local\"\r\n      :other-data=\"conflict.cloud\"\r\n      :save-id=\"conflict.saveId\"\r\n      :show-name=\"hasDifferentName\"\r\n      save-type=\"Local Save\"\r\n    />\r\n    <SaveInfoEntry\r\n      :save-data=\"conflict.cloud\"\r\n      :other-data=\"conflict.local\"\r\n      :save-id=\"conflict.saveId\"\r\n      :show-name=\"hasDifferentName\"\r\n      save-type=\"Cloud Save\"\r\n    />\r\n    <span v-html=\"suggestionText\" />\r\n    <template #cancel-text>\r\n      Keep Local Save\r\n    </template>\r\n    <template #confirm-text>\r\n      Overwrite Local with Cloud Save\r\n    </template>\r\n  </ModalWrapperChoice>\r\n</template>"]}]}