{"remainingRequest":"C:\\Games\\ADFasterer\\ADfasterer\\node_modules\\@vue\\vue-loader-v15\\lib\\index.js??vue-loader-options!C:\\Games\\ADFasterer\\ADfasterer\\src\\components\\tabs\\glyphs\\EquippedGlyphs.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Games\\ADFasterer\\ADfasterer\\src\\components\\tabs\\glyphs\\EquippedGlyphs.vue","mtime":1745241597298},{"path":"C:\\Games\\ADFasterer\\ADfasterer\\node_modules\\babel-loader\\lib\\index.js","mtime":1745242219290},{"path":"C:\\Games\\ADFasterer\\ADfasterer\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1745242214069},{"path":"C:\\Games\\ADFasterer\\ADfasterer\\node_modules\\@vue\\vue-loader-v15\\lib\\index.js","mtime":1745242220175}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQppbXBvcnQgR2x5cGhDb21wb25lbnQgZnJvbSAiQC9jb21wb25lbnRzL0dseXBoQ29tcG9uZW50IjsNCg0KZXhwb3J0IGRlZmF1bHQgew0KICBuYW1lOiAiRXF1aXBwZWRHbHlwaHMiLA0KICBjb21wb25lbnRzOiB7DQogICAgR2x5cGhDb21wb25lbnQNCiAgfSwNCiAgZGF0YSgpIHsNCiAgICByZXR1cm4gew0KICAgICAgZ2x5cGhzOiBbXSwNCiAgICAgIGRyYWdvdmVySW5kZXg6IC0xLA0KICAgICAgcmVzcGVjOiBwbGF5ZXIucmVhbGl0eS5yZXNwZWMsDQogICAgICByZXNwZWNJbnRvUHJvdGVjdGVkOiBwbGF5ZXIub3B0aW9ucy5yZXNwZWNJbnRvUHJvdGVjdGVkLA0KICAgICAgdW5kb1Nsb3RzQXZhaWxhYmxlOiAwLA0KICAgICAgdW5kb0F2YWlsYWJsZTogZmFsc2UsDQogICAgICB1bmRvVmlzaWJsZTogZmFsc2UsDQogICAgICBjb3NtZXRpY0dsb3c6IGZhbHNlLA0KICAgIH07DQogIH0sDQogIGNvbXB1dGVkOiB7DQogICAgLy8gRW1wdHkgc2xvdHMgYXJlIGJpZ2dlciBkdWUgdG8gdGhlIGVubGFyZ2VkIGRyb3Agem9uZQ0KICAgIEdMWVBIX1NJWkU6ICgpID0+IDUsDQogICAgc2xvdENvdW50KCkgew0KICAgICAgcmV0dXJuIHRoaXMuZ2x5cGhzLmxlbmd0aDsNCiAgICB9LA0KICAgIGFycmFuZ2VtZW50UmFkaXVzKCkgew0KICAgICAgaWYgKHRoaXMuc2xvdENvdW50ID09PSAwKSByZXR1cm4gMDsNCiAgICAgIHJldHVybiB0aGlzLnNsb3RDb3VudCArIDE7DQogICAgfSwNCiAgICByZXNwZWNUb29sdGlwKCkgew0KICAgICAgY29uc3QgcmVzZXQgPSBQZWxsZS5pc0Rvb21lZCA/ICJBcm1hZ2VkZG9uIiA6ICJSZWFsaXR5IjsNCiAgICAgIHJldHVybiB0aGlzLnJlc3BlYw0KICAgICAgICA/IGBSZXNwZWMgaXMgYWN0aXZlIGFuZCB3aWxsIHBsYWNlIHlvdXIgY3VycmVudGx5IC0gZXF1aXBwZWQgR2x5cGhzIGludG8geW91ciBpbnZlbnRvcnkgYWZ0ZXIgJHtyZXNldH0uYA0KICAgICAgICA6IGBZb3VyIGN1cnJlbnRseS1lcXVpcHBlZCBHbHlwaHMgd2lsbCBzdGF5IGVxdWlwcGVkIG9uICR7cmVzZXR9LmA7DQogICAgfSwNCiAgICB1bmRvVG9vbHRpcCgpIHsNCiAgICAgIGlmICghdGhpcy51bmRvU2xvdHNBdmFpbGFibGUpIHJldHVybiAiWW91IGRvIG5vdCBoYXZlIGF2YWlsYWJsZSBpbnZlbnRvcnkgc3BhY2UgdG8gdW5lcXVpcCBHbHlwaHMgdG8iOw0KICAgICAgcmV0dXJuIHRoaXMudW5kb0F2YWlsYWJsZQ0KICAgICAgICA/ICgiVW5lcXVpcCB0aGUgbGFzdCBlcXVpcHBlZCBHbHlwaCBhbmQgcmV3aW5kIFJlYWxpdHkgdG8gd2hlbiB5b3UgZXF1aXBwZWQgaXQuIiArDQogICAgICAgICAgIiAoTW9zdCByZXNvdXJjZXMgd2lsbCBiZSBmdWxseSByZXNldCkiKQ0KICAgICAgICA6ICJVbmRvIGlzIG9ubHkgYXZhaWxhYmxlIGZvciBHbHlwaHMgZXF1aXBwZWQgZHVyaW5nIHRoaXMgUmVhbGl0eSI7DQogICAgfSwNCiAgICB1bmVxdWlwVGV4dCgpIHsNCiAgICAgIGlmIChQZWxsZS5pc0Rvb21lZCkgcmV0dXJuICJVbmVxdWlwIEdseXBocyBvbiBBcm1hZ2VkZG9uIjsNCiAgICAgIHJldHVybiAiVW5lcXVpcCBHbHlwaHMgb24gUmVhbGl0eSI7DQogICAgfSwNCiAgICBpc0Rvb21lZCgpIHsNCiAgICAgIHJldHVybiBQZWxsZS5pc0Rvb21lZDsNCiAgICB9LA0KICAgIGdseXBoUmVzcGVjU3R5bGUoKSB7DQogICAgICBpZiAodGhpcy5yZXNwZWMpIHsNCiAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICBjb2xvcjogInZhcigtLWNvbG9yLXJlYWxpdHktbGlnaHQpIiwNCiAgICAgICAgICAiYmFja2dyb3VuZC1jb2xvciI6ICJ2YXIoLS1jb2xvci1yZWFsaXR5KSIsDQogICAgICAgICAgImJvcmRlci1jb2xvciI6ICIjMDk0ZTBiIiwNCiAgICAgICAgICBjdXJzb3I6ICJwb2ludGVyIiwNCiAgICAgICAgfTsNCiAgICAgIH0NCiAgICAgIHJldHVybiB7DQogICAgICAgIGN1cnNvcjogInBvaW50ZXIiLA0KICAgICAgfTsNCiAgICB9LA0KICAgIC8vICJBcm1hZ2VkZG9uIiBjYXVzZXMgdGhlIGJ1dHRvbiB0byBoYXZlIHRleHQgb3ZlcmZsb3csIHNvIHdlIGNvbmRpdGlvbmFsbHkgbWFrZSB0aGUgYnV0dG9uIHRhbGxlcjsgdGhpcyBkb2Vzbid0DQogICAgLy8gY2F1c2UgY29udGFpbmVyIG92ZXJmbG93IGR1ZSB0byBhbm90aGVyIGJ1dHRvbiBiZWluZyByZW1vdmVkIGVudGlyZWx5IHdoZW4gZG9vbWVkDQogICAgdW5lcXVpcENsYXNzKCkgew0KICAgICAgcmV0dXJuIHsNCiAgICAgICAgImwtZ2x5cGgtZXF1aXAtYnV0dG9uIjogdGhpcy5pc0Rvb21lZCwNCiAgICAgICAgImwtZ2x5cGgtZXF1aXAtYnV0dG9uLXNob3J0IjogIXRoaXMuaXNEb29tZWQsDQogICAgICB9Ow0KICAgIH0NCiAgfSwNCiAgY3JlYXRlZCgpIHsNCiAgICB0aGlzLm9uJChHQU1FX0VWRU5ULkdMWVBIU19FUVVJUFBFRF9DSEFOR0VELCB0aGlzLmdseXBoc0NoYW5nZWQpOw0KICAgIHRoaXMuZ2x5cGhzQ2hhbmdlZCgpOw0KICB9LA0KICBtZXRob2RzOiB7DQogICAgdXBkYXRlKCkgew0KICAgICAgdGhpcy5yZXNwZWMgPSBwbGF5ZXIucmVhbGl0eS5yZXNwZWM7DQogICAgICB0aGlzLnJlc3BlY0ludG9Qcm90ZWN0ZWQgPSBwbGF5ZXIub3B0aW9ucy5yZXNwZWNJbnRvUHJvdGVjdGVkOw0KICAgICAgdGhpcy51bmRvU2xvdHNBdmFpbGFibGUgPSB0aGlzLnJlc3BlY0ludG9Qcm90ZWN0ZWQNCiAgICAgICAgPyBHbHlwaHMudG90YWxTbG90cyAtIEdhbWVDYWNoZS5nbHlwaEludmVudG9yeVNwYWNlLnZhbHVlIC0gR2x5cGhzLmludmVudG9yeUxpc3QubGVuZ3RoID4gMA0KICAgICAgICA6IEdhbWVDYWNoZS5nbHlwaEludmVudG9yeVNwYWNlLnZhbHVlID4gMDsNCiAgICAgIHRoaXMudW5kb1Zpc2libGUgPSBUZXJlc2FVbmxvY2tzLnVuZG8uY2FuQmVBcHBsaWVkOw0KICAgICAgdGhpcy51bmRvQXZhaWxhYmxlID0gdGhpcy51bmRvVmlzaWJsZSAmJiB0aGlzLnVuZG9TbG90c0F2YWlsYWJsZSAmJiBwbGF5ZXIucmVhbGl0eS5nbHlwaHMudW5kby5sZW5ndGggPiAwOw0KICAgICAgdGhpcy5jb3NtZXRpY0dsb3cgPSBwbGF5ZXIucmVhbGl0eS5nbHlwaHMuY29zbWV0aWNzLmdsb3dOb3RpZmljYXRpb247DQogICAgfSwNCiAgICBnbHlwaFBvc2l0aW9uU3R5bGUoaWR4KSB7DQogICAgICBjb25zdCBhbmdsZSA9IDIgKiBNYXRoLlBJICogaWR4IC8gdGhpcy5zbG90Q291bnQ7DQogICAgICBjb25zdCBkeCA9IC10aGlzLkdMWVBIX1NJWkUgLyAyICsgdGhpcy5hcnJhbmdlbWVudFJhZGl1cyAqIE1hdGguc2luKGFuZ2xlKTsNCiAgICAgIGNvbnN0IGR5ID0gLXRoaXMuR0xZUEhfU0laRSAvIDIgKyB0aGlzLmFycmFuZ2VtZW50UmFkaXVzICogTWF0aC5jb3MoYW5nbGUpOw0KICAgICAgcmV0dXJuIHsNCiAgICAgICAgcG9zaXRpb246ICJhYnNvbHV0ZSIsDQogICAgICAgIGxlZnQ6IGBjYWxjKDUwJSArICR7ZHh9cmVtKWAsDQogICAgICAgIHRvcDogYGNhbGMoNTAlICsgJHtkeX1yZW0pYCwNCiAgICAgICAgInotaW5kZXgiOiAxLA0KICAgICAgfTsNCiAgICB9LA0KICAgIGRyYWdvdmVyKGV2ZW50LCBpZHgpIHsNCiAgICAgIGlmICghZXZlbnQuZGF0YVRyYW5zZmVyLnR5cGVzLmluY2x1ZGVzKEdMWVBIX01JTUVfVFlQRSkpIHJldHVybjsNCiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7DQogICAgICB0aGlzLmRyYWdvdmVySW5kZXggPSBpZHg7DQogICAgfSwNCiAgICBkcmFnbGVhdmUoaWR4KSB7DQogICAgICBpZiAodGhpcy5kcmFnb3ZlckluZGV4ID09PSBpZHgpIHRoaXMuZHJhZ292ZXJJbmRleCA9IC0xOw0KICAgIH0sDQogICAgZHJvcChldmVudCwgaWR4KSB7DQogICAgICB0aGlzLmRyYWdvdmVySW5kZXggPSAtMTsNCiAgICAgIGNvbnN0IGlkID0gcGFyc2VJbnQoZXZlbnQuZGF0YVRyYW5zZmVyLmdldERhdGEoR0xZUEhfTUlNRV9UWVBFKSwgMTApOw0KICAgICAgaWYgKGlzTmFOKGlkKSkgcmV0dXJuOw0KICAgICAgY29uc3QgZ2x5cGggPSBHbHlwaHMuZmluZEJ5SWQoaWQpOw0KICAgICAgaWYgKGdseXBoKSBHbHlwaHMuZXF1aXAoZ2x5cGgsIGlkeCk7DQogICAgfSwNCiAgICB0b2dnbGVSZXNwZWMoKSB7DQogICAgICBwbGF5ZXIucmVhbGl0eS5yZXNwZWMgPSAhcGxheWVyLnJlYWxpdHkucmVzcGVjOw0KICAgIH0sDQogICAgdG9nZ2xlUmVzcGVjSW50b1Byb3RlY3RlZCgpIHsNCiAgICAgIHBsYXllci5vcHRpb25zLnJlc3BlY0ludG9Qcm90ZWN0ZWQgPSAhcGxheWVyLm9wdGlvbnMucmVzcGVjSW50b1Byb3RlY3RlZDsNCiAgICB9LA0KICAgIGdseXBoc0NoYW5nZWQoKSB7DQogICAgICB0aGlzLmdseXBocyA9IEdseXBocy5hY3RpdmUubWFwKEdseXBoR2VuZXJhdG9yLmNvcHkpOw0KICAgICAgdGhpcy4kcmVjb21wdXRlKCJzbG90Q291bnQiKTsNCiAgICB9LA0KICAgIHVuZG8oKSB7DQogICAgICBpZiAoIXRoaXMudW5kb0F2YWlsYWJsZSB8fCBQZWxsZS5pc0Rvb21lZCkgcmV0dXJuOw0KICAgICAgaWYgKHBsYXllci5vcHRpb25zLmNvbmZpcm1hdGlvbnMuZ2x5cGhVbmRvKSBNb2RhbC5nbHlwaFVuZG8uc2hvdygpOw0KICAgICAgZWxzZSBHbHlwaHMudW5kbygpOw0KICAgIH0sDQogICAgZHJhZ0V2ZW50cyhpZHgpIHsNCiAgICAgIHJldHVybiB7DQogICAgICAgIGRyYWdvdmVyOiAkZXZlbnQgPT4gdGhpcy5kcmFnb3ZlcigkZXZlbnQsIGlkeCksDQogICAgICAgIGRyYWdsZWF2ZTogKCkgPT4gdGhpcy5kcmFnbGVhdmUoaWR4KSwNCiAgICAgICAgZHJvcDogJGV2ZW50ID0+IHRoaXMuZHJvcCgkZXZlbnQsIGlkeCksDQogICAgICB9Ow0KICAgIH0sDQogICAgc2hvd0VxdWlwcGVkTW9kYWwoKSB7DQogICAgICAvLyBJZiB0aGVyZSBhcmVuJ3QgYW55IGdseXBocyBlcXVpcHBlZCwgdGhlIGFycmF5IGlzIGZ1bGwgb2YgbnVsbHMgd2hpY2ggZ2V0IGZpbHRlcmVkIG91dCBieSB4ID0+IHgNCiAgICAgIGlmICh0aGlzLmdseXBocy5maWx0ZXIoeCA9PiB4KS5sZW5ndGggPT09IDApIHJldHVybjsNCiAgICAgIE1vZGFsLmdseXBoU2hvd2Nhc2VQYW5lbC5zaG93KHsNCiAgICAgICAgbmFtZTogIkVxdWlwcGVkIEdseXBocyIsDQogICAgICAgIGdseXBoU2V0OiB0aGlzLmdseXBocywNCiAgICAgICAgY2xvc2VFdmVudDogR0FNRV9FVkVOVC5HTFlQSFNfRVFVSVBQRURfQ0hBTkdFRCwNCiAgICAgIH0pOw0KICAgIH0sDQogICAgc2hvd09wdGlvbk1vZGFsKCkgew0KICAgICAgcGxheWVyLnJlYWxpdHkuZ2x5cGhzLmNvc21ldGljcy5nbG93Tm90aWZpY2F0aW9uID0gZmFsc2U7DQogICAgICBNb2RhbC5nbHlwaERpc3BsYXlPcHRpb25zLnNob3coKTsNCiAgICB9LA0KICAgIGNsaWNrR2x5cGgoZ2x5cGgsIGlkeCwgaW5jcmVhc2VTb3VuZCA9IGZhbHNlKSB7DQogICAgICBpZiAoR2x5cGhzLmlzTXVzaWNHbHlwaChnbHlwaCkpIHsNCiAgICAgICAgY29uc3Qgc291bmQgPSBpZHggKyAoaW5jcmVhc2VTb3VuZCA/IDYgOiAxKTsNCiAgICAgICAgbmV3IEF1ZGlvKGBhdWRpby9ub3RlJHtzb3VuZH0ubXAzYCkucGxheSgpOw0KICAgICAgfQ0KICAgIH0NCiAgfQ0KfTsNCg=="},{"version":3,"sources":["EquippedGlyphs.vue"],"names":[],"mappings":";AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"EquippedGlyphs.vue","sourceRoot":"src/components/tabs/glyphs","sourcesContent":["<script>\r\nimport GlyphComponent from \"@/components/GlyphComponent\";\r\n\r\nexport default {\r\n  name: \"EquippedGlyphs\",\r\n  components: {\r\n    GlyphComponent\r\n  },\r\n  data() {\r\n    return {\r\n      glyphs: [],\r\n      dragoverIndex: -1,\r\n      respec: player.reality.respec,\r\n      respecIntoProtected: player.options.respecIntoProtected,\r\n      undoSlotsAvailable: 0,\r\n      undoAvailable: false,\r\n      undoVisible: false,\r\n      cosmeticGlow: false,\r\n    };\r\n  },\r\n  computed: {\r\n    // Empty slots are bigger due to the enlarged drop zone\r\n    GLYPH_SIZE: () => 5,\r\n    slotCount() {\r\n      return this.glyphs.length;\r\n    },\r\n    arrangementRadius() {\r\n      if (this.slotCount === 0) return 0;\r\n      return this.slotCount + 1;\r\n    },\r\n    respecTooltip() {\r\n      const reset = Pelle.isDoomed ? \"Armageddon\" : \"Reality\";\r\n      return this.respec\r\n        ? `Respec is active and will place your currently - equipped Glyphs into your inventory after ${reset}.`\r\n        : `Your currently-equipped Glyphs will stay equipped on ${reset}.`;\r\n    },\r\n    undoTooltip() {\r\n      if (!this.undoSlotsAvailable) return \"You do not have available inventory space to unequip Glyphs to\";\r\n      return this.undoAvailable\r\n        ? (\"Unequip the last equipped Glyph and rewind Reality to when you equipped it.\" +\r\n          \" (Most resources will be fully reset)\")\r\n        : \"Undo is only available for Glyphs equipped during this Reality\";\r\n    },\r\n    unequipText() {\r\n      if (Pelle.isDoomed) return \"Unequip Glyphs on Armageddon\";\r\n      return \"Unequip Glyphs on Reality\";\r\n    },\r\n    isDoomed() {\r\n      return Pelle.isDoomed;\r\n    },\r\n    glyphRespecStyle() {\r\n      if (this.respec) {\r\n        return {\r\n          color: \"var(--color-reality-light)\",\r\n          \"background-color\": \"var(--color-reality)\",\r\n          \"border-color\": \"#094e0b\",\r\n          cursor: \"pointer\",\r\n        };\r\n      }\r\n      return {\r\n        cursor: \"pointer\",\r\n      };\r\n    },\r\n    // \"Armageddon\" causes the button to have text overflow, so we conditionally make the button taller; this doesn't\r\n    // cause container overflow due to another button being removed entirely when doomed\r\n    unequipClass() {\r\n      return {\r\n        \"l-glyph-equip-button\": this.isDoomed,\r\n        \"l-glyph-equip-button-short\": !this.isDoomed,\r\n      };\r\n    }\r\n  },\r\n  created() {\r\n    this.on$(GAME_EVENT.GLYPHS_EQUIPPED_CHANGED, this.glyphsChanged);\r\n    this.glyphsChanged();\r\n  },\r\n  methods: {\r\n    update() {\r\n      this.respec = player.reality.respec;\r\n      this.respecIntoProtected = player.options.respecIntoProtected;\r\n      this.undoSlotsAvailable = this.respecIntoProtected\r\n        ? Glyphs.totalSlots - GameCache.glyphInventorySpace.value - Glyphs.inventoryList.length > 0\r\n        : GameCache.glyphInventorySpace.value > 0;\r\n      this.undoVisible = TeresaUnlocks.undo.canBeApplied;\r\n      this.undoAvailable = this.undoVisible && this.undoSlotsAvailable && player.reality.glyphs.undo.length > 0;\r\n      this.cosmeticGlow = player.reality.glyphs.cosmetics.glowNotification;\r\n    },\r\n    glyphPositionStyle(idx) {\r\n      const angle = 2 * Math.PI * idx / this.slotCount;\r\n      const dx = -this.GLYPH_SIZE / 2 + this.arrangementRadius * Math.sin(angle);\r\n      const dy = -this.GLYPH_SIZE / 2 + this.arrangementRadius * Math.cos(angle);\r\n      return {\r\n        position: \"absolute\",\r\n        left: `calc(50% + ${dx}rem)`,\r\n        top: `calc(50% + ${dy}rem)`,\r\n        \"z-index\": 1,\r\n      };\r\n    },\r\n    dragover(event, idx) {\r\n      if (!event.dataTransfer.types.includes(GLYPH_MIME_TYPE)) return;\r\n      event.preventDefault();\r\n      this.dragoverIndex = idx;\r\n    },\r\n    dragleave(idx) {\r\n      if (this.dragoverIndex === idx) this.dragoverIndex = -1;\r\n    },\r\n    drop(event, idx) {\r\n      this.dragoverIndex = -1;\r\n      const id = parseInt(event.dataTransfer.getData(GLYPH_MIME_TYPE), 10);\r\n      if (isNaN(id)) return;\r\n      const glyph = Glyphs.findById(id);\r\n      if (glyph) Glyphs.equip(glyph, idx);\r\n    },\r\n    toggleRespec() {\r\n      player.reality.respec = !player.reality.respec;\r\n    },\r\n    toggleRespecIntoProtected() {\r\n      player.options.respecIntoProtected = !player.options.respecIntoProtected;\r\n    },\r\n    glyphsChanged() {\r\n      this.glyphs = Glyphs.active.map(GlyphGenerator.copy);\r\n      this.$recompute(\"slotCount\");\r\n    },\r\n    undo() {\r\n      if (!this.undoAvailable || Pelle.isDoomed) return;\r\n      if (player.options.confirmations.glyphUndo) Modal.glyphUndo.show();\r\n      else Glyphs.undo();\r\n    },\r\n    dragEvents(idx) {\r\n      return {\r\n        dragover: $event => this.dragover($event, idx),\r\n        dragleave: () => this.dragleave(idx),\r\n        drop: $event => this.drop($event, idx),\r\n      };\r\n    },\r\n    showEquippedModal() {\r\n      // If there aren't any glyphs equipped, the array is full of nulls which get filtered out by x => x\r\n      if (this.glyphs.filter(x => x).length === 0) return;\r\n      Modal.glyphShowcasePanel.show({\r\n        name: \"Equipped Glyphs\",\r\n        glyphSet: this.glyphs,\r\n        closeEvent: GAME_EVENT.GLYPHS_EQUIPPED_CHANGED,\r\n      });\r\n    },\r\n    showOptionModal() {\r\n      player.reality.glyphs.cosmetics.glowNotification = false;\r\n      Modal.glyphDisplayOptions.show();\r\n    },\r\n    clickGlyph(glyph, idx, increaseSound = false) {\r\n      if (Glyphs.isMusicGlyph(glyph)) {\r\n        const sound = idx + (increaseSound ? 6 : 1);\r\n        new Audio(`audio/note${sound}.mp3`).play();\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<template>\r\n  <div class=\"l-equipped-glyphs\">\r\n    <div class=\"l-equipped-glyphs__slots\">\r\n      <div\r\n        v-for=\"(glyph, idx) in glyphs\"\r\n        :key=\"idx\"\r\n        class=\"l-glyph-set-preview\"\r\n        :style=\"glyphPositionStyle(idx)\"\r\n        v-on=\"dragEvents(idx)\"\r\n        @click=\"showEquippedModal\"\r\n      >\r\n        <!-- the drop zone is a bit larger than the glyph itself. -->\r\n        <div class=\"l-equipped-glyphs__dropzone\" />\r\n        <GlyphComponent\r\n          v-if=\"glyph\"\r\n          :key=\"idx\"\r\n          :glyph=\"glyph\"\r\n          :circular=\"true\"\r\n          :is-active-glyph=\"true\"\r\n          class=\"c-equipped-glyph\"\r\n          @clicked=\"clickGlyph(glyph, idx)\"\r\n          @shiftClicked=\"clickGlyph(glyph, idx, true)\"\r\n          @ctrlShiftClicked=\"clickGlyph(glyph, idx, true)\"\r\n        />\r\n        <div\r\n          v-else\r\n          :class=\"['l-equipped-glyphs__empty', 'c-equipped-glyphs__empty',\r\n                   {'c-equipped-glyphs__empty--dragover': dragoverIndex === idx}]\"\r\n        />\r\n      </div>\r\n    </div>\r\n    <div class=\"l-equipped-glyphs__buttons\">\r\n      <button\r\n        class=\"c-reality-upgrade-btn\"\r\n        :class=\"unequipClass\"\r\n        :style=\"glyphRespecStyle\"\r\n        :ach-tooltip=\"respecTooltip\"\r\n        @click=\"toggleRespec\"\r\n      >\r\n        {{ unequipText }}\r\n      </button>\r\n      <button\r\n        v-if=\"undoVisible\"\r\n        class=\"l-glyph-equip-button c-reality-upgrade-btn\"\r\n        :class=\"{'c-reality-upgrade-btn--unavailable': !undoAvailable}\"\r\n        :ach-tooltip=\"undoTooltip\"\r\n        @click=\"undo\"\r\n      >\r\n        <span>Rewind to <b>undo</b> the last equipped Glyph</span>\r\n      </button>\r\n      <button\r\n        class=\"l-glyph-equip-button c-reality-upgrade-btn\"\r\n        @click=\"toggleRespecIntoProtected\"\r\n      >\r\n        Unequip Glyphs to:\r\n        <br>\r\n        <span v-if=\"respecIntoProtected\">Protected slots</span>\r\n        <span v-else>Main inventory</span>\r\n      </button>\r\n      <button\r\n        class=\"l-glyph-equip-button-short c-reality-upgrade-btn\"\r\n        :class=\"{'tutorial--glow': cosmeticGlow}\"\r\n        @click=\"showOptionModal\"\r\n      >\r\n        Open Glyph Visual Options\r\n      </button>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<style scoped>\r\n.c-equipped-glyph {\r\n  -webkit-user-drag: none;\r\n}\r\n\r\n.l-glyph-equip-button {\r\n  width: 100%;\r\n  height: 3.5rem;\r\n  margin: 0.25rem 0.5rem;\r\n}\r\n\r\n.l-glyph-equip-button-short {\r\n  width: 100%;\r\n  height: 2.5rem;\r\n  margin: 0.25rem 0.5rem;\r\n}\r\n</style>\r\n"]}]}