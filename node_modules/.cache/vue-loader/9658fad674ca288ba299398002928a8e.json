{"remainingRequest":"C:\\Games\\ADFasterer\\ADfasterer\\node_modules\\@vue\\vue-loader-v15\\lib\\index.js??vue-loader-options!C:\\Games\\ADFasterer\\ADfasterer\\src\\components\\tabs\\imaginary-upgrades\\ImaginaryUpgradeButton.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Games\\ADFasterer\\ADfasterer\\src\\components\\tabs\\imaginary-upgrades\\ImaginaryUpgradeButton.vue","mtime":1745241597364},{"path":"C:\\Games\\ADFasterer\\ADfasterer\\node_modules\\babel-loader\\lib\\index.js","mtime":1745242219290},{"path":"C:\\Games\\ADFasterer\\ADfasterer\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1745242214069},{"path":"C:\\Games\\ADFasterer\\ADfasterer\\node_modules\\@vue\\vue-loader-v15\\lib\\index.js","mtime":1745242220175}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQppbXBvcnQgQ29zdERpc3BsYXkgZnJvbSAiQC9jb21wb25lbnRzL0Nvc3REaXNwbGF5IjsNCmltcG9ydCBEZXNjcmlwdGlvbkRpc3BsYXkgZnJvbSAiQC9jb21wb25lbnRzL0Rlc2NyaXB0aW9uRGlzcGxheSI7DQppbXBvcnQgRWZmZWN0RGlzcGxheSBmcm9tICJAL2NvbXBvbmVudHMvRWZmZWN0RGlzcGxheSI7DQppbXBvcnQgSGludFRleHQgZnJvbSAiQC9jb21wb25lbnRzL0hpbnRUZXh0IjsNCmltcG9ydCBQcmltYXJ5VG9nZ2xlQnV0dG9uIGZyb20gIkAvY29tcG9uZW50cy9QcmltYXJ5VG9nZ2xlQnV0dG9uIjsNCg0KZXhwb3J0IGRlZmF1bHQgew0KICBuYW1lOiAiSW1hZ2luYXJ5VXBncmFkZUJ1dHRvbiIsDQogIGNvbXBvbmVudHM6IHsNCiAgICBQcmltYXJ5VG9nZ2xlQnV0dG9uLA0KICAgIERlc2NyaXB0aW9uRGlzcGxheSwNCiAgICBFZmZlY3REaXNwbGF5LA0KICAgIENvc3REaXNwbGF5LA0KICAgIEhpbnRUZXh0DQogIH0sDQogIHByb3BzOiB7DQogICAgdXBncmFkZTogew0KICAgICAgdHlwZTogT2JqZWN0LA0KICAgICAgcmVxdWlyZWQ6IHRydWUNCiAgICB9DQogIH0sDQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIGlzQXZhaWxhYmxlRm9yUHVyY2hhc2U6IGZhbHNlLA0KICAgICAgY2FuQmVCb3VnaHQ6IGZhbHNlLA0KICAgICAgaXNSZWJ1eWFibGU6IGZhbHNlLA0KICAgICAgaXNCb3VnaHQ6IGZhbHNlLA0KICAgICAgaXNQb3NzaWJsZTogZmFsc2UsDQogICAgICBpc0F1dG9VbmxvY2tlZDogZmFsc2UsDQogICAgICBpc0F1dG9idXllck9uOiBmYWxzZSwNCiAgICAgIGV0YVRleHQ6ICIiLA0KICAgICAgY2FuQmVMb2NrZWQ6IGZhbHNlLA0KICAgICAgaGFzUmVxdWlyZW1lbnRMb2NrOiBmYWxzZSwNCiAgICB9Ow0KICB9LA0KICBjb21wdXRlZDogew0KICAgIGNvbmZpZygpIHsNCiAgICAgIHJldHVybiB0aGlzLnVwZ3JhZGUuY29uZmlnOw0KICAgIH0sDQogICAgY2xhc3NPYmplY3QoKSB7DQogICAgICByZXR1cm4gew0KICAgICAgICAiYy1yZWFsaXR5LXVwZ3JhZGUtYnRuLS11c2VsZXNzIjogdGhpcy51cGdyYWRlLnBlbGxlRGlzYWJsZWQsDQogICAgICAgICJjLXJlYWxpdHktdXBncmFkZS1idG4tLWJvdWdodCI6IHRoaXMuaXNCb3VnaHQgJiYgIXRoaXMudXBncmFkZS5wZWxsZURpc2FibGVkLA0KICAgICAgICAiYy1yZWFsaXR5LXVwZ3JhZGUtYnRuLS11bmF2YWlsYWJsZSI6ICF0aGlzLmlzQm91Z2h0ICYmICF0aGlzLmNhbkJlQm91Z2h0ICYmIHRoaXMuaXNBdmFpbGFibGVGb3JQdXJjaGFzZSwNCiAgICAgICAgImMtcmVhbGl0eS11cGdyYWRlLWJ0bi0tcG9zc2libGUiOiAhdGhpcy5pc0F2YWlsYWJsZUZvclB1cmNoYXNlICYmIHRoaXMuaXNQb3NzaWJsZSwNCiAgICAgICAgImMtcmVhbGl0eS11cGdyYWRlLWJ0bi0tbG9ja2VkIjogIXRoaXMuaXNBdmFpbGFibGVGb3JQdXJjaGFzZSAmJiAhdGhpcy5pc1Bvc3NpYmxlLA0KICAgICAgfTsNCiAgICB9LA0KICAgIHJlcXVpcmVtZW50Q29uZmlnKCkgew0KICAgICAgcmV0dXJuIHsNCiAgICAgICAgZGVzY3JpcHRpb246IHRoaXMuY29uZmlnLnJlcXVpcmVtZW50DQogICAgICB9Ow0KICAgIH0sDQogICAgY2FuTG9jaygpIHsNCiAgICAgIHJldHVybiB0aGlzLmNvbmZpZy5jYW5Mb2NrICYmICEodGhpcy5pc0F2YWlsYWJsZUZvclB1cmNoYXNlIHx8IHRoaXMuaXNCb3VnaHQpOw0KICAgIH0sDQogICAgaXNEb29tZWQ6ICgpID0+IFBlbGxlLmlzRG9vbWVkLA0KICB9LA0KICB3YXRjaDogew0KICAgIGlzQXV0b2J1eWVyT24obmV3VmFsdWUpIHsNCiAgICAgIEF1dG9idXllci5pbWFnaW5hcnlVcGdyYWRlKHRoaXMudXBncmFkZS5pZCkuaXNBY3RpdmUgPSBuZXdWYWx1ZTsNCiAgICB9DQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICB1cGRhdGUoKSB7DQogICAgICBjb25zdCB1cGdyYWRlID0gdGhpcy51cGdyYWRlOw0KICAgICAgdGhpcy5pc0F2YWlsYWJsZUZvclB1cmNoYXNlID0gdXBncmFkZS5pc0F2YWlsYWJsZUZvclB1cmNoYXNlOw0KICAgICAgdGhpcy5jYW5CZUJvdWdodCA9IHVwZ3JhZGUuY2FuQmVCb3VnaHQ7DQogICAgICB0aGlzLmlzUmVidXlhYmxlID0gdXBncmFkZS5pc1JlYnV5YWJsZTsNCiAgICAgIHRoaXMuaXNCb3VnaHQgPSAhdXBncmFkZS5pc1JlYnV5YWJsZSAmJiB1cGdyYWRlLmlzQm91Z2h0Ow0KICAgICAgdGhpcy5pc1Bvc3NpYmxlID0gdXBncmFkZS5pc1Bvc3NpYmxlOw0KICAgICAgdGhpcy5pc0F1dG9VbmxvY2tlZCA9IEltYWdpbmFyeVVwZ3JhZGUoMjApLmNhbkJlQXBwbGllZDsNCiAgICAgIHRoaXMuY2FuQmVMb2NrZWQgPSB1cGdyYWRlLmNvbmZpZy5jYW5Mb2NrICYmICF0aGlzLmlzQXZhaWxhYmxlRm9yUHVyY2hhc2U7DQogICAgICB0aGlzLmhhc1JlcXVpcmVtZW50TG9jayA9IHVwZ3JhZGUuaGFzUGxheWVyTG9jazsNCiAgICAgIGlmICh0aGlzLmlzUmVidXlhYmxlKSB0aGlzLmlzQXV0b2J1eWVyT24gPSBBdXRvYnV5ZXIuaW1hZ2luYXJ5VXBncmFkZSh1cGdyYWRlLmlkKS5pc0FjdGl2ZTsNCiAgICAgIHRoaXMuZXRhVGV4dCA9IHRoaXMuZ2V0RVRBVGV4dCgpOw0KICAgIH0sDQogICAgZ2V0RVRBVGV4dCgpIHsNCiAgICAgIGlmICh0aGlzLmNhbkJlQm91Z2h0IHx8ICF0aGlzLmlzQXZhaWxhYmxlRm9yUHVyY2hhc2UgfHwgdGhpcy5pc0JvdWdodCB8fCBQZWxsZS5pc0Rvb21lZCkgcmV0dXJuICIiOw0KICAgICAgY29uc3QgdGltZSA9IE1hY2hpbmVIYW5kbGVyLmVzdGltYXRlSU1UaW1lcih0aGlzLnVwZ3JhZGUuY29zdCk7DQogICAgICBpZiAoaXNGaW5pdGUodGltZSkpIHJldHVybiBUaW1lU3Bhbi5mcm9tU2Vjb25kcyh0aW1lKS50b1N0cmluZygpOw0KICAgICAgcmV0dXJuICJOZXZlciBhZmZvcmRhYmxlIjsNCiAgICB9LA0KICAgIHRvZ2dsZUxvY2sodXBncmFkZSkgew0KICAgICAgaWYgKHRoaXMuaXNSZWJ1eWFibGUpIHJldHVybjsNCiAgICAgIHVwZ3JhZGUudG9nZ2xlTWVjaGFuaWNMb2NrKCk7DQogICAgfQ0KICB9DQp9Ow0K"},{"version":3,"sources":["ImaginaryUpgradeButton.vue"],"names":[],"mappings":";AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ImaginaryUpgradeButton.vue","sourceRoot":"src/components/tabs/imaginary-upgrades","sourcesContent":["<script>\r\nimport CostDisplay from \"@/components/CostDisplay\";\r\nimport DescriptionDisplay from \"@/components/DescriptionDisplay\";\r\nimport EffectDisplay from \"@/components/EffectDisplay\";\r\nimport HintText from \"@/components/HintText\";\r\nimport PrimaryToggleButton from \"@/components/PrimaryToggleButton\";\r\n\r\nexport default {\r\n  name: \"ImaginaryUpgradeButton\",\r\n  components: {\r\n    PrimaryToggleButton,\r\n    DescriptionDisplay,\r\n    EffectDisplay,\r\n    CostDisplay,\r\n    HintText\r\n  },\r\n  props: {\r\n    upgrade: {\r\n      type: Object,\r\n      required: true\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      isAvailableForPurchase: false,\r\n      canBeBought: false,\r\n      isRebuyable: false,\r\n      isBought: false,\r\n      isPossible: false,\r\n      isAutoUnlocked: false,\r\n      isAutobuyerOn: false,\r\n      etaText: \"\",\r\n      canBeLocked: false,\r\n      hasRequirementLock: false,\r\n    };\r\n  },\r\n  computed: {\r\n    config() {\r\n      return this.upgrade.config;\r\n    },\r\n    classObject() {\r\n      return {\r\n        \"c-reality-upgrade-btn--useless\": this.upgrade.pelleDisabled,\r\n        \"c-reality-upgrade-btn--bought\": this.isBought && !this.upgrade.pelleDisabled,\r\n        \"c-reality-upgrade-btn--unavailable\": !this.isBought && !this.canBeBought && this.isAvailableForPurchase,\r\n        \"c-reality-upgrade-btn--possible\": !this.isAvailableForPurchase && this.isPossible,\r\n        \"c-reality-upgrade-btn--locked\": !this.isAvailableForPurchase && !this.isPossible,\r\n      };\r\n    },\r\n    requirementConfig() {\r\n      return {\r\n        description: this.config.requirement\r\n      };\r\n    },\r\n    canLock() {\r\n      return this.config.canLock && !(this.isAvailableForPurchase || this.isBought);\r\n    },\r\n    isDoomed: () => Pelle.isDoomed,\r\n  },\r\n  watch: {\r\n    isAutobuyerOn(newValue) {\r\n      Autobuyer.imaginaryUpgrade(this.upgrade.id).isActive = newValue;\r\n    }\r\n  },\r\n  methods: {\r\n    update() {\r\n      const upgrade = this.upgrade;\r\n      this.isAvailableForPurchase = upgrade.isAvailableForPurchase;\r\n      this.canBeBought = upgrade.canBeBought;\r\n      this.isRebuyable = upgrade.isRebuyable;\r\n      this.isBought = !upgrade.isRebuyable && upgrade.isBought;\r\n      this.isPossible = upgrade.isPossible;\r\n      this.isAutoUnlocked = ImaginaryUpgrade(20).canBeApplied;\r\n      this.canBeLocked = upgrade.config.canLock && !this.isAvailableForPurchase;\r\n      this.hasRequirementLock = upgrade.hasPlayerLock;\r\n      if (this.isRebuyable) this.isAutobuyerOn = Autobuyer.imaginaryUpgrade(upgrade.id).isActive;\r\n      this.etaText = this.getETAText();\r\n    },\r\n    getETAText() {\r\n      if (this.canBeBought || !this.isAvailableForPurchase || this.isBought || Pelle.isDoomed) return \"\";\r\n      const time = MachineHandler.estimateIMTimer(this.upgrade.cost);\r\n      if (isFinite(time)) return TimeSpan.fromSeconds(time).toString();\r\n      return \"Never affordable\";\r\n    },\r\n    toggleLock(upgrade) {\r\n      if (this.isRebuyable) return;\r\n      upgrade.toggleMechanicLock();\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<template>\r\n  <div\r\n    v-tooltip=\"etaText\"\r\n    class=\"l-spoon-btn-group\"\r\n  >\r\n    <button\r\n      :class=\"classObject\"\r\n      class=\"l-reality-upgrade-btn c-reality-upgrade-btn\"\r\n      @click.shift.exact=\"toggleLock(upgrade)\"\r\n      @click.exact=\"upgrade.purchase()\"\r\n    >\r\n      <HintText\r\n        type=\"realityUpgrades\"\r\n        class=\"l-hint-text--reality-upgrade c-hint-text--reality-upgrade\"\r\n      >\r\n        {{ config.name }}\r\n      </HintText>\r\n      <span :class=\"{ 'o-pelle-disabled': upgrade.pelleDisabled }\">\r\n        <DescriptionDisplay :config=\"config\" />\r\n        <template v-if=\"($viewModel.shiftDown === isAvailableForPurchase) && !isRebuyable\">\r\n          <br>\r\n          <DescriptionDisplay\r\n            :config=\"requirementConfig\"\r\n            label=\"Requirement:\"\r\n            class=\"c-reality-upgrade-btn__requirement\"\r\n          />\r\n        </template>\r\n        <template v-else>\r\n          <EffectDisplay\r\n            :config=\"config\"\r\n            br\r\n          />\r\n          <CostDisplay\r\n            v-if=\"!isBought\"\r\n            :config=\"config\"\r\n            br\r\n            name=\"Imaginary Machine\"\r\n          />\r\n        </template>\r\n      </span>\r\n    </button>\r\n    <div\r\n      v-if=\"canBeLocked\"\r\n      class=\"o-requirement-lock\"\r\n    >\r\n      <i\r\n        v-if=\"hasRequirementLock\"\r\n        class=\"fas fa-lock\"\r\n      />\r\n      <i\r\n        v-else-if=\"canLock\"\r\n        class=\"fas fa-lock-open\"\r\n      />\r\n    </div>\r\n    <PrimaryToggleButton\r\n      v-if=\"isRebuyable && isAutoUnlocked\"\r\n      v-model=\"isAutobuyerOn\"\r\n      label=\"Auto:\"\r\n      class=\"l--spoon-btn-group__little-spoon-reality-btn o-primary-btn--reality-upgrade-toggle\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n"]}]}