{"remainingRequest":"C:\\Games\\ADFasterer\\ADfasterer\\node_modules\\@vue\\vue-loader-v15\\lib\\index.js??vue-loader-options!C:\\Games\\ADFasterer\\ADfasterer\\src\\components\\modals\\H2PModal.vue?vue&type=style&index=0&id=2b105050&scoped=true&lang=css&","dependencies":[{"path":"C:\\Games\\ADFasterer\\ADfasterer\\src\\components\\modals\\H2PModal.vue","mtime":1745241596819},{"path":"C:\\Games\\ADFasterer\\ADfasterer\\node_modules\\css-loader\\dist\\cjs.js","mtime":1745242216572},{"path":"C:\\Games\\ADFasterer\\ADfasterer\\node_modules\\@vue\\vue-loader-v15\\lib\\loaders\\stylePostLoader.js","mtime":1745242222796},{"path":"C:\\Games\\ADFasterer\\ADfasterer\\node_modules\\postcss-loader\\dist\\cjs.js","mtime":1745242214022},{"path":"C:\\Games\\ADFasterer\\ADfasterer\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1745242214069},{"path":"C:\\Games\\ADFasterer\\ADfasterer\\node_modules\\@vue\\vue-loader-v15\\lib\\index.js","mtime":1745242220175}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKDQouby1oMnAtdGFiLWJ1dHRvbi0tcmVsZXZhbnQgew0KICBiYWNrZ3JvdW5kLWNvbG9yOiAjZGY1MDUwNTU7DQp9DQoNCi5vLWgycC10YWItYnV0dG9uLS1maXJzdC1pcnJlbGV2YW50IHsNCiAgYm9yZGVyLXRvcDogMC4xcmVtIHNvbGlkIGJsYWNrOw0KICBtYXJnaW4tdG9wOiAwLjhyZW07DQp9DQoNCi5zLWJhc2UtLWRhcmsgLm8taDJwLXRhYi1idXR0b24tLWZpcnN0LWlycmVsZXZhbnQgew0KICBib3JkZXItdG9wLWNvbG9yOiB3aGl0ZTsNCn0NCg0KLnQtczEyIC5vLWgycC10YWItYnV0dG9uLS1maXJzdC1pcnJlbGV2YW50IHsNCiAgYm9yZGVyLXRvcC1jb2xvcjogYmxhY2s7DQp9DQo="},{"version":3,"sources":["H2PModal.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6GA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA","file":"H2PModal.vue","sourceRoot":"src/components/modals","sourcesContent":["<script>\r\nimport ModalCloseButton from \"@/components/modals/ModalCloseButton\";\r\n\r\nexport default {\r\n  name: \"H2PModal\",\r\n  components: {\r\n    ModalCloseButton,\r\n  },\r\n  data() {\r\n    return {\r\n      tabId: 0,\r\n      searchValue: \"\",\r\n    };\r\n  },\r\n  computed: {\r\n    activeTab: {\r\n      get() {\r\n        return GameDatabase.h2p.tabs[this.tabId];\r\n      },\r\n      set(tab) {\r\n        this.tabId = tab.id;\r\n      }\r\n    },\r\n    matchingTabs() {\r\n      return GameDatabase.h2p.search(this.searchValue).filter(searchObj => searchObj.tab.isUnlocked());\r\n    },\r\n    topThreshold() {\r\n      return Math.min(this.matchingTabs[Math.min(this.matchingTabs.length - 1, 4)].relevance + 0.01, 0.5);\r\n    }\r\n  },\r\n  created() {\r\n    const unlockedTabs = GameDatabase.h2p.tabs.filter(tab => tab.isUnlocked());\r\n    const tab = this.$viewModel.tab;\r\n    const subtab = `${tab}/${this.$viewModel.subtab}`;\r\n    const matchedEntry = unlockedTabs.find(h2pTab => h2pTab.tab === subtab || h2pTab.tab === tab);\r\n    this.activeTab = ui.view.h2pForcedTab || matchedEntry || unlockedTabs[0];\r\n    ui.view.h2pForcedTab = undefined;\r\n    // Force-show the H2P info initally regardless of tab while the tooltip for the H2P button is still active\r\n    if (Tutorial.emphasizeH2P()) this.activeTab = GameDatabase.h2p.tabs[0];\r\n  },\r\n  mounted() {\r\n    this.$refs.input.select();\r\n  },\r\n  methods: {\r\n    setActiveTab(tab) {\r\n      this.activeTab = tab;\r\n      document.getElementById(\"h2p-body\").scrollTop = 0;\r\n    },\r\n    isFirstIrrelevant(idx) {\r\n      const matches = this.matchingTabs;\r\n      const searchObjThis = matches[idx];\r\n      const searchObjOther = matches[idx - 1];\r\n\r\n      return idx > 0 &&\r\n        searchObjThis.relevance >= this.topThreshold &&\r\n        searchObjOther.relevance < this.topThreshold;\r\n    }\r\n  },\r\n};\r\n</script>\r\n\r\n<template>\r\n  <div class=\"l-h2p-modal\">\r\n    <ModalCloseButton @click=\"emitClose\" />\r\n    <div class=\"l-h2p-header\">\r\n      <div class=\"c-h2p-title\">\r\n        How To Play\r\n      </div>\r\n    </div>\r\n    <div class=\"l-h2p-container\">\r\n      <div class=\"l-h2p-search-tab\">\r\n        <input\r\n          ref=\"input\"\r\n          v-model=\"searchValue\"\r\n          placeholder=\"Type to search...\"\r\n          class=\"c-h2p-search-bar\"\r\n          @keyup.esc=\"emitClose\"\r\n        >\r\n        <div class=\"l-h2p-tab-list\">\r\n          <div\r\n            v-for=\"(searchObj, searchObjId) in matchingTabs\"\r\n            :key=\"searchObj.tab.name\"\r\n            class=\"o-h2p-tab-button\"\r\n            :class=\"{\r\n              'o-h2p-tab-button--selected': searchObj.tab === activeTab,\r\n              'o-h2p-tab-button--relevant': searchObj.relevance < topThreshold,\r\n              'o-h2p-tab-button--first-irrelevant': isFirstIrrelevant(searchObjId)\r\n            }\"\r\n            @click=\"setActiveTab(searchObj.tab)\"\r\n          >\r\n            {{ searchObj.tab.alias }}\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"l-h2p-info\">\r\n        <div class=\"c-h2p-body--title\">\r\n          {{ activeTab.name }}\r\n        </div>\r\n        <div\r\n          id=\"h2p-body\"\r\n          class=\"l-h2p-body c-h2p-body\"\r\n          v-html=\"activeTab.info()\"\r\n        />\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<style scoped>\r\n.o-h2p-tab-button--relevant {\r\n  background-color: #df505055;\r\n}\r\n\r\n.o-h2p-tab-button--first-irrelevant {\r\n  border-top: 0.1rem solid black;\r\n  margin-top: 0.8rem;\r\n}\r\n\r\n.s-base--dark .o-h2p-tab-button--first-irrelevant {\r\n  border-top-color: white;\r\n}\r\n\r\n.t-s12 .o-h2p-tab-button--first-irrelevant {\r\n  border-top-color: black;\r\n}\r\n</style>\r\n"]}]}