{"remainingRequest":"C:\\Games\\ADFasterer\\ADfasterer\\node_modules\\@vue\\vue-loader-v15\\lib\\index.js??vue-loader-options!C:\\Games\\ADFasterer\\ADfasterer\\src\\components\\ExpandingControlBox.vue?vue&type=style&index=0&id=e346a154&scoped=true&lang=css&","dependencies":[{"path":"C:\\Games\\ADFasterer\\ADfasterer\\src\\components\\ExpandingControlBox.vue","mtime":1745241596769},{"path":"C:\\Games\\ADFasterer\\ADfasterer\\node_modules\\css-loader\\dist\\cjs.js","mtime":1745242216572},{"path":"C:\\Games\\ADFasterer\\ADfasterer\\node_modules\\@vue\\vue-loader-v15\\lib\\loaders\\stylePostLoader.js","mtime":1745242222796},{"path":"C:\\Games\\ADFasterer\\ADfasterer\\node_modules\\postcss-loader\\dist\\cjs.js","mtime":1745242214022},{"path":"C:\\Games\\ADFasterer\\ADfasterer\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1745242214069},{"path":"C:\\Games\\ADFasterer\\ADfasterer\\node_modules\\@vue\\vue-loader-v15\\lib\\index.js","mtime":1745242220175}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKDQoubC1leHBhbmRpbmctY29udHJvbC1ib3ggew0KICBwb3NpdGlvbjogcmVsYXRpdmU7DQogIHotaW5kZXg6IDM7DQp9DQoNCi5sLWV4cGFuZGluZy1jb250cm9sLWJveC0tY29udHJvbHMtd2lkdGggew0KICB3aWR0aDogMTAwJTsNCn0NCg0KLmwtZXhwYW5kaW5nLWNvbnRyb2wtYm94X19jb250YWluZXIgew0KICBkaXNwbGF5OiBibG9jazsNCiAgb3ZlcmZsb3c6IGhpZGRlbjsNCiAgd2lkdGg6IDEwMCU7DQogIGhlaWdodDogYXV0bzsNCiAgcG9zaXRpb246IGFic29sdXRlOw0KICBsZWZ0OiA1MCU7DQogIHRyYW5zZm9ybTogdHJhbnNsYXRlWCgtNTAlKTsNCn0NCg0KLmwtZXhwYW5kaW5nLWNvbnRyb2wtYm94X19jb250YWluZXItLXRyYW5zaXRpb24gew0KICB0cmFuc2l0aW9uOiBtYXgtaGVpZ2h0IDAuNXM7DQp9DQoNCi5sLWV4cGFuZGluZy1jb250cm9sLWJveF9fYnV0dG9uIHsNCiAgZGlzcGxheTogZmxleDsNCiAgd2hpdGUtc3BhY2U6IG5vd3JhcDsNCiAgd2lkdGg6IDEwMCU7DQogIGhlaWdodDogMi41cmVtOw0KICBwb3NpdGlvbjogcmVsYXRpdmU7DQogIHRvcDogLTAuNXJlbTsNCiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7DQogIGFsaWduLWl0ZW1zOiBjZW50ZXI7DQogIGJvcmRlcjogbm9uZSAhaW1wb3J0YW50Ow0KICBjdXJzb3I6IHBvaW50ZXI7DQp9DQoNCi5jLWluZGljYXRvci1hcnJvdy0tZmxpcHBlZCB7DQogIHRyYW5zZm9ybTogcm90YXRlKC0xODBkZWcpOw0KfQ0KDQouYy1pbmRpY2F0b3ItYXJyb3cgew0KICBtYXJnaW4tbGVmdDogMC42cmVtOw0KICB0cmFuc2l0aW9uOiB0cmFuc2Zvcm0gMC4yNXMgZWFzZS1vdXQ7DQp9DQo="},{"version":3,"sources":["ExpandingControlBox.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyNA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"ExpandingControlBox.vue","sourceRoot":"src/components","sourcesContent":["<script>\r\n// This wraps a control box of some sort (like glyph weight adjust) in\r\n// a dropdown menu like container.\r\n// You can force it to open programmatically by sending it an openrequest event\r\n\r\nexport default {\r\n  name: \"ExpandingControlBox\",\r\n  props: {\r\n    // Class assigned to visible container; specify border and background here\r\n    containerClass: {\r\n      type: String,\r\n      required: false,\r\n      default: undefined\r\n    },\r\n    label: {\r\n      type: String,\r\n      required: false,\r\n      default: undefined\r\n    },\r\n    widthSource: {\r\n      // Content sizes the width based on what's in the dropdown.\r\n      // header sizes based on the menu header (container ref)\r\n      type: String,\r\n      required: false,\r\n      default: undefined,\r\n    },\r\n    buttonClass: {\r\n      type: String,\r\n      required: false,\r\n      default: \"l-expanding-control-box__button\",\r\n    },\r\n    autoClose: {\r\n      type: Boolean,\r\n      required: false,\r\n      default: false,\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      state: null,\r\n      openRequest: false,\r\n      closedHeight: \"1em\",\r\n      openHeight: \"1em\",\r\n      hasMouse: false,\r\n      closeTime: 0,\r\n    };\r\n  },\r\n  computed: {\r\n    states: () => ({\r\n      CLOSED: { name: \"CLOSED\", transition: false, visibility: false, height: \"closed\" },\r\n      OPEN_REQUESTED: { name: \"OPEN_REQUESTED\", transition: true, visibility: true, height: \"closed\" },\r\n      OPENING: { name: \"OPENING\", transition: true, visibility: true, height: \"open\" },\r\n      OPEN: { name: \"OPEN\", transition: false, visibility: true, height: null },\r\n      CLOSE_REQUESTED: { name: \"CLOSE_REQUESTED\", transition: false, visibility: true, height: \"open\" },\r\n      CLOSING: { name: \"CLOSING\", transition: true, visibility: true, height: \"closed\" },\r\n    }),\r\n    maxHeight() {\r\n      if (this.state.height === \"open\") return this.openHeight;\r\n      return this.state.height === \"closed\" ? this.closedHeight : null;\r\n    },\r\n    rootClassObject() {\r\n      return {\r\n        \"l-expanding-control-box--controls-width\": this.widthSource !== undefined\r\n      };\r\n    },\r\n    containerStyle() {\r\n      return {\r\n        maxHeight: this.maxHeight,\r\n        visibility: this.state.visibility,\r\n      };\r\n    },\r\n    containerClassObject() {\r\n      const classes = {\r\n        \"l-expanding-control-box__container--transition\": this.state?.transition\r\n      };\r\n      classes[this.containerClass] = true;\r\n      return classes;\r\n    },\r\n    indicatorArrowClassObject() {\r\n      return {\r\n        \"c-indicator-arrow\": true,\r\n        \"c-indicator-arrow--flipped\": this.state === this.states.OPENING || this.state === this.states.OPEN,\r\n      };\r\n    }\r\n  },\r\n  watch: {\r\n    state(newState) {\r\n      this.processRequest(newState, this.openRequest);\r\n      this.updateHeightInfo();\r\n      switch (this.state) {\r\n        case this.states.CLOSED:\r\n          break;\r\n        case this.states.OPEN_REQUESTED:\r\n          this.$nextTick(() => this.state = this.states.OPENING);\r\n          break;\r\n        case this.states.OPENING:\r\n          break;\r\n        case this.states.OPEN:\r\n          break;\r\n        case this.states.CLOSE_REQUESTED:\r\n          // Need to have DOM update with CLOSE_REQUESTED state to re-enable transitions\r\n          this.$nextTick(() => this.state = this.states.CLOSING);\r\n          break;\r\n        case this.CLOSING:\r\n          break;\r\n      }\r\n    },\r\n    openRequest(newOpen) {\r\n      this.processRequest(this.state, newOpen);\r\n    },\r\n  },\r\n  created() {\r\n    this.state = this.states.CLOSED;\r\n    this.on$(\"openrequest\", () => this.openRequest = true);\r\n  },\r\n  mounted() {\r\n    // Set the root and container elements to match the height of the button\r\n    this.updateHeightInfo();\r\n    this.$refs.root.style.height = this.closedHeight;\r\n    this.updateBaseWidth();\r\n  },\r\n  methods: {\r\n    update() {\r\n      const secSinceMouseOff = this.hasMouse ? 0 : (Date.now() - this.closeTime) / 1000;\r\n      if (this.autoClose && this.state === this.states.OPEN && secSinceMouseOff > 1) this.openRequest = false;\r\n    },\r\n    processRequest(state, request) {\r\n      if (request && (state === this.states.CLOSED || state === this.states.CLOSE_REQUESTED)) {\r\n        this.state = this.states.OPEN_REQUESTED;\r\n      }\r\n      if (!request && (state === this.states.OPEN || state === this.states.OPEN_REQUESTED)) {\r\n        this.state = this.states.CLOSE_REQUESTED;\r\n      }\r\n    },\r\n    updateBaseWidth() {\r\n      if (this.widthSource === \"content\") {\r\n        this.$refs.container.style.width = `${this.$refs.dropdown.offsetWidth}px`;\r\n        this.$refs.root.style.width = `${this.$refs.dropdown.offsetWidth}px`;\r\n      } else if (this.widthSource === \"header\") {\r\n        this.$refs.root.style.width = `${this.$refs.container.offsetWidth}px`;\r\n      }\r\n    },\r\n    updateHeightInfo() {\r\n      const headerHeight = this.$refs.expandButton.offsetHeight;\r\n      this.closedHeight = `${headerHeight}px`;\r\n      this.openHeight = `${headerHeight + this.$refs.dropdown.offsetHeight}px`;\r\n    },\r\n    transitionEnd(event) {\r\n      if (event.propertyName !== \"max-height\") return;\r\n      if (this.state === this.states.OPENING) {\r\n        this.state = this.states.OPEN;\r\n      } else if (this.state === this.states.CLOSING) {\r\n        this.state = this.states.CLOSED;\r\n      }\r\n    },\r\n    handleClick() {\r\n      this.openRequest = !this.openRequest;\r\n      this.hasMouse = this.openRequest;\r\n    },\r\n    mouseOn() {\r\n      this.hasMouse = true;\r\n    },\r\n    mouseOff() {\r\n      this.hasMouse = false;\r\n      this.closeTime = Date.now();\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<template>\r\n  <!--\r\n    The root element is an empty box of fixed size with position relative.\r\n    On top of that, we have a container element (which has both the label and the control)\r\n    The container element hides the control via clipping (and visibility). The thing you\r\n    click to show hide is at the top of the container element.\r\n  -->\r\n  <div\r\n    ref=\"root\"\r\n    class=\"l-expanding-control-box\"\r\n    :class=\"rootClassObject\"\r\n  >\r\n    <div\r\n      ref=\"container\"\r\n      class=\"l-expanding-control-box__container\"\r\n      :class=\"containerClassObject\"\r\n      :style=\"containerStyle\"\r\n      @transitionend=\"transitionEnd\"\r\n      @mouseenter=\"mouseOn\"\r\n      @mouseleave=\"mouseOff\"\r\n    >\r\n      <div\r\n        v-if=\"!$slots.header\"\r\n        ref=\"expandButton\"\r\n        :class=\"buttonClass\"\r\n        @click=\"handleClick\"\r\n      >\r\n        {{ label }}\r\n        <span :class=\"indicatorArrowClassObject\">\r\n          â–¼\r\n        </span>\r\n      </div>\r\n      <div\r\n        v-else\r\n        ref=\"expandButton\"\r\n        @click=\"handleClick\"\r\n      >\r\n        <slot name=\"header\" />\r\n      </div>\r\n      <div ref=\"dropdown\">\r\n        <slot name=\"dropdown\" />\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<style scoped>\r\n.l-expanding-control-box {\r\n  position: relative;\r\n  z-index: 3;\r\n}\r\n\r\n.l-expanding-control-box--controls-width {\r\n  width: 100%;\r\n}\r\n\r\n.l-expanding-control-box__container {\r\n  display: block;\r\n  overflow: hidden;\r\n  width: 100%;\r\n  height: auto;\r\n  position: absolute;\r\n  left: 50%;\r\n  transform: translateX(-50%);\r\n}\r\n\r\n.l-expanding-control-box__container--transition {\r\n  transition: max-height 0.5s;\r\n}\r\n\r\n.l-expanding-control-box__button {\r\n  display: flex;\r\n  white-space: nowrap;\r\n  width: 100%;\r\n  height: 2.5rem;\r\n  position: relative;\r\n  top: -0.5rem;\r\n  justify-content: center;\r\n  align-items: center;\r\n  border: none !important;\r\n  cursor: pointer;\r\n}\r\n\r\n.c-indicator-arrow--flipped {\r\n  transform: rotate(-180deg);\r\n}\r\n\r\n.c-indicator-arrow {\r\n  margin-left: 0.6rem;\r\n  transition: transform 0.25s ease-out;\r\n}\r\n</style>\r\n"]}]}