{"remainingRequest":"C:\\Games\\ADFasterer\\ADfasterer\\node_modules\\@vue\\vue-loader-v15\\lib\\index.js??vue-loader-options!C:\\Games\\ADFasterer\\ADfasterer\\src\\components\\tabs\\celestial-pelle\\CreditsContainer.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Games\\ADFasterer\\ADfasterer\\src\\components\\tabs\\celestial-pelle\\CreditsContainer.vue","mtime":1745241597140},{"path":"C:\\Games\\ADFasterer\\ADfasterer\\node_modules\\babel-loader\\lib\\index.js","mtime":1745242219290},{"path":"C:\\Games\\ADFasterer\\ADfasterer\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1745242214069},{"path":"C:\\Games\\ADFasterer\\ADfasterer\\node_modules\\@vue\\vue-loader-v15\\lib\\index.js","mtime":1745242220175}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQppbXBvcnQgQ3JlZGl0c0Rpc3BsYXkgZnJvbSAiQC9jb21wb25lbnRzL0NyZWRpdHNEaXNwbGF5IjsNCg0KZXhwb3J0IGRlZmF1bHQgew0KICBuYW1lOiAiQ3JlZGl0c0NvbnRhaW5lciIsDQogIGNvbXBvbmVudHM6IHsNCiAgICBDcmVkaXRzRGlzcGxheQ0KICB9LA0KICBkYXRhKCkgew0KICAgIHJldHVybiB7DQogICAgICByb2xsaW5nOiBmYWxzZSwNCiAgICAgIHNjcm9sbDogMCwNCiAgICAgIGF1ZGlvOiBudWxsLA0KICAgICAgaXNNdXRlZDogZmFsc2UsDQogICAgfTsNCiAgfSwNCiAgY29tcHV0ZWQ6IHsNCiAgICBjcmVkaXRTdHlsZXMoKSB7DQogICAgICByZXR1cm4gew0KICAgICAgICBib3R0b206IGAke3RoaXMuc2Nyb2xsfXB4YCwNCiAgICAgICAgZGlzcGxheTogdGhpcy5yb2xsaW5nID8gImJsb2NrIiA6ICJub25lIg0KICAgICAgfTsNCiAgICB9LA0KICAgIG11dGVTdHlsZSgpIHsNCiAgICAgIHJldHVybiB7DQogICAgICAgIHRvcDogYGNhbGMoJHt0aGlzLnNjcm9sbCArIDIwfXB4IC0gMTAwdmgpYCwNCiAgICAgICAgZGlzcGxheTogdGhpcy5yb2xsaW5nID8gImJsb2NrIiA6ICJub25lIg0KICAgICAgfTsNCiAgICB9LA0KICAgIG11dGVJY29uQ2xhc3MoKSB7DQogICAgICByZXR1cm4gdGhpcy5pc011dGVkID8gImZhLXZvbHVtZS14bWFyayIgOiAiZmEtdm9sdW1lLWhpZ2giOw0KICAgIH0sDQogICAgY2VsZXN0aWFsRGlzcGxheXMoKSB7DQogICAgICByZXR1cm4gew0KICAgICAgICB0ZXJlc2E6IFRlcmVzYS5zeW1ib2wsDQogICAgICAgIGVmZmFyaWc6IEVmZmFyaWcuc3ltYm9sLA0KICAgICAgICBlbnNsYXZlZDogRW5zbGF2ZWQuc3ltYm9sLA0KICAgICAgICB2OiBWLnN5bWJvbCwNCiAgICAgICAgcmE6IFJhLnN5bWJvbCwNCiAgICAgICAgbGFpdGVsYTogTGFpdGVsYS5zeW1ib2wsDQogICAgICAgIHBlbGxlOiBQZWxsZS5zeW1ib2wNCiAgICAgIH07DQogICAgfQ0KICB9LA0KICB3YXRjaDogew0KICAgIHJvbGxpbmcobmV3VmFsLCBvbGRWYWwpIHsNCiAgICAgIGlmIChHYW1lRW5kLmNyZWRpdHNFdmVyQ2xvc2VkKSByZXR1cm47DQogICAgICBpZiAoIW9sZFZhbCAmJiBuZXdWYWwgJiYgdGhpcy5hdWRpbyA9PT0gbnVsbCkgew0KICAgICAgICB0aGlzLmF1ZGlvID0gbmV3IEF1ZGlvKGBhdWRpby9jcmVkaXRzLm1wM2ApOw0KICAgICAgICB0aGlzLmF1ZGlvLnBsYXkoKTsNCiAgICAgIH0NCiAgICB9DQogIH0sDQogIGNyZWF0ZWQoKSB7DQogICAgLy8gVXNlIGEgaGFyZGNvZGVkIDMzbXMgaW4gb3JkZXIgdG8gbWFrZSB0aGUgZW5kIGNyZWRpdHMgc2Nyb2xsIHNtb290aGx5OyBpZiB0aGUgcGxheWVyIG5vcm1hbGx5IHBsYXlzDQogICAgLy8gYXQgYSBtdWNoIHNsb3dlciByYXRlLCB0aGlzIGNhdXNlcyB0aGUgY3JlZGl0cyB0byBoYXZlIGEganVtcHktbG9va2luZyBzY3JvbGwuIFNpbmNlIHRoaXMgaXMgYSBzZXR0aW5nDQogICAgLy8gd2hpY2ggcGVyc2lzdHMgYWNyb3NzIG5ldyBnYW1lcywgd2Ugd2FudCB0byBtYWtlIHN1cmUgd2Ugc3RpbGwgcHJlc2VydmUgdGhlIG9sZCB2YWx1ZSB0b28NCiAgICBjb25zdCBvbGRSYXRlID0gcGxheWVyLm9wdGlvbnMudXBkYXRlUmF0ZTsNCiAgICBwbGF5ZXIub3B0aW9ucy51cGRhdGVSYXRlID0gMzM7DQogICAgR2FtZU9wdGlvbnMucmVmcmVzaFVwZGF0ZVJhdGUoKTsNCiAgICBwbGF5ZXIub3B0aW9ucy51cGRhdGVSYXRlID0gb2xkUmF0ZTsNCiAgfSwNCiAgbWV0aG9kczogew0KICAgIHVwZGF0ZSgpIHsNCiAgICAgIGNvbnN0IGhlaWdodCA9ICh0aGlzLiRyZWZzLmNyZWRpdHNEaXNwbGF5Py5vZmZzZXRIZWlnaHQgfHwgMCkgKyBpbm5lckhlaWdodDsNCiAgICAgIHRoaXMucm9sbGluZyA9IEdhbWVFbmQuZW5kU3RhdGUgPiBFTkRfU1RBVEVfTUFSS0VSUy5DUkVESVRTX1NUQVJUOw0KICAgICAgdGhpcy5zY3JvbGwgPSAoDQogICAgICAgIE1hdGguY2xhbXBNYXgoR2FtZUVuZC5lbmRTdGF0ZSwgRU5EX1NUQVRFX01BUktFUlMuQ1JFRElUU19FTkQpIC0gRU5EX1NUQVRFX01BUktFUlMuQ1JFRElUU19TVEFSVA0KICAgICAgKSAvIChFTkRfU1RBVEVfTUFSS0VSUy5TT05HX0VORCAtIEVORF9TVEFURV9NQVJLRVJTLkNSRURJVFNfU1RBUlQpICogaGVpZ2h0Ow0KICAgICAgaWYgKHRoaXMuYXVkaW8pIHRoaXMuYXVkaW8udm9sdW1lID0gdGhpcy5pc011dGVkDQogICAgICAgID8gMA0KICAgICAgICA6IE1hdGguY2xhbXAoKEdhbWVFbmQuZW5kU3RhdGUgLSBFTkRfU1RBVEVfTUFSS0VSUy5DUkVESVRTX1NUQVJUKSwgMCwgMC4zKTsNCiAgICB9LA0KICB9DQp9Ow0K"},{"version":3,"sources":["CreditsContainer.vue"],"names":[],"mappings":";AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"CreditsContainer.vue","sourceRoot":"src/components/tabs/celestial-pelle","sourcesContent":["<script>\r\nimport CreditsDisplay from \"@/components/CreditsDisplay\";\r\n\r\nexport default {\r\n  name: \"CreditsContainer\",\r\n  components: {\r\n    CreditsDisplay\r\n  },\r\n  data() {\r\n    return {\r\n      rolling: false,\r\n      scroll: 0,\r\n      audio: null,\r\n      isMuted: false,\r\n    };\r\n  },\r\n  computed: {\r\n    creditStyles() {\r\n      return {\r\n        bottom: `${this.scroll}px`,\r\n        display: this.rolling ? \"block\" : \"none\"\r\n      };\r\n    },\r\n    muteStyle() {\r\n      return {\r\n        top: `calc(${this.scroll + 20}px - 100vh)`,\r\n        display: this.rolling ? \"block\" : \"none\"\r\n      };\r\n    },\r\n    muteIconClass() {\r\n      return this.isMuted ? \"fa-volume-xmark\" : \"fa-volume-high\";\r\n    },\r\n    celestialDisplays() {\r\n      return {\r\n        teresa: Teresa.symbol,\r\n        effarig: Effarig.symbol,\r\n        enslaved: Enslaved.symbol,\r\n        v: V.symbol,\r\n        ra: Ra.symbol,\r\n        laitela: Laitela.symbol,\r\n        pelle: Pelle.symbol\r\n      };\r\n    }\r\n  },\r\n  watch: {\r\n    rolling(newVal, oldVal) {\r\n      if (GameEnd.creditsEverClosed) return;\r\n      if (!oldVal && newVal && this.audio === null) {\r\n        this.audio = new Audio(`audio/credits.mp3`);\r\n        this.audio.play();\r\n      }\r\n    }\r\n  },\r\n  created() {\r\n    // Use a hardcoded 33ms in order to make the end credits scroll smoothly; if the player normally plays\r\n    // at a much slower rate, this causes the credits to have a jumpy-looking scroll. Since this is a setting\r\n    // which persists across new games, we want to make sure we still preserve the old value too\r\n    const oldRate = player.options.updateRate;\r\n    player.options.updateRate = 33;\r\n    GameOptions.refreshUpdateRate();\r\n    player.options.updateRate = oldRate;\r\n  },\r\n  methods: {\r\n    update() {\r\n      const height = (this.$refs.creditsDisplay?.offsetHeight || 0) + innerHeight;\r\n      this.rolling = GameEnd.endState > END_STATE_MARKERS.CREDITS_START;\r\n      this.scroll = (\r\n        Math.clampMax(GameEnd.endState, END_STATE_MARKERS.CREDITS_END) - END_STATE_MARKERS.CREDITS_START\r\n      ) / (END_STATE_MARKERS.SONG_END - END_STATE_MARKERS.CREDITS_START) * height;\r\n      if (this.audio) this.audio.volume = this.isMuted\r\n        ? 0\r\n        : Math.clamp((GameEnd.endState - END_STATE_MARKERS.CREDITS_START), 0, 0.3);\r\n    },\r\n  }\r\n};\r\n</script>\r\n\r\n<template>\r\n  <div\r\n    class=\"c-credits-container\"\r\n    :style=\"creditStyles\"\r\n  >\r\n    <i\r\n      class=\"c-mute-button fa-solid\"\r\n      :class=\"muteIconClass\"\r\n      :style=\"muteStyle\"\r\n      @click=\"isMuted = !isMuted\"\r\n    />\r\n    <div\r\n      v-for=\"(celSymbol, celIndex) in celestialDisplays\"\r\n      :key=\"celIndex + '-end-credit-symbol-disp'\"\r\n      class=\"c-credits-cel-symbol\"\r\n      :class=\"`c-${celIndex}-credits`\"\r\n      v-html=\"celSymbol\"\r\n    />\r\n    <span ref=\"creditsDisplay\">\r\n      <CreditsDisplay />\r\n    </span>\r\n  </div>\r\n</template>\r\n\r\n<style scoped>\r\n@keyframes a-teresa-credits {\r\n  0% { transform: rotate(61deg); }\r\n  10% { transform: rotate(322deg); }\r\n  20% { transform: rotate(235deg); }\r\n  30% { transform: rotate(222deg); }\r\n  40% { transform: rotate(105deg); }\r\n  50% { transform: rotate(33deg); }\r\n  60% { transform: rotate(103deg); }\r\n  70% { transform: rotate(158deg); }\r\n  80% { transform: rotate(41deg); }\r\n  90% { transform: rotate(73deg); }\r\n  100% { transform: rotate(61deg); }\r\n}\r\n\r\n@keyframes a-effarig-credits {\r\n  0% {\r\n    opacity: 0.8;\r\n    text-shadow: 0 0 3rem;\r\n  }\r\n\r\n  50% {\r\n    opacity: 1;\r\n    text-shadow: 0 0 4rem, 0 0 4rem;\r\n  }\r\n\r\n  100% {\r\n    opacity: 0.8;\r\n    text-shadow: 0 0 3rem;\r\n  }\r\n}\r\n\r\n@keyframes a-enslaved-credits {\r\n  0% { transform: translateX(-50%) rotate(0); }\r\n  100% { transform: translateX(-50%) rotate(360deg); }\r\n}\r\n\r\n/* We unfortunately have to do it this way, because due to how the benzene unicode symbol works, 0 and 120deg aren't\r\nperfectly the same. */\r\n@keyframes a-v-credits {\r\n  0% { transform: translateX(-50%) rotate(0) scale(0.8); }\r\n  16.67% { transform: translateX(-50%) rotate(60deg) scale(1.2); }\r\n  33.33% { transform: translateX(-50%) rotate(120deg) scale(0.8); }\r\n  50% { transform: translateX(-50%) rotate(180deg) scale(1.2); }\r\n  66.67% { transform: translateX(-50%) rotate(240deg) scale(0.8); }\r\n  83.33% { transform: translateX(-50%) rotate(300deg) scale(1.2); }\r\n  100% { transform: translateX(-50%) rotate(360deg) scale(0.8); }\r\n}\r\n\r\n@keyframes a-ra-credits {\r\n  0% {\r\n    opacity: 0.3;\r\n    transform: translateX(-50%) scale(0.2);\r\n  }\r\n\r\n  50% {\r\n    opacity: 0.7;\r\n    transform: translateX(-50%) scale(0.9);\r\n  }\r\n\r\n  100% {\r\n    opacity: 0.3;\r\n    transform: translateX(-50%) scale(0.2);\r\n  }\r\n}\r\n\r\n@keyframes a-ra-credits--dark {\r\n  0% {\r\n    opacity: 0.1;\r\n    transform: translateX(-50%) scale(0.2);\r\n  }\r\n\r\n  50% {\r\n    opacity: 0.4;\r\n    transform: translateX(-50%) scale(0.9);\r\n  }\r\n\r\n  100% {\r\n    opacity: 0.1;\r\n    transform: translateX(-50%) scale(0.2);\r\n  }\r\n}\r\n\r\n@keyframes a-laitela-credits {\r\n  0% { transform: translate(-50%, 30%); }\r\n  25% { transform: translate(-50%, -20%); }\r\n  50% { transform: translate(-50%, 30%); }\r\n  75% { transform: translate(0%, 30%); }\r\n  100% { transform: translate(-50%, 30%); }\r\n}\r\n\r\n@keyframes a-pelle-credits {\r\n  0% { transform: translateX(-50%) rotate3d(0, 1, 0, 0) scaleY(1); }\r\n  25% { transform: translateX(-50%) rotate3d(0, 1, 0, 90deg) scaleY(1.3); }\r\n  50% { transform: translateX(-50%) rotate3d(0, 1, 0, 180deg) scaleY(1); }\r\n  75% { transform: translateX(-50%) rotate3d(0, 1, 0, 270deg) scaleY(1.3); }\r\n  100% { transform: translateX(-50%) rotate3d(0, 1, 0, 360deg) scaleY(1); }\r\n}\r\n\r\n.c-mute-button {\r\n  position: fixed;\r\n  left: 2rem;\r\n  font-size: 2rem;\r\n  opacity: 0.5;\r\n  pointer-events: auto;\r\n  cursor: pointer;\r\n}\r\n\r\n.t-s12 .c-mute-button {\r\n  color: white;\r\n}\r\n\r\n.c-credits-container {\r\n  width: 100%;\r\n  height: 100%;\r\n  position: absolute;\r\n  left: 0;\r\n  z-index: 9;\r\n  transform: translateY(100%);\r\n  pointer-events: none;\r\n}\r\n\r\n.c-credits-cel-symbol {\r\n  display: flex;\r\n  width: 14rem;\r\n  height: 14rem;\r\n  position: absolute;\r\n  justify-content: center;\r\n  align-items: center;\r\n  font-size: 14rem;\r\n  text-shadow: 0 0 3rem;\r\n  transform: translateX(-50%);\r\n}\r\n\r\n.c-teresa-credits {\r\n  top: 145rem;\r\n  left: 65%;\r\n  color: var(--color-teresa--base);\r\n  animation: a-teresa-credits 10s ease-in-out infinite;\r\n}\r\n\r\n.c-effarig-credits {\r\n  top: 50rem;\r\n  left: 80%;\r\n  color: #ff4400;\r\n  animation: a-effarig-credits 4s ease-in-out infinite;\r\n}\r\n\r\n.c-enslaved-credits {\r\n  top: 240rem;\r\n  left: 80%;\r\n  color: var(--color-enslaved--base);\r\n  animation: a-enslaved-credits 10s linear infinite;\r\n}\r\n\r\n.c-v-credits {\r\n  top: 185rem;\r\n  left: 20%;\r\n  color: var(--color-v--base);\r\n  animation: a-v-credits 15s ease-in-out infinite;\r\n}\r\n\r\n.c-ra-credits {\r\n  top: 480rem;\r\n  left: 60%;\r\n  color: var(--color-ra--base);\r\n  animation: a-ra-credits 10s ease-in-out infinite;\r\n}\r\n\r\n.s-base--dark .c-ra-credits {\r\n  animation: a-ra-credits--dark 10s ease-in-out infinite;\r\n}\r\n\r\n.c-laitela-credits {\r\n  top: 105rem;\r\n  left: 13%;\r\n  color: #ffffff;\r\n  animation: a-laitela-credits 5s ease-in-out infinite;\r\n}\r\n\r\n.c-pelle-credits {\r\n  top: 8rem;\r\n  left: 30%;\r\n  color: var(--color-pelle--base);\r\n  animation: a-pelle-credits 5s linear infinite;\r\n}\r\n</style>\r\n"]}]}