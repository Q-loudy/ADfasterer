{"remainingRequest":"C:\\Games\\ADFasterer\\ADfasterer\\node_modules\\@vue\\vue-loader-v15\\lib\\index.js??vue-loader-options!C:\\Games\\ADFasterer\\ADfasterer\\src\\components\\modals\\time-study-modal-preview\\StudyStringPreview.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Games\\ADFasterer\\ADfasterer\\src\\components\\modals\\time-study-modal-preview\\StudyStringPreview.vue","mtime":1745241597012},{"path":"C:\\Games\\ADFasterer\\ADfasterer\\node_modules\\babel-loader\\lib\\index.js","mtime":1745242219290},{"path":"C:\\Games\\ADFasterer\\ADfasterer\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1745242214069},{"path":"C:\\Games\\ADFasterer\\ADfasterer\\node_modules\\@vue\\vue-loader-v15\\lib\\index.js","mtime":1745242220175}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQppbXBvcnQgUHNldWRvVGltZVN0dWR5QnV0dG9uIGZyb20gIi4vUHNldWRvVGltZVN0dWR5QnV0dG9uIjsNCmltcG9ydCBQc2V1ZG9UaW1lU3R1ZHlDb25uZWN0aW9uIGZyb20gIi4vUHNldWRvVGltZVN0dWR5Q29ubmVjdGlvbiI7DQoNCmltcG9ydCB7IFNUVURZX1RSRUVfTEFZT1VUX1RZUEUsIFRpbWVTdHVkeVRyZWVMYXlvdXQgfSBmcm9tICJAL2NvbXBvbmVudHMvdGFicy90aW1lLXN0dWRpZXMvdGltZS1zdHVkeS10cmVlLWxheW91dCI7DQoNCmV4cG9ydCBjb25zdCBGb3JjZUJvdWdodFN0YXRlID0gew0KICBub3RCb3VnaHQ6IDAsDQogIHVuc3BlY2lmaWVkOiAxLA0KICBib3VnaHQ6IDIsDQoNCiAgZ2V0U3RhdGUoZm9yY2VTdGF0ZSwgY3VycmVudFN0YXRlKSB7DQogICAgc3dpdGNoIChmb3JjZVN0YXRlKSB7DQogICAgICBjYXNlIHRoaXMubm90Qm91Z2h0Og0KICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICBjYXNlIHRoaXMudW5zcGVjaWZpZWQ6DQogICAgICAgIHJldHVybiBjdXJyZW50U3RhdGU7DQogICAgICBjYXNlIHRoaXMuYm91Z2h0Og0KICAgICAgICByZXR1cm4gdHJ1ZTsNCiAgICB9DQogICAgcmV0dXJuIGN1cnJlbnRTdGF0ZTsNCiAgfQ0KfTsNCg0KZXhwb3J0IGRlZmF1bHQgew0KICBuYW1lOiAiVGltZVN0dWRpZXNUYWIiLA0KICBjb21wb25lbnRzOiB7DQogICAgUHNldWRvVGltZVN0dWR5QnV0dG9uLA0KICAgIFBzZXVkb1RpbWVTdHVkeUNvbm5lY3Rpb24sDQogIH0sDQogIHByb3BzOiB7DQogICAgZGlzcmVnYXJkQ3VycmVudFN0dWRpZXM6IHsNCiAgICAgIHR5cGU6IEJvb2xlYW4sDQogICAgICBkZWZhdWx0OiBmYWxzZQ0KICAgIH0sDQogICAgbmV3U3R1ZGllczogew0KICAgICAgcmVxdWlyZWQ6IHRydWUsDQogICAgICB2YWxpZGF0b3I6IG5ld1N0dWRpZXMgPT4gQXJyYXkuaXNBcnJheShuZXdTdHVkaWVzKSB8fCBuZXdTdHVkaWVzID09PSB1bmRlZmluZWQsDQogICAgfSwNCiAgICBzaG93UHJldmlldzogew0KICAgICAgdHlwZTogQm9vbGVhbiwNCiAgICAgIGRlZmF1bHQ6IHRydWUNCiAgICB9DQogIH0sDQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIGxheW91dFR5cGU6IFNUVURZX1RSRUVfTEFZT1VUX1RZUEUuTk9STUFMLA0KICAgICAgdkxldmVsOiAwLA0KICAgICAgcmVuZGVyZWRTdHVkeUNvdW50OiAwLA0KICAgICAgaXNFbnNsYXZlZDogZmFsc2UsDQogICAgICBkZWxheVRpbWVyOiAwLA0KICAgIH07DQogIH0sDQogIGNvbXB1dGVkOiB7DQogICAgbGF5b3V0KCkgew0KICAgICAgcmV0dXJuIFRpbWVTdHVkeVRyZWVMYXlvdXQuY3JlYXRlKHRoaXMubGF5b3V0VHlwZSwgMC4xNSk7DQogICAgfSwNCiAgICBzdHVkaWVzKCkgew0KICAgICAgcmV0dXJuIHRoaXMubGF5b3V0LnN0dWRpZXM7DQogICAgfSwNCiAgICBjb25uZWN0aW9ucygpIHsNCiAgICAgIHJldHVybiB0aGlzLmxheW91dC5jb25uZWN0aW9uczsNCiAgICB9LA0KICAgIHRyZWVTdHlsZU9iamVjdCgpIHsNCiAgICAgIHJldHVybiB7DQogICAgICAgIHdpZHRoOiBgJHt0aGlzLmxheW91dC53aWR0aH1yZW1gLA0KICAgICAgICBoZWlnaHQ6IGAke3RoaXMubGF5b3V0LmhlaWdodH1yZW1gDQogICAgICB9Ow0KICAgIH0sDQogICAgcmVzcGVjQ2xhc3NPYmplY3QoKSB7DQogICAgICByZXR1cm4gew0KICAgICAgICAiby1wcmltYXJ5LWJ0bi0tc3VidGFiLW9wdGlvbiI6IHRydWUsDQogICAgICAgICJvLXByaW1hcnktYnRuLS1yZXNwZWMtYWN0aXZlIjogdGhpcy5yZXNwZWMNCiAgICAgIH07DQogICAgfQ0KICB9LA0KICB3YXRjaDogew0KICAgIHZMZXZlbCgpIHsNCiAgICAgIC8vIFdoZW4gdkxldmVsIGNoYW5nZXMsIHdlIHJlY29tcHV0ZSB0aGUgc3R1ZHkgdHJlZSBiZWNhdXNlIG9mIHRyaWFkIHN0dWRpZXMNCiAgICAgIHRoaXMuJHJlY29tcHV0ZSgibGF5b3V0Iik7DQogICAgfQ0KICB9LA0KICBtZXRob2RzOiB7DQogICAgdXBkYXRlKCkgew0KICAgICAgdGhpcy5sYXlvdXRUeXBlID0gU1RVRFlfVFJFRV9MQVlPVVRfVFlQRS5jdXJyZW50Ow0KICAgICAgdGhpcy52TGV2ZWwgPSBSYS5wZXRzLnYubGV2ZWw7DQogICAgICB0aGlzLmlzRW5zbGF2ZWQgPSBFbnNsYXZlZC5pc1J1bm5pbmcgfHwgRGF0ZS5ub3coKSAtIHRoaXMuZGVsYXlUaW1lciA8IDEwMDA7DQogICAgfSwNCiAgICBzdHVkeUNvbXBvbmVudChzdHVkeSkgew0KICAgICAgc3dpdGNoIChzdHVkeS50eXBlKSB7DQogICAgICAgIGNhc2UgVElNRV9TVFVEWV9UWVBFLk5PUk1BTDogcmV0dXJuIE5vcm1hbFRpbWVTdHVkeTsNCiAgICAgICAgY2FzZSBUSU1FX1NUVURZX1RZUEUuRVRFUk5JVFlfQ0hBTExFTkdFOiByZXR1cm4gRUNUaW1lU3R1ZHk7DQogICAgICAgIGNhc2UgVElNRV9TVFVEWV9UWVBFLkRJTEFUSU9OOiByZXR1cm4gRGlsYXRpb25UaW1lU3R1ZHk7DQogICAgICAgIGNhc2UgVElNRV9TVFVEWV9UWVBFLlRSSUFEOiByZXR1cm4gVHJpYWRUaW1lU3R1ZHk7DQogICAgICB9DQogICAgICB0aHJvdyAiVW5rbm93biBUaW1lIFN0dWR5IHR5cGUiOw0KICAgIH0sDQogICAgc3R1ZHlTdHJpbmcoc3R1ZHkpIHsNCiAgICAgIHN3aXRjaCAoc3R1ZHkudHlwZSkgew0KICAgICAgICBjYXNlIFRJTUVfU1RVRFlfVFlQRS5OT1JNQUw6IGNhc2UgVElNRV9TVFVEWV9UWVBFLlRSSUFEOiByZXR1cm4gYCR7c3R1ZHkuaWR9YDsNCiAgICAgICAgY2FzZSBUSU1FX1NUVURZX1RZUEUuRVRFUk5JVFlfQ0hBTExFTkdFOiByZXR1cm4gYEVDJHtzdHVkeS5pZH1gOw0KICAgICAgfQ0KICAgICAgcmV0dXJuICJEaWxhdGlvbiBTdHVkeSI7DQogICAgfSwNCiAgICBnZXRTdHVkeUZvcmNlQm91Z2h0U3RhdGUoc3R1ZHlTdHIpIHsNCiAgICAgIGlmICghdGhpcy5kaXNyZWdhcmRDdXJyZW50U3R1ZGllcykgcmV0dXJuIEZvcmNlQm91Z2h0U3RhdGUudW5zcGVjaWZpZWQ7DQogICAgICByZXR1cm4gdGhpcy5uZXdTdHVkaWVzLmluY2x1ZGVzKHN0dWR5U3RyKSA/IEZvcmNlQm91Z2h0U3RhdGUuYm91Z2h0IDogRm9yY2VCb3VnaHRTdGF0ZS5ub3RCb3VnaHQ7DQogICAgfSwNCiAgICBnZXRDb25uZWN0aW9uRm9yY2VCb3VnaHRTdGF0ZShzZXR1cCkgew0KICAgICAgaWYgKCF0aGlzLmRpc3JlZ2FyZEN1cnJlbnRTdHVkaWVzKSByZXR1cm4gRm9yY2VCb3VnaHRTdGF0ZS51bnNwZWNpZmllZDsNCiAgICAgIHJldHVybiAodGhpcy5uZXdTdHVkaWVzLmluY2x1ZGVzKHRoaXMuc3R1ZHlTdHJpbmcoc2V0dXAuY29ubmVjdGlvbi50bykpICYmDQogICAgICAgIHRoaXMubmV3U3R1ZGllcy5pbmNsdWRlcyh0aGlzLnN0dWR5U3RyaW5nKHNldHVwLmNvbm5lY3Rpb24uZnJvbSkpKQ0KICAgICAgICA/IEZvcmNlQm91Z2h0U3RhdGUuYm91Z2h0DQogICAgICAgIDogRm9yY2VCb3VnaHRTdGF0ZS5ub3RCb3VnaHQ7DQogICAgfQ0KICB9DQp9Ow0K"},{"version":3,"sources":["StudyStringPreview.vue"],"names":[],"mappings":";AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"StudyStringPreview.vue","sourceRoot":"src/components/modals/time-study-modal-preview","sourcesContent":["<script>\r\nimport PseudoTimeStudyButton from \"./PseudoTimeStudyButton\";\r\nimport PseudoTimeStudyConnection from \"./PseudoTimeStudyConnection\";\r\n\r\nimport { STUDY_TREE_LAYOUT_TYPE, TimeStudyTreeLayout } from \"@/components/tabs/time-studies/time-study-tree-layout\";\r\n\r\nexport const ForceBoughtState = {\r\n  notBought: 0,\r\n  unspecified: 1,\r\n  bought: 2,\r\n\r\n  getState(forceState, currentState) {\r\n    switch (forceState) {\r\n      case this.notBought:\r\n        return false;\r\n      case this.unspecified:\r\n        return currentState;\r\n      case this.bought:\r\n        return true;\r\n    }\r\n    return currentState;\r\n  }\r\n};\r\n\r\nexport default {\r\n  name: \"TimeStudiesTab\",\r\n  components: {\r\n    PseudoTimeStudyButton,\r\n    PseudoTimeStudyConnection,\r\n  },\r\n  props: {\r\n    disregardCurrentStudies: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    newStudies: {\r\n      required: true,\r\n      validator: newStudies => Array.isArray(newStudies) || newStudies === undefined,\r\n    },\r\n    showPreview: {\r\n      type: Boolean,\r\n      default: true\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      layoutType: STUDY_TREE_LAYOUT_TYPE.NORMAL,\r\n      vLevel: 0,\r\n      renderedStudyCount: 0,\r\n      isEnslaved: false,\r\n      delayTimer: 0,\r\n    };\r\n  },\r\n  computed: {\r\n    layout() {\r\n      return TimeStudyTreeLayout.create(this.layoutType, 0.15);\r\n    },\r\n    studies() {\r\n      return this.layout.studies;\r\n    },\r\n    connections() {\r\n      return this.layout.connections;\r\n    },\r\n    treeStyleObject() {\r\n      return {\r\n        width: `${this.layout.width}rem`,\r\n        height: `${this.layout.height}rem`\r\n      };\r\n    },\r\n    respecClassObject() {\r\n      return {\r\n        \"o-primary-btn--subtab-option\": true,\r\n        \"o-primary-btn--respec-active\": this.respec\r\n      };\r\n    }\r\n  },\r\n  watch: {\r\n    vLevel() {\r\n      // When vLevel changes, we recompute the study tree because of triad studies\r\n      this.$recompute(\"layout\");\r\n    }\r\n  },\r\n  methods: {\r\n    update() {\r\n      this.layoutType = STUDY_TREE_LAYOUT_TYPE.current;\r\n      this.vLevel = Ra.pets.v.level;\r\n      this.isEnslaved = Enslaved.isRunning || Date.now() - this.delayTimer < 1000;\r\n    },\r\n    studyComponent(study) {\r\n      switch (study.type) {\r\n        case TIME_STUDY_TYPE.NORMAL: return NormalTimeStudy;\r\n        case TIME_STUDY_TYPE.ETERNITY_CHALLENGE: return ECTimeStudy;\r\n        case TIME_STUDY_TYPE.DILATION: return DilationTimeStudy;\r\n        case TIME_STUDY_TYPE.TRIAD: return TriadTimeStudy;\r\n      }\r\n      throw \"Unknown Time Study type\";\r\n    },\r\n    studyString(study) {\r\n      switch (study.type) {\r\n        case TIME_STUDY_TYPE.NORMAL: case TIME_STUDY_TYPE.TRIAD: return `${study.id}`;\r\n        case TIME_STUDY_TYPE.ETERNITY_CHALLENGE: return `EC${study.id}`;\r\n      }\r\n      return \"Dilation Study\";\r\n    },\r\n    getStudyForceBoughtState(studyStr) {\r\n      if (!this.disregardCurrentStudies) return ForceBoughtState.unspecified;\r\n      return this.newStudies.includes(studyStr) ? ForceBoughtState.bought : ForceBoughtState.notBought;\r\n    },\r\n    getConnectionForceBoughtState(setup) {\r\n      if (!this.disregardCurrentStudies) return ForceBoughtState.unspecified;\r\n      return (this.newStudies.includes(this.studyString(setup.connection.to)) &&\r\n        this.newStudies.includes(this.studyString(setup.connection.from)))\r\n        ? ForceBoughtState.bought\r\n        : ForceBoughtState.notBought;\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<template>\r\n  <div class=\"l-study-string-preview__tree--wrapper\">\r\n    <div\r\n      v-if=\"showPreview\"\r\n      class=\"l-time-study-tree l-study-string-preview__tree\"\r\n      :style=\"treeStyleObject\"\r\n    >\r\n      <PseudoTimeStudyButton\r\n        v-for=\"setup in studies\"\r\n        :key=\"setup.study.type.toString() + setup.study.id.toString()\"\r\n        :setup=\"setup\"\r\n        :force-is-bought=\"getStudyForceBoughtState(studyString(setup.study))\"\r\n        :is-new-from-import=\"!disregardCurrentStudies && newStudies.includes(studyString(setup.study))\"\r\n      />\r\n      <svg\r\n        :style=\"treeStyleObject\"\r\n        class=\"l-time-study-connection\"\r\n      >\r\n        <PseudoTimeStudyConnection\r\n          v-for=\"(setup, index) in connections\"\r\n          :key=\"'connection' + index\"\r\n          :force-is-bought=\"getConnectionForceBoughtState(setup)\"\r\n          :setup=\"setup\"\r\n        />\r\n      </svg>\r\n    </div>\r\n    <span\r\n      v-else\r\n      class=\"c-unavailable-warning\"\r\n    >\r\n      Preview Unavailable\r\n    </span>\r\n  </div>\r\n</template>\r\n\r\n<style scoped>\r\n.l-study-string-preview__tree--wrapper {\r\n  display: flex;\r\n  overflow-y: auto;\r\n  width: 20rem;\r\n  height: 44.5rem;\r\n  position: relative;\r\n  justify-content: center;\r\n  border: var(--color-text) solid var(--var-border-width, 0.3rem);\r\n  border-radius: var(--var-border-radius, 0.3rem);\r\n  margin: auto;\r\n  padding: 0.5rem;\r\n}\r\n\r\n.c-unavailable-warning {\r\n  align-self: center;\r\n}\r\n</style>\r\n"]}]}