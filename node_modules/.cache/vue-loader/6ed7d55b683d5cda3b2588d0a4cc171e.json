{"remainingRequest":"C:\\Games\\ADFasterer\\ADfasterer\\node_modules\\@vue\\vue-loader-v15\\lib\\index.js??vue-loader-options!C:\\Games\\ADFasterer\\ADfasterer\\src\\components\\modals\\PopupModal.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Games\\ADFasterer\\ADfasterer\\src\\components\\modals\\PopupModal.vue","mtime":1745241596834},{"path":"C:\\Games\\ADFasterer\\ADfasterer\\node_modules\\babel-loader\\lib\\index.js","mtime":1745242219290},{"path":"C:\\Games\\ADFasterer\\ADfasterer\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1745242214069},{"path":"C:\\Games\\ADFasterer\\ADfasterer\\node_modules\\@vue\\vue-loader-v15\\lib\\index.js","mtime":1745242220175}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICJQb3B1cE1vZGFsIiwNCiAgcHJvcHM6IHsNCiAgICBtb2RhbDogew0KICAgICAgdHlwZTogT2JqZWN0LA0KICAgICAgcmVxdWlyZWQ6IHRydWUsDQogICAgfQ0KICB9LA0KICBkYXRhKCkgew0KICAgIHJldHVybiB7DQogICAgICBzaG93TW9kYWw6IGZhbHNlLA0KICAgICAgcG9zaXRpb25TdHlsZToge30sDQogICAgfTsNCiAgfSwNCiAgY3JlYXRlZCgpIHsNCiAgICB0aGlzLm9uJChHQU1FX0VWRU5ULkNMT1NFX01PREFMLCB0aGlzLmhpZGUpOw0KICB9LA0KICBtb3VudGVkKCkgew0KICAgIHRoaXMudXBkYXRlUG9zaXRpb25TdHlsZXMoKTsNCiAgfSwNCiAgZGVzdHJveWVkKCkgew0KICAgIGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQuYmx1cigpOw0KICB9LA0KICBtZXRob2RzOiB7DQogICAgdXBkYXRlKCkgew0KICAgICAgY29uc3Qgb2xkU2hvd01vZGFsID0gdGhpcy5zaG93TW9kYWw7DQogICAgICAvLyAyLjUgaXMgdGhlIGN1dG9mZiBwb2ludCB3aGVyZSB0aGUgc2NyZWVuIHN0YXJ0cyBmYWRpbmcgKGludGVyYWN0aXZpdHkgZGlzYWJsZWQpLiBIb3dldmVyLCB3ZSBzcGVjaWZpY2FsbHkNCiAgICAgIC8vIHdhbnQgdG8gYWxsb3cgZ2x5cGggY3VzdG9taXphdGlvbiB0byBhcHBlYXIgYXQgdGhlIHZlcnkgZW5kIChhbmQgbm90aGluZyBlbHNlKQ0KICAgICAgdGhpcy5zaG93TW9kYWwgPSBHYW1lRW5kLmVuZFN0YXRlIDw9IEVORF9TVEFURV9NQVJLRVJTLklOVEVSQUNUSVZJVFlfRElTQUJMRUQgfHwNCiAgICAgICAgdGhpcy5tb2RhbC5jb21wb25lbnQubmFtZSA9PT0gIkNvc21ldGljU2V0Q2hvaWNlTW9kYWwiOw0KICAgICAgaWYgKHRoaXMuc2hvd01vZGFsICE9PSBvbGRTaG93TW9kYWwpIHRoaXMuJG5leHRUaWNrKCgpID0+IHRoaXMudXBkYXRlUG9zaXRpb25TdHlsZXMoKSk7DQogICAgICB0aGlzLnVwZGF0ZVBvc2l0aW9uU3R5bGVzKCk7DQogICAgfSwNCiAgICB1cGRhdGVQb3NpdGlvblN0eWxlcygpIHsNCiAgICAgIGlmICghdGhpcy4kcmVmcy5tb2RhbCkgcmV0dXJuOw0KICAgICAgaWYgKCF0aGlzLnNob3dNb2RhbCB8fCB0aGlzLiR2aWV3TW9kZWwudGhlbWUgIT09ICJTMTIiKSB7DQogICAgICAgIHRoaXMucG9zaXRpb25TdHlsZSA9IHt9Ow0KICAgICAgICByZXR1cm47DQogICAgICB9DQogICAgICBjb25zdCB3ID0gdGhpcy4kcmVmcy5tb2RhbC5vZmZzZXRXaWR0aCwgaCA9IHRoaXMuJHJlZnMubW9kYWwub2Zmc2V0SGVpZ2h0Ow0KICAgICAgLy8gV2UgbmVlZCB0byBzZXQgcG9zaXRpb24gc3R5bGUgc3BlY2lmaWNhbGx5IGZvciBTMTIgYmVjYXVzZSB1c2luZyBhIHRyYW5zZm9ybSBtZXNzZXMgdGhpbmdzIHVwIGFuZA0KICAgICAgLy8gbWFrZXMgZXZlcnl0aGluZyByZWFsbHkgYmx1cnJ5DQogICAgICB0aGlzLnBvc2l0aW9uU3R5bGUgPSB7DQogICAgICAgIGxlZnQ6IGAke01hdGgucm91bmQoaW5uZXJXaWR0aCAvIDIgLSB3IC8gMil9cHhgLA0KICAgICAgICB0b3A6IGAke01hdGgucm91bmQoaW5uZXJIZWlnaHQgLyAyIC0gaCAvIDIpfXB4YCwNCiAgICAgICAgdHJhbnNmb3JtOiAibm9uZSIsDQogICAgICB9Ow0KICAgIH0sDQogICAgaGlkZSgpIHsNCiAgICAgIGlmICghdGhpcy5tb2RhbC5pc09wZW4pIHJldHVybjsNCiAgICAgIGlmICh0aGlzLm1vZGFsLmhpZGUpIHRoaXMubW9kYWwuaGlkZSgpOw0KICAgICAgZWxzZSBNb2RhbC5oaWRlKCk7DQogICAgfQ0KICB9LA0KfTsNCg=="},{"version":3,"sources":["PopupModal.vue"],"names":[],"mappings":";AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"PopupModal.vue","sourceRoot":"src/components/modals","sourcesContent":["<script>\r\nexport default {\r\n  name: \"PopupModal\",\r\n  props: {\r\n    modal: {\r\n      type: Object,\r\n      required: true,\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      showModal: false,\r\n      positionStyle: {},\r\n    };\r\n  },\r\n  created() {\r\n    this.on$(GAME_EVENT.CLOSE_MODAL, this.hide);\r\n  },\r\n  mounted() {\r\n    this.updatePositionStyles();\r\n  },\r\n  destroyed() {\r\n    document.activeElement.blur();\r\n  },\r\n  methods: {\r\n    update() {\r\n      const oldShowModal = this.showModal;\r\n      // 2.5 is the cutoff point where the screen starts fading (interactivity disabled). However, we specifically\r\n      // want to allow glyph customization to appear at the very end (and nothing else)\r\n      this.showModal = GameEnd.endState <= END_STATE_MARKERS.INTERACTIVITY_DISABLED ||\r\n        this.modal.component.name === \"CosmeticSetChoiceModal\";\r\n      if (this.showModal !== oldShowModal) this.$nextTick(() => this.updatePositionStyles());\r\n      this.updatePositionStyles();\r\n    },\r\n    updatePositionStyles() {\r\n      if (!this.$refs.modal) return;\r\n      if (!this.showModal || this.$viewModel.theme !== \"S12\") {\r\n        this.positionStyle = {};\r\n        return;\r\n      }\r\n      const w = this.$refs.modal.offsetWidth, h = this.$refs.modal.offsetHeight;\r\n      // We need to set position style specifically for S12 because using a transform messes things up and\r\n      // makes everything really blurry\r\n      this.positionStyle = {\r\n        left: `${Math.round(innerWidth / 2 - w / 2)}px`,\r\n        top: `${Math.round(innerHeight / 2 - h / 2)}px`,\r\n        transform: \"none\",\r\n      };\r\n    },\r\n    hide() {\r\n      if (!this.modal.isOpen) return;\r\n      if (this.modal.hide) this.modal.hide();\r\n      else Modal.hide();\r\n    }\r\n  },\r\n};\r\n</script>\r\n\r\n<template>\r\n  <div\r\n    v-if=\"showModal\"\r\n    ref=\"modal\"\r\n    class=\"c-modal l-modal\"\r\n    :style=\"positionStyle\"\r\n  >\r\n    <component\r\n      :is=\"modal.component\"\r\n      v-bind=\"modal.props\"\r\n      @close=\"hide\"\r\n    />\r\n  </div>\r\n</template>\r\n"]}]}