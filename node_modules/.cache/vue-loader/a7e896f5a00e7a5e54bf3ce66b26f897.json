{"remainingRequest":"C:\\Games\\ADFasterer\\ADfasterer\\node_modules\\@vue\\vue-loader-v15\\lib\\index.js??vue-loader-options!C:\\Games\\ADFasterer\\ADfasterer\\src\\components\\SpeedrunStatus.vue?vue&type=style&index=0&id=2bffb5b4&scoped=true&lang=css&","dependencies":[{"path":"C:\\Games\\ADFasterer\\ADfasterer\\src\\components\\SpeedrunStatus.vue","mtime":1745241596805},{"path":"C:\\Games\\ADFasterer\\ADfasterer\\node_modules\\css-loader\\dist\\cjs.js","mtime":1745242216572},{"path":"C:\\Games\\ADFasterer\\ADfasterer\\node_modules\\@vue\\vue-loader-v15\\lib\\loaders\\stylePostLoader.js","mtime":1745242222796},{"path":"C:\\Games\\ADFasterer\\ADfasterer\\node_modules\\postcss-loader\\dist\\cjs.js","mtime":1745242214022},{"path":"C:\\Games\\ADFasterer\\ADfasterer\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1745242214069},{"path":"C:\\Games\\ADFasterer\\ADfasterer\\node_modules\\@vue\\vue-loader-v15\\lib\\index.js","mtime":1745242220175}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoNCi5jLXNwZWVkcnVuLXN0YXR1cyB7DQogIHdoaXRlLXNwYWNlOiBub3dyYXA7DQogIHBvc2l0aW9uOiBhYnNvbHV0ZTsNCiAgcmlnaHQ6IDJyZW07DQogIGJvdHRvbTogMXJlbTsNCiAgei1pbmRleDogNTsNCiAgZm9udC1zaXplOiAxLjJyZW07DQogIGNvbG9yOiB2YXIoLS1jb2xvci10ZXh0KTsNCiAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tY29sb3ItYmFzZSk7DQogIGJvcmRlcjogdmFyKC0tdmFyLWJvcmRlci13aWR0aCwgMC4ycmVtKSBzb2xpZCB2YXIoLS1jb2xvci1hY2NlbnQpOw0KICBwYWRkaW5nOiAwLjhyZW0gMnJlbTsNCiAgcG9pbnRlci1ldmVudHM6IGF1dG87DQogIC13ZWJraXQtdXNlci1zZWxlY3Q6IG5vbmU7DQogIHVzZXItc2VsZWN0OiBub25lOw0KfQ0KDQouYy1zcGVlZHJ1bi1zdGF0dXMtLWNhbi1jaGFuZ2Ugew0KICB0ZXh0LWRlY29yYXRpb246IHVuZGVybGluZTsNCiAgY3Vyc29yOiBwb2ludGVyOw0KfQ0KDQouYy1zcGVlZHJ1bi1zdGF0dXMtLWNvbGxhcHNlIHsNCiAgcGFkZGluZzogMC4ycmVtOw0KICBjdXJzb3I6IHBvaW50ZXI7DQp9DQo="},{"version":3,"sources":["SpeedrunStatus.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0IA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"SpeedrunStatus.vue","sourceRoot":"src/components","sourcesContent":["<script>\r\nexport default {\r\n  name: \"SpeedrunStatus\",\r\n  data() {\r\n    return {\r\n      isActive: false,\r\n      isSegmented: false,\r\n      usedSTD: false,\r\n      hasStarted: false,\r\n      startDate: 0,\r\n      saveName: \"\",\r\n      timePlayedStr: \"\",\r\n      offlineProgress: false,\r\n      offlineFraction: 0,\r\n      mostRecent: {},\r\n      isCollapsed: false,\r\n      timeSince: 0,\r\n      seedText: 0,\r\n      canModifySeed: false,\r\n      isComplete: false,\r\n    };\r\n  },\r\n  computed: {\r\n    statusText() {\r\n      if (this.isComplete) return `<span style=\"color: var(--color-good)\">Finished!</span>`;\r\n      return this.hasStarted\r\n        ? `<span style=\"color: var(--color-good)\">Running!</span>`\r\n        : `<span style=\"color: var(--color-bad)\">Not Started Yet</span>`;\r\n    },\r\n    segmentText() {\r\n      return this.isSegmented ? \"Segmented Speedrun (imported save)\" : \"Single-segment Speedrun (no save import)\";\r\n    },\r\n    iapText() {\r\n      return this.usedSTD ? \"IAPs have been used\" : \"No IAPs Used\";\r\n    },\r\n    offlineText() {\r\n      const stateText = this.offlineProgress\r\n        ? `<span style=\"color: var(--color-good)\">Enabled</span>`\r\n        : `<span style=\"color: var(--color-bad)\">Disabled</span>`;\r\n      const fractionText = this.offlineFraction === 0\r\n        ? \"(No offline time used)\"\r\n        : `(${formatPercents(this.offlineFraction, 2)} time spent offline)`;\r\n      return `${stateText} ${fractionText}`;\r\n    },\r\n    collapseIcon() {\r\n      return this.isCollapsed\r\n        ? \"fas fa-expand-arrows-alt\"\r\n        : \"fas fa-compress-arrows-alt\";\r\n    }\r\n  },\r\n  methods: {\r\n    update() {\r\n      const speedrun = player.speedrun;\r\n      this.isActive = speedrun.isActive;\r\n      this.canModifySeed = Speedrun.canModifySeed();\r\n      // Short-circuit if speedrun isn't active; updating some later stuff can cause vue errors outside of speedruns\r\n      if (!this.isActive) return;\r\n      this.isSegmented = speedrun.isSegmented;\r\n      this.usedSTD = speedrun.usedSTD;\r\n      this.hasStarted = speedrun.hasStarted;\r\n      this.startDate = speedrun.startDate;\r\n      this.saveName = speedrun.name;\r\n      this.isCollapsed = speedrun.hideInfo;\r\n      this.isComplete = Achievement(188).isUnlocked;\r\n\r\n      this.timePlayedStr = Time.realTimePlayed.toStringShort();\r\n      this.offlineProgress = player.options.offlineProgress;\r\n      this.offlineFraction = speedrun.offlineTimeUsed / Math.clampMin(player.records.realTimePlayed, 1);\r\n      this.mostRecent = Speedrun.mostRecentMilestone();\r\n      this.timeSince = Time.realTimePlayed.minus(TimeSpan.fromMilliseconds(speedrun.records[this.mostRecent] ?? 0))\r\n        .toStringShort();\r\n      this.seedText = Speedrun.seedModeText();\r\n    },\r\n    milestoneName(id) {\r\n      const db = GameDatabase.speedrunMilestones;\r\n      return id === 0 ? \"None\" : db.find(m => m.id === id).name;\r\n    },\r\n    changeName() {\r\n      if (this.hasStarted) return;\r\n      Modal.changeName.show();\r\n    },\r\n    collapseText() {\r\n      return this.isCollapsed ? \"Expand\" : `Click to collapse Speedrun info`;\r\n    },\r\n    toggleCollapse() {\r\n      player.speedrun.hideInfo = !this.isCollapsed;\r\n    },\r\n    openSeedModal() {\r\n      if (!this.canModifySeed) return;\r\n      Modal.modifySeed.show();\r\n    }\r\n  },\r\n};\r\n</script>\r\n\r\n<template>\r\n  <div\r\n    v-if=\"isActive\"\r\n    class=\"c-speedrun-status\"\r\n  >\r\n    <div v-if=\"!isCollapsed\">\r\n      <b>Speedrun Status (<span v-html=\"statusText\" />)</b>\r\n      <br>\r\n      <span\r\n        :class=\"{ 'c-speedrun-status--can-change': !hasStarted }\"\r\n        @click=\"changeName\"\r\n      >\r\n        Player Name: {{ saveName }}\r\n      </span>\r\n      <br>\r\n      <i>{{ segmentText }}</i>\r\n      <br>\r\n      <i>{{ iapText }}</i>\r\n      <br>\r\n      <span\r\n        :class=\"{ 'c-speedrun-status--can-change': canModifySeed }\"\r\n        @click=\"openSeedModal()\"\r\n      >{{ seedText }}</span>\r\n      <br>\r\n      Total real playtime since start: {{ timePlayedStr }}\r\n      <br>\r\n      Offline Progress: <span v-html=\"offlineText\" />\r\n      <br>\r\n      Most Recent Milestone: {{ milestoneName(mostRecent) }} <span v-if=\"mostRecent\">({{ timeSince }} ago)</span>\r\n      <br>\r\n    </div>\r\n    <div\r\n      class=\"c-speedrun-status--collapse\"\r\n      @click=\"toggleCollapse\"\r\n    >\r\n      <i :class=\"collapseIcon\" />\r\n      {{ collapseText() }}\r\n      <i :class=\"collapseIcon\" />\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<style scoped>\r\n.c-speedrun-status {\r\n  white-space: nowrap;\r\n  position: absolute;\r\n  right: 2rem;\r\n  bottom: 1rem;\r\n  z-index: 5;\r\n  font-size: 1.2rem;\r\n  color: var(--color-text);\r\n  background-color: var(--color-base);\r\n  border: var(--var-border-width, 0.2rem) solid var(--color-accent);\r\n  padding: 0.8rem 2rem;\r\n  pointer-events: auto;\r\n  -webkit-user-select: none;\r\n  user-select: none;\r\n}\r\n\r\n.c-speedrun-status--can-change {\r\n  text-decoration: underline;\r\n  cursor: pointer;\r\n}\r\n\r\n.c-speedrun-status--collapse {\r\n  padding: 0.2rem;\r\n  cursor: pointer;\r\n}\r\n</style>\r\n"]}]}