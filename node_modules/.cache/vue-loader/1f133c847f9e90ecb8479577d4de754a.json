{"remainingRequest":"C:\\Games\\ADFasterer\\ADfasterer\\node_modules\\@vue\\vue-loader-v15\\lib\\index.js??vue-loader-options!C:\\Games\\ADFasterer\\ADfasterer\\src\\components\\modals\\DeleteAutomatorScriptModal.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Games\\ADFasterer\\ADfasterer\\src\\components\\modals\\DeleteAutomatorScriptModal.vue","mtime":1745241596814},{"path":"C:\\Games\\ADFasterer\\ADfasterer\\node_modules\\babel-loader\\lib\\index.js","mtime":1745242219290},{"path":"C:\\Games\\ADFasterer\\ADfasterer\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1745242214069},{"path":"C:\\Games\\ADFasterer\\ADfasterer\\node_modules\\@vue\\vue-loader-v15\\lib\\index.js","mtime":1745242220175}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQppbXBvcnQgTW9kYWxXcmFwcGVyQ2hvaWNlIGZyb20gIkAvY29tcG9uZW50cy9tb2RhbHMvTW9kYWxXcmFwcGVyQ2hvaWNlIjsNCg0KZXhwb3J0IGRlZmF1bHQgew0KICBuYW1lOiAiRGVsZXRlQXV0b21hdG9yU2NyaXB0TW9kYWwiLA0KICBjb21wb25lbnRzOiB7DQogICAgTW9kYWxXcmFwcGVyQ2hvaWNlDQogIH0sDQogIHByb3BzOiB7DQogICAgc2NyaXB0SUQ6IHsNCiAgICAgIHR5cGU6IFtTdHJpbmcsIE51bWJlcl0sDQogICAgICByZXF1aXJlZDogdHJ1ZQ0KICAgIH0NCiAgfSwNCiAgbWV0aG9kczogew0KICAgIGhhbmRsZVllc0NsaWNrKCkgew0KICAgICAgY29uc3Qgc2NyaXB0ID0gdGhpcy5zY3JpcHRJRDsNCiAgICAgIGNvbnN0IHJ1bm5pbmdTY3JpcHRJRCA9IEF1dG9tYXRvckJhY2tlbmQuc3RhdGUudG9wTGV2ZWxTY3JpcHQ7DQoNCiAgICAgIEF1dG9tYXRvckJhY2tlbmQuZGVsZXRlU2NyaXB0KHNjcmlwdCk7DQoNCiAgICAgIGNvbnN0IHNjcmlwdExpc3QgPSBPYmplY3QudmFsdWVzKHBsYXllci5yZWFsaXR5LmF1dG9tYXRvci5zY3JpcHRzKS5tYXAoc2MgPT4gKHsNCiAgICAgICAgaWQ6IHNjLmlkLA0KICAgICAgICBuYW1lOiBzYy5uYW1lLA0KICAgICAgfSkpOw0KICAgICAgaWYgKEF1dG9tYXRvckJhY2tlbmQuaXNPbiAmJiBydW5uaW5nU2NyaXB0SUQgIT09IHNjcmlwdCkgew0KICAgICAgICBwbGF5ZXIucmVhbGl0eS5hdXRvbWF0b3Iuc3RhdGUuZWRpdG9yU2NyaXB0ID0gcnVubmluZ1NjcmlwdElEOw0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgLy8gQXV0b21hdG9yQmFja2VuZC5kZWxldGVTY3JpcHQgd2lsbCBjcmVhdGUgYW4gZW1wdHkgc2NyaXB0IGlmIG5lY2Vzc2FyeQ0KICAgICAgICBwbGF5ZXIucmVhbGl0eS5hdXRvbWF0b3Iuc3RhdGUuZWRpdG9yU2NyaXB0ID0gc2NyaXB0TGlzdFswXS5pZDsNCiAgICAgIH0NCiAgICAgIEF1dG9tYXRvckRhdGEuY2xlYXJVbmRvRGF0YSgpOw0KICAgICAgRXZlbnRIdWIuZGlzcGF0Y2goR0FNRV9FVkVOVC5BVVRPTUFUT1JfU0FWRV9DSEFOR0VEKTsNCiAgICB9LA0KICB9LA0KfTsNCg=="},{"version":3,"sources":["DeleteAutomatorScriptModal.vue"],"names":[],"mappings":";AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"DeleteAutomatorScriptModal.vue","sourceRoot":"src/components/modals","sourcesContent":["<script>\r\nimport ModalWrapperChoice from \"@/components/modals/ModalWrapperChoice\";\r\n\r\nexport default {\r\n  name: \"DeleteAutomatorScriptModal\",\r\n  components: {\r\n    ModalWrapperChoice\r\n  },\r\n  props: {\r\n    scriptID: {\r\n      type: [String, Number],\r\n      required: true\r\n    }\r\n  },\r\n  methods: {\r\n    handleYesClick() {\r\n      const script = this.scriptID;\r\n      const runningScriptID = AutomatorBackend.state.topLevelScript;\r\n\r\n      AutomatorBackend.deleteScript(script);\r\n\r\n      const scriptList = Object.values(player.reality.automator.scripts).map(sc => ({\r\n        id: sc.id,\r\n        name: sc.name,\r\n      }));\r\n      if (AutomatorBackend.isOn && runningScriptID !== script) {\r\n        player.reality.automator.state.editorScript = runningScriptID;\r\n      } else {\r\n        // AutomatorBackend.deleteScript will create an empty script if necessary\r\n        player.reality.automator.state.editorScript = scriptList[0].id;\r\n      }\r\n      AutomatorData.clearUndoData();\r\n      EventHub.dispatch(GAME_EVENT.AUTOMATOR_SAVE_CHANGED);\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<template>\r\n  <ModalWrapperChoice @confirm=\"handleYesClick\">\r\n    <template #header>\r\n      Delete this script\r\n    </template>\r\n    <div class=\"c-modal-message__text\">\r\n      Please confirm your desire to delete this Automator script.\r\n    </div>\r\n    <template #confirm-text>\r\n      Delete\r\n    </template>\r\n  </ModalWrapperChoice>\r\n</template>\r\n"]}]}