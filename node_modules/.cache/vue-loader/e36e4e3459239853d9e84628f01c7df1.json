{"remainingRequest":"C:\\Games\\ADFasterer\\ADfasterer\\node_modules\\@vue\\vue-loader-v15\\lib\\index.js??vue-loader-options!C:\\Games\\ADFasterer\\ADfasterer\\src\\components\\ui-modes\\FailableEcText.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Games\\ADFasterer\\ADfasterer\\src\\components\\ui-modes\\FailableEcText.vue","mtime":1745241597514},{"path":"C:\\Games\\ADFasterer\\ADfasterer\\node_modules\\babel-loader\\lib\\index.js","mtime":1745242219290},{"path":"C:\\Games\\ADFasterer\\ADfasterer\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1745242214069},{"path":"C:\\Games\\ADFasterer\\ADfasterer\\node_modules\\@vue\\vue-loader-v15\\lib\\index.js","mtime":1745242220175}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICJGYWlsYWJsZUVjVGV4dCIsDQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIGN1cnJlbnRSZXNvdXJjZTogbmV3IERlY2ltYWwoMCksDQogICAgICBtYXhpbXVtUmVzb3VyY2U6IG5ldyBEZWNpbWFsKDApLA0KICAgICAgY3VycmVudEV0ZXJuaXR5Q2hhbGxlbmdlSWQ6IDANCiAgICB9Ow0KICB9LA0KICBjb21wdXRlZDogew0KICAgIHRleHRTdHlsZSgpIHsNCiAgICAgIGlmICh0aGlzLm1heGltdW1SZXNvdXJjZS5lcSgwKSkgcmV0dXJuIHt9Ow0KDQogICAgICBjb25zdCByYXRpbyA9IHRoaXMuY3VycmVudFJlc291cmNlLmRpdih0aGlzLm1heGltdW1SZXNvdXJjZSkudG9OdW1iZXIoKTsNCiAgICAgIC8vIEdvZXMgZnJvbSBncmVlbiB0byB5ZWxsb3cgdG8gcmVkLiBJZiB0aGVtZSBpcyBsaWdodCwgdXNlIGEgc2xpZ2h0bHkgbGlnaHRlciB5ZWxsb3cNCiAgICAgIC8vIGJ5IG5vdCBhbGxvd2luZyBmdWxsIHJlZCBhbmQgZ3JlZW4gYXQgdGhlIHNhbWUgdGltZS4NCiAgICAgIGNvbnN0IGRhcmtUaGVtZSA9IFRoZW1lLmN1cnJlbnQoKS5pc0RhcmsoKSAmJiBUaGVtZS5jdXJyZW50KCkubmFtZSAhPT0gIlM2IjsNCiAgICAgIC8vIFNldHRpbmcgdGhpcyBjb25zdGFudCB0byAyIHdpbGwgZ2l2ZSBncmVlbiAtIHllbGxvdyAtIHJlZCwgc2V0dGluZyBpdCB0byAxDQogICAgICAvLyB3aWxsIGdpdmUgYSBzdHJhaWdodCBsaW5lIGJldHdlZW4gZ3JlZW4gYW5kIHJlZCBpbiBjb2xvcnNwYWNlLCBpbnRlcm1lZGlhdGUgdmFsdWVzDQogICAgICAvLyB3aWxsIGdpdmUgaW50ZXJtZWRpYXRlIHJlc3VsdHMuDQogICAgICAvLyBUaGUgbGFzdCBmYWN0b3IgaW4gdGhlIGdyZWVuIHRlcm0gZGFya2VucyB0aGUgdGV4dCBvbiBsaWdodCB0aGVtZXMgdG8gcHJvdmlkZSBiZXR0ZXIgY29udHJhc3QNCiAgICAgIGNvbnN0IGMgPSBkYXJrVGhlbWUgPyAyIDogMS41Ow0KICAgICAgY29uc3QgcmdiID0gWw0KICAgICAgICBNYXRoLnJvdW5kKE1hdGgubWluKGMgKiByYXRpbywgMSkgKiAyNTUpLA0KICAgICAgICBNYXRoLnJvdW5kKE1hdGgubWluKGMgKiAoMSAtIHJhdGlvKSwgMSkgKiAyNTUgKiAoZGFya1RoZW1lID8gMSA6IDAuNykpLA0KICAgICAgICAwDQogICAgICBdOw0KDQogICAgICByZXR1cm4geyBjb2xvcjogYHJnYigke3JnYi5qb2luKCIsIil9KWAgfTsNCiAgICB9LA0KICAgIHRleHQoKSB7DQogICAgICBpZiAodGhpcy5jdXJyZW50RXRlcm5pdHlDaGFsbGVuZ2VJZCA9PT0gNCkgew0KICAgICAgICByZXR1cm4gYCR7Zm9ybWF0SW50KHRoaXMuY3VycmVudFJlc291cmNlKX0gLyAke2Zvcm1hdEludCh0aGlzLm1heGltdW1SZXNvdXJjZSl9IEluZmluaXRpZXMgdXNlZGA7DQogICAgICB9DQogICAgICAvLyBXZSdyZSBhbHdheXMgZWl0aGVyIGluIEVDNCBvciBFQzEyIHdoZW4gZGlzcGxheWluZyB0aGlzIHRleHQuDQogICAgICByZXR1cm4gYCR7VGltZVNwYW4uZnJvbVNlY29uZHModGhpcy5jdXJyZW50UmVzb3VyY2UudG9OdW1iZXIoKSkudG9TdHJpbmcoKX0gLw0KICAgICAgICAke1RpbWVTcGFuLmZyb21TZWNvbmRzKHRoaXMubWF4aW11bVJlc291cmNlLnRvTnVtYmVyKCkpLnRvU3RyaW5nKCl9IHRpbWUgc3BlbnRgOw0KICAgIH0NCiAgfSwNCiAgbWV0aG9kczogew0KICAgIHVwZGF0ZSgpIHsNCiAgICAgIGlmIChFdGVybml0eUNoYWxsZW5nZS5jdXJyZW50ICYmIFs0LCAxMl0uaW5jbHVkZXMoRXRlcm5pdHlDaGFsbGVuZ2UuY3VycmVudC5pZCkpIHsNCiAgICAgICAgdGhpcy5jdXJyZW50RXRlcm5pdHlDaGFsbGVuZ2VJZCA9IEV0ZXJuaXR5Q2hhbGxlbmdlLmN1cnJlbnQuaWQ7DQogICAgICAgIGlmICh0aGlzLmN1cnJlbnRFdGVybml0eUNoYWxsZW5nZUlkID09PSA0KSB7DQogICAgICAgICAgdGhpcy5jdXJyZW50UmVzb3VyY2UuY29weUZyb20oQ3VycmVuY3kuaW5maW5pdGllcyk7DQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgdGhpcy5jdXJyZW50UmVzb3VyY2UgPSBuZXcgRGVjaW1hbChUaW1lLnRoaXNFdGVybml0eS50b3RhbFNlY29uZHMgLyBnZXRHbG9iYWxTcGVlZEZhY3RvcigpKTsNCiAgICAgICAgfQ0KICAgICAgICB0aGlzLm1heGltdW1SZXNvdXJjZSA9IG5ldyBEZWNpbWFsKEV0ZXJuaXR5Q2hhbGxlbmdlLmN1cnJlbnQuY29uZmlnLnJlc3RyaWN0aW9uKA0KICAgICAgICAgIEV0ZXJuaXR5Q2hhbGxlbmdlLmN1cnJlbnQuY29tcGxldGlvbnMpKTsNCiAgICAgIH0NCiAgICB9LA0KICB9LA0KfTsNCg=="},{"version":3,"sources":["FailableEcText.vue"],"names":[],"mappings":";AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"FailableEcText.vue","sourceRoot":"src/components/ui-modes","sourcesContent":["<script>\r\nexport default {\r\n  name: \"FailableEcText\",\r\n  data() {\r\n    return {\r\n      currentResource: new Decimal(0),\r\n      maximumResource: new Decimal(0),\r\n      currentEternityChallengeId: 0\r\n    };\r\n  },\r\n  computed: {\r\n    textStyle() {\r\n      if (this.maximumResource.eq(0)) return {};\r\n\r\n      const ratio = this.currentResource.div(this.maximumResource).toNumber();\r\n      // Goes from green to yellow to red. If theme is light, use a slightly lighter yellow\r\n      // by not allowing full red and green at the same time.\r\n      const darkTheme = Theme.current().isDark() && Theme.current().name !== \"S6\";\r\n      // Setting this constant to 2 will give green - yellow - red, setting it to 1\r\n      // will give a straight line between green and red in colorspace, intermediate values\r\n      // will give intermediate results.\r\n      // The last factor in the green term darkens the text on light themes to provide better contrast\r\n      const c = darkTheme ? 2 : 1.5;\r\n      const rgb = [\r\n        Math.round(Math.min(c * ratio, 1) * 255),\r\n        Math.round(Math.min(c * (1 - ratio), 1) * 255 * (darkTheme ? 1 : 0.7)),\r\n        0\r\n      ];\r\n\r\n      return { color: `rgb(${rgb.join(\",\")})` };\r\n    },\r\n    text() {\r\n      if (this.currentEternityChallengeId === 4) {\r\n        return `${formatInt(this.currentResource)} / ${formatInt(this.maximumResource)} Infinities used`;\r\n      }\r\n      // We're always either in EC4 or EC12 when displaying this text.\r\n      return `${TimeSpan.fromSeconds(this.currentResource.toNumber()).toString()} /\r\n        ${TimeSpan.fromSeconds(this.maximumResource.toNumber()).toString()} time spent`;\r\n    }\r\n  },\r\n  methods: {\r\n    update() {\r\n      if (EternityChallenge.current && [4, 12].includes(EternityChallenge.current.id)) {\r\n        this.currentEternityChallengeId = EternityChallenge.current.id;\r\n        if (this.currentEternityChallengeId === 4) {\r\n          this.currentResource.copyFrom(Currency.infinities);\r\n        } else {\r\n          this.currentResource = new Decimal(Time.thisEternity.totalSeconds / getGlobalSpeedFactor());\r\n        }\r\n        this.maximumResource = new Decimal(EternityChallenge.current.config.restriction(\r\n          EternityChallenge.current.completions));\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<template>\r\n  <span> - <span :style=\"textStyle\">{{ text }}</span></span>\r\n</template>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n"]}]}