{"remainingRequest":"C:\\Games\\ADFasterer\\ADfasterer\\node_modules\\@vue\\vue-loader-v15\\lib\\index.js??vue-loader-options!C:\\Games\\ADFasterer\\ADfasterer\\src\\components\\tabs\\black-hole\\BlackHoleTab.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Games\\ADFasterer\\ADfasterer\\src\\components\\tabs\\black-hole\\BlackHoleTab.vue","mtime":1745241597094},{"path":"C:\\Games\\ADFasterer\\ADfasterer\\node_modules\\babel-loader\\lib\\index.js","mtime":1745242219290},{"path":"C:\\Games\\ADFasterer\\ADfasterer\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1745242214069},{"path":"C:\\Games\\ADFasterer\\ADfasterer\\node_modules\\@vue\\vue-loader-v15\\lib\\index.js","mtime":1745242220175}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQppbXBvcnQgeyBCbGFja0hvbGVBbmltYXRpb24gfSBmcm9tICIuL2JsYWNrLWhvbGUtYW5pbWF0aW9uIjsNCmltcG9ydCBCbGFja0hvbGVDaGFyZ2luZ1NsaWRlcnMgZnJvbSAiLi9CbGFja0hvbGVDaGFyZ2luZ1NsaWRlcnMiOw0KaW1wb3J0IEJsYWNrSG9sZVN0YXRlUm93IGZyb20gIi4vQmxhY2tIb2xlU3RhdGVSb3ciOw0KaW1wb3J0IEJsYWNrSG9sZVVubG9ja0J1dHRvbiBmcm9tICIuL0JsYWNrSG9sZVVubG9ja0J1dHRvbiI7DQppbXBvcnQgQmxhY2tIb2xlVXBncmFkZVJvdyBmcm9tICIuL0JsYWNrSG9sZVVwZ3JhZGVSb3ciOw0KDQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICJCbGFja0hvbGVUYWIiLA0KICBjb21wb25lbnRzOiB7DQogICAgQmxhY2tIb2xlVXBncmFkZVJvdywNCiAgICBCbGFja0hvbGVTdGF0ZVJvdywNCiAgICBCbGFja0hvbGVDaGFyZ2luZ1NsaWRlcnMsDQogICAgQmxhY2tIb2xlVW5sb2NrQnV0dG9uDQogIH0sDQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIGlzRG9vbWVkOiBmYWxzZSwNCiAgICAgIGlzVW5sb2NrZWQ6IGZhbHNlLA0KICAgICAgaXNQYXVzZWQ6IGZhbHNlLA0KICAgICAgaXNFbnNsYXZlZDogZmFsc2UsDQogICAgICBwYXVzZU1vZGU6IDAsDQogICAgICBkZXRhaWxlZEJIMjogIiIsDQogICAgICBpc1Blcm1hbmVudDogZmFsc2UsDQogICAgICBoYXNCSDI6IGZhbHNlLA0KICAgICAgYmxhY2tIb2xlVXB0aW1lOiBbXSwNCiAgICAgIHN0YXRlQ2hhbmdlOiAiIiwNCiAgICB9Ow0KICB9LA0KICBjb21wdXRlZDogew0KICAgIGJsYWNrSG9sZXM6ICgpID0+IEJsYWNrSG9sZXMubGlzdCwNCiAgICBwYXVzZU1vZGVTdHJpbmcoKSB7DQogICAgICBzd2l0Y2ggKHRoaXMucGF1c2VNb2RlKSB7DQogICAgICAgIGNhc2UgQkxBQ0tfSE9MRV9QQVVTRV9NT0RFLk5PX1BBVVNFOg0KICAgICAgICAgIHJldHVybiAiRG8gbm90IHBhdXNlIjsNCiAgICAgICAgY2FzZSBCTEFDS19IT0xFX1BBVVNFX01PREUuUEFVU0VfQkVGT1JFX0JIMToNCiAgICAgICAgICByZXR1cm4gdGhpcy5oYXNCSDIgPyAiQmVmb3JlIEJIMSIgOiAiQmVmb3JlIGFjdGl2YXRpb24iOw0KICAgICAgICBjYXNlIEJMQUNLX0hPTEVfUEFVU0VfTU9ERS5QQVVTRV9CRUZPUkVfQkgyOg0KICAgICAgICAgIHJldHVybiAiQmVmb3JlIEJIMiI7DQogICAgICAgIGRlZmF1bHQ6DQogICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCJVbnJlY29nbml6ZWQgQkggb2ZmbGluZSBwYXVzaW5nIG1vZGUiKTsNCiAgICAgIH0NCiAgICB9LA0KICB9LA0KICBtb3VudGVkKCkgew0KICAgIHRoaXMuc3RhcnRBbmltYXRpb24oKTsNCiAgfSwNCiAgZGVzdHJveWVkKCkgew0KICAgIGlmICh0aGlzLmFuaW1hdGlvbikgdGhpcy5hbmltYXRpb24udW5tb3VudCgpOw0KICB9LA0KICBtZXRob2RzOiB7DQogICAgdXBkYXRlKCkgew0KICAgICAgdGhpcy5pc0Rvb21lZCA9IFBlbGxlLmlzRG9vbWVkOw0KICAgICAgdGhpcy5pc1VubG9ja2VkID0gQmxhY2tIb2xlcy5hcmVVbmxvY2tlZDsNCiAgICAgIHRoaXMuaXNQYXVzZWQgPSBCbGFja0hvbGVzLmFyZVBhdXNlZDsNCiAgICAgIC8vIElmIHN0b3AgcnVubmluZyBlbnNsYXZlZCwgcmUtbW91bnQgdGhlIGJsYWNrIGhvbGUgYW5pbWF0aW9uIGFzIGl0IHJlYXBwZWFycw0KICAgICAgaWYgKHRoaXMuaXNFbnNsYXZlZCAmJiAhRW5zbGF2ZWQuaXNSdW5uaW5nKSB7DQogICAgICAgIGlmICh0aGlzLmFuaW1hdGlvbikgdGhpcy5hbmltYXRpb24udW5tb3VudCgpOw0KICAgICAgICB0aGlzLnN0YXJ0QW5pbWF0aW9uKCk7DQogICAgICB9DQogICAgICB0aGlzLmlzRW5zbGF2ZWQgPSBFbnNsYXZlZC5pc1J1bm5pbmc7DQogICAgICB0aGlzLmlzUGVybWFuZW50ID0gQmxhY2tIb2xlcy5hcmVQZXJtYW5lbnQ7DQogICAgICB0aGlzLnBhdXNlTW9kZSA9IHBsYXllci5ibGFja0hvbGVBdXRvUGF1c2VNb2RlOw0KICAgICAgdGhpcy5oYXNCSDIgPSBCbGFja0hvbGUoMikuaXNVbmxvY2tlZDsNCiAgICAgIHRoaXMuYmxhY2tIb2xlVXB0aW1lID0gW0JsYWNrSG9sZSgxKS5kdXJhdGlvbiAvIEJsYWNrSG9sZSgxKS5jeWNsZUxlbmd0aCwNCiAgICAgICAgQmxhY2tIb2xlKDIpLmR1cmF0aW9uIC8gQmxhY2tIb2xlKDIpLmN5Y2xlTGVuZ3RoXTsNCiAgICAgIHRoaXMuZGV0YWlsZWRCSDIgPSB0aGlzLmJoMlN0YXR1cygpOw0KDQogICAgICBpZiAocGxheWVyLmJsYWNrSG9sZU5lZ2F0aXZlIDwgMSkgdGhpcy5zdGF0ZUNoYW5nZSA9IHRoaXMuaXNQYXVzZWQgPyAiVW5pbnZlcnQiIDogIkludmVydCI7DQogICAgICBlbHNlIHRoaXMuc3RhdGVDaGFuZ2UgPSB0aGlzLmlzUGF1c2VkID8gIlVucGF1c2UiIDogIlBhdXNlIjsNCiAgICB9LA0KICAgIGJoMlN0YXR1cygpIHsNCiAgICAgIGNvbnN0IGJoMVJlbWFpbmluZyA9IEJsYWNrSG9sZSgxKS50aW1lV2l0aFByZXZpb3VzQWN0aXZlVG9OZXh0U3RhdGVDaGFuZ2U7DQogICAgICBjb25zdCBiaDJSZW1haW5pbmcgPSBCbGFja0hvbGUoMikudGltZVdpdGhQcmV2aW91c0FjdGl2ZVRvTmV4dFN0YXRlQ2hhbmdlOw0KDQogICAgICAvLyBCb3RoIEJIIGFjdGl2ZQ0KICAgICAgaWYgKEJsYWNrSG9sZSgxKS5pc0FjdGl2ZSAmJiBCbGFja0hvbGUoMikuaXNBY3RpdmUpIHsNCiAgICAgICAgY29uc3QgYmgyRHVyYXRpb24gPSBNYXRoLm1pbihiaDFSZW1haW5pbmcsIGJoMlJlbWFpbmluZyk7DQogICAgICAgIHJldHVybiBgQmxhY2sgSG9sZSAyIGlzIGFjdGl2ZSBmb3IgdGhlIG5leHQgJHtUaW1lU3Bhbi5mcm9tU2Vjb25kcyhiaDJEdXJhdGlvbikudG9TdHJpbmdTaG9ydCgpfSFgOw0KICAgICAgfQ0KDQogICAgICAvLyBCSDEgYWN0aXZlLCBCSDIgd2lsbCB0cmlnZ2VyIGJlZm9yZSBCSDEgcnVucyBvdXQNCiAgICAgIGlmIChCbGFja0hvbGUoMSkuaXNBY3RpdmUgJiYgKGJoMlJlbWFpbmluZyA8IGJoMVJlbWFpbmluZykpIHsNCiAgICAgICAgY29uc3QgYmgyRHVyYXRpb24gPSBNYXRoLm1pbihiaDFSZW1haW5pbmcgLSBiaDJSZW1haW5pbmcsIEJsYWNrSG9sZSgyKS5kdXJhdGlvbik7DQogICAgICAgIHJldHVybiBgQmxhY2sgSG9sZSAyIHdpbGwgYWN0aXZhdGUgYmVmb3JlIEJsYWNrIEhvbGUgMSBkZWFjdGl2YXRlcywNCiAgICAgICAgICBmb3IgJHtUaW1lU3Bhbi5mcm9tU2Vjb25kcyhiaDJEdXJhdGlvbikudG9TdHJpbmdTaG9ydCgpfWA7DQogICAgICB9DQoNCiAgICAgIC8vIEJIMiB3b24ndCBzdGFydCB5ZXQgbmV4dCBjeWNsZQ0KICAgICAgaWYgKEJsYWNrSG9sZSgxKS5pc0FjdGl2ZSB8fCAoYmgyUmVtYWluaW5nID4gQmxhY2tIb2xlKDEpLmR1cmF0aW9uKSkgew0KICAgICAgICBjb25zdCBjeWNsZUNvdW50ID0gQmxhY2tIb2xlKDEpLmlzQWN0aXZlDQogICAgICAgICAgPyBNYXRoLmZsb29yKChiaDJSZW1haW5pbmcgLSBiaDFSZW1haW5pbmcpIC8gQmxhY2tIb2xlKDEpLmR1cmF0aW9uKSArIDENCiAgICAgICAgICA6IE1hdGguZmxvb3IoYmgyUmVtYWluaW5nIC8gQmxhY2tIb2xlKDEpLmR1cmF0aW9uKTsNCiAgICAgICAgcmV0dXJuIGBCbGFjayBIb2xlIDIgd2lsbCBhY3RpdmF0ZSBhZnRlciAke3F1YW50aWZ5SW50KCJtb3JlIGFjdGl2ZSBjeWNsZSIsIGN5Y2xlQ291bnQpfSBvZiBCbGFjayBIb2xlIDEuYDsNCiAgICAgIH0NCg0KICAgICAgLy8gQkgxIGluYWN0aXZlLCBCSDIgcmVhZHkgdG8gZ28gd2hlbiBCSDEgYWN0aXZhdGVzDQogICAgICBpZiAoQmxhY2tIb2xlKDIpLmlzQ2hhcmdlZCkgew0KICAgICAgICBjb25zdCBiaDJEdXJhdGlvbiA9IE1hdGgubWluKEJsYWNrSG9sZSgxKS5kdXJhdGlvbiwgYmgyUmVtYWluaW5nKTsNCiAgICAgICAgcmV0dXJuIGBCbGFjayBIb2xlIDIgd2lsbCBhY3RpdmF0ZSB3aXRoIEJsYWNrIEhvbGUgMSwNCiAgICAgICAgICBmb3IgJHtUaW1lU3Bhbi5mcm9tU2Vjb25kcyhiaDJEdXJhdGlvbikudG9TdHJpbmdTaG9ydCgpfS5gOw0KICAgICAgfQ0KDQogICAgICAvLyBCSDEgaW5hY3RpdmUsIEJIMiBzdGFydHMgYXQgc29tZSBwb2ludCBhZnRlciBCSDEgYWN0aXZhdGVzDQogICAgICBjb25zdCBiaDJEdXJhdGlvbiA9IE1hdGgubWluKEJsYWNrSG9sZSgxKS5kdXJhdGlvbiAtIGJoMlJlbWFpbmluZywgQmxhY2tIb2xlKDIpLmR1cmF0aW9uKTsNCiAgICAgIHJldHVybiBgQmxhY2sgSG9sZSAyIHdpbGwgYWN0aXZhdGUgJHtUaW1lU3Bhbi5mcm9tU2Vjb25kcyhiaDJSZW1haW5pbmcpLnRvU3RyaW5nU2hvcnQoKX0gYWZ0ZXINCiAgICAgICAgQmxhY2sgSG9sZSAxLCBmb3IgJHtUaW1lU3Bhbi5mcm9tU2Vjb25kcyhiaDJEdXJhdGlvbikudG9TdHJpbmdTaG9ydCgpfS5gOw0KICAgIH0sDQogICAgdG9nZ2xlUGF1c2UoKSB7DQogICAgICBCbGFja0hvbGVzLnRvZ2dsZVBhdXNlKCk7DQogICAgICBpZiAoQmxhY2tIb2xlcy5hcmVQYXVzZWQpIHsNCiAgICAgICAgcGxheWVyLmNlbGVzdGlhbHMuZW5zbGF2ZWQuaXNBdXRvUmVsZWFzaW5nID0gZmFsc2U7DQogICAgICB9DQogICAgICB0aGlzLnVwZGF0ZSgpOw0KICAgIH0sDQogICAgY2hhbmdlUGF1c2VNb2RlKCkgew0KICAgICAgbGV0IHN0ZXBzOw0KICAgICAgc3dpdGNoICh0aGlzLnBhdXNlTW9kZSkgew0KICAgICAgICBjYXNlIEJMQUNLX0hPTEVfUEFVU0VfTU9ERS5OT19QQVVTRToNCiAgICAgICAgICAvLyBOb3RlOiBXZSBkb24ndCBuZWVkIHRvIGNoZWNrIGZvciBwZXJtYW5lbnQgQkgyIGJlY2F1c2UgdGhlIGJ1dHRvbiBkaXNhcHBlYXJzIGF0IHRoYXQgcG9pbnQNCiAgICAgICAgICBzdGVwcyA9IEJsYWNrSG9sZSgxKS5pc1Blcm1hbmVudCA/IDIgOiAxOw0KICAgICAgICAgIGJyZWFrOw0KICAgICAgICBjYXNlIEJMQUNLX0hPTEVfUEFVU0VfTU9ERS5QQVVTRV9CRUZPUkVfQkgxOg0KICAgICAgICAgIHN0ZXBzID0gdGhpcy5oYXNCSDIgPyAxIDogMjsNCiAgICAgICAgICBicmVhazsNCiAgICAgICAgY2FzZSBCTEFDS19IT0xFX1BBVVNFX01PREUuUEFVU0VfQkVGT1JFX0JIMjoNCiAgICAgICAgICBzdGVwcyA9IDE7DQogICAgICAgICAgYnJlYWs7DQogICAgICAgIGRlZmF1bHQ6DQogICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCJVbnJlY29nbml6ZWQgQkggb2ZmbGluZSBwYXVzaW5nIG1vZGUiKTsNCiAgICAgIH0NCiAgICAgIHBsYXllci5ibGFja0hvbGVBdXRvUGF1c2VNb2RlID0gKHRoaXMucGF1c2VNb2RlICsgc3RlcHMpICUgT2JqZWN0LnZhbHVlcyhCTEFDS19IT0xFX1BBVVNFX01PREUpLmxlbmd0aDsNCiAgICB9LA0KICAgIHN0YXJ0QW5pbWF0aW9uKCkgew0KICAgICAgc2V0VGltZW91dCgoKSA9PiB7DQogICAgICAgIGlmICh0aGlzLiRyZWZzLmNhbnZhcykgew0KICAgICAgICAgIHRoaXMuYW5pbWF0aW9uID0gbmV3IEJsYWNrSG9sZUFuaW1hdGlvbih0aGlzLiRyZWZzLmNhbnZhcy5nZXRDb250ZXh0KCIyZCIpKTsNCiAgICAgICAgfQ0KICAgICAgfSwgMSk7DQogICAgfSwNCiAgICBncmlkU3R5bGUoKSB7DQogICAgICByZXR1cm4gdGhpcy5pc1Blcm1hbmVudCA/ICJsLWJsYWNrLWhvbGUtdXBncmFkZS1wZXJtYW5lbnQiIDogImwtYmxhY2staG9sZS11cGdyYWRlLWdyaWQiOw0KICAgIH0sDQogIH0sDQp9Ow0K"},{"version":3,"sources":["BlackHoleTab.vue"],"names":[],"mappings":";AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"BlackHoleTab.vue","sourceRoot":"src/components/tabs/black-hole","sourcesContent":["<script>\r\nimport { BlackHoleAnimation } from \"./black-hole-animation\";\r\nimport BlackHoleChargingSliders from \"./BlackHoleChargingSliders\";\r\nimport BlackHoleStateRow from \"./BlackHoleStateRow\";\r\nimport BlackHoleUnlockButton from \"./BlackHoleUnlockButton\";\r\nimport BlackHoleUpgradeRow from \"./BlackHoleUpgradeRow\";\r\n\r\nexport default {\r\n  name: \"BlackHoleTab\",\r\n  components: {\r\n    BlackHoleUpgradeRow,\r\n    BlackHoleStateRow,\r\n    BlackHoleChargingSliders,\r\n    BlackHoleUnlockButton\r\n  },\r\n  data() {\r\n    return {\r\n      isDoomed: false,\r\n      isUnlocked: false,\r\n      isPaused: false,\r\n      isEnslaved: false,\r\n      pauseMode: 0,\r\n      detailedBH2: \"\",\r\n      isPermanent: false,\r\n      hasBH2: false,\r\n      blackHoleUptime: [],\r\n      stateChange: \"\",\r\n    };\r\n  },\r\n  computed: {\r\n    blackHoles: () => BlackHoles.list,\r\n    pauseModeString() {\r\n      switch (this.pauseMode) {\r\n        case BLACK_HOLE_PAUSE_MODE.NO_PAUSE:\r\n          return \"Do not pause\";\r\n        case BLACK_HOLE_PAUSE_MODE.PAUSE_BEFORE_BH1:\r\n          return this.hasBH2 ? \"Before BH1\" : \"Before activation\";\r\n        case BLACK_HOLE_PAUSE_MODE.PAUSE_BEFORE_BH2:\r\n          return \"Before BH2\";\r\n        default:\r\n          throw new Error(\"Unrecognized BH offline pausing mode\");\r\n      }\r\n    },\r\n  },\r\n  mounted() {\r\n    this.startAnimation();\r\n  },\r\n  destroyed() {\r\n    if (this.animation) this.animation.unmount();\r\n  },\r\n  methods: {\r\n    update() {\r\n      this.isDoomed = Pelle.isDoomed;\r\n      this.isUnlocked = BlackHoles.areUnlocked;\r\n      this.isPaused = BlackHoles.arePaused;\r\n      // If stop running enslaved, re-mount the black hole animation as it reappears\r\n      if (this.isEnslaved && !Enslaved.isRunning) {\r\n        if (this.animation) this.animation.unmount();\r\n        this.startAnimation();\r\n      }\r\n      this.isEnslaved = Enslaved.isRunning;\r\n      this.isPermanent = BlackHoles.arePermanent;\r\n      this.pauseMode = player.blackHoleAutoPauseMode;\r\n      this.hasBH2 = BlackHole(2).isUnlocked;\r\n      this.blackHoleUptime = [BlackHole(1).duration / BlackHole(1).cycleLength,\r\n        BlackHole(2).duration / BlackHole(2).cycleLength];\r\n      this.detailedBH2 = this.bh2Status();\r\n\r\n      if (player.blackHoleNegative < 1) this.stateChange = this.isPaused ? \"Uninvert\" : \"Invert\";\r\n      else this.stateChange = this.isPaused ? \"Unpause\" : \"Pause\";\r\n    },\r\n    bh2Status() {\r\n      const bh1Remaining = BlackHole(1).timeWithPreviousActiveToNextStateChange;\r\n      const bh2Remaining = BlackHole(2).timeWithPreviousActiveToNextStateChange;\r\n\r\n      // Both BH active\r\n      if (BlackHole(1).isActive && BlackHole(2).isActive) {\r\n        const bh2Duration = Math.min(bh1Remaining, bh2Remaining);\r\n        return `Black Hole 2 is active for the next ${TimeSpan.fromSeconds(bh2Duration).toStringShort()}!`;\r\n      }\r\n\r\n      // BH1 active, BH2 will trigger before BH1 runs out\r\n      if (BlackHole(1).isActive && (bh2Remaining < bh1Remaining)) {\r\n        const bh2Duration = Math.min(bh1Remaining - bh2Remaining, BlackHole(2).duration);\r\n        return `Black Hole 2 will activate before Black Hole 1 deactivates,\r\n          for ${TimeSpan.fromSeconds(bh2Duration).toStringShort()}`;\r\n      }\r\n\r\n      // BH2 won't start yet next cycle\r\n      if (BlackHole(1).isActive || (bh2Remaining > BlackHole(1).duration)) {\r\n        const cycleCount = BlackHole(1).isActive\r\n          ? Math.floor((bh2Remaining - bh1Remaining) / BlackHole(1).duration) + 1\r\n          : Math.floor(bh2Remaining / BlackHole(1).duration);\r\n        return `Black Hole 2 will activate after ${quantifyInt(\"more active cycle\", cycleCount)} of Black Hole 1.`;\r\n      }\r\n\r\n      // BH1 inactive, BH2 ready to go when BH1 activates\r\n      if (BlackHole(2).isCharged) {\r\n        const bh2Duration = Math.min(BlackHole(1).duration, bh2Remaining);\r\n        return `Black Hole 2 will activate with Black Hole 1,\r\n          for ${TimeSpan.fromSeconds(bh2Duration).toStringShort()}.`;\r\n      }\r\n\r\n      // BH1 inactive, BH2 starts at some point after BH1 activates\r\n      const bh2Duration = Math.min(BlackHole(1).duration - bh2Remaining, BlackHole(2).duration);\r\n      return `Black Hole 2 will activate ${TimeSpan.fromSeconds(bh2Remaining).toStringShort()} after\r\n        Black Hole 1, for ${TimeSpan.fromSeconds(bh2Duration).toStringShort()}.`;\r\n    },\r\n    togglePause() {\r\n      BlackHoles.togglePause();\r\n      if (BlackHoles.arePaused) {\r\n        player.celestials.enslaved.isAutoReleasing = false;\r\n      }\r\n      this.update();\r\n    },\r\n    changePauseMode() {\r\n      let steps;\r\n      switch (this.pauseMode) {\r\n        case BLACK_HOLE_PAUSE_MODE.NO_PAUSE:\r\n          // Note: We don't need to check for permanent BH2 because the button disappears at that point\r\n          steps = BlackHole(1).isPermanent ? 2 : 1;\r\n          break;\r\n        case BLACK_HOLE_PAUSE_MODE.PAUSE_BEFORE_BH1:\r\n          steps = this.hasBH2 ? 1 : 2;\r\n          break;\r\n        case BLACK_HOLE_PAUSE_MODE.PAUSE_BEFORE_BH2:\r\n          steps = 1;\r\n          break;\r\n        default:\r\n          throw new Error(\"Unrecognized BH offline pausing mode\");\r\n      }\r\n      player.blackHoleAutoPauseMode = (this.pauseMode + steps) % Object.values(BLACK_HOLE_PAUSE_MODE).length;\r\n    },\r\n    startAnimation() {\r\n      setTimeout(() => {\r\n        if (this.$refs.canvas) {\r\n          this.animation = new BlackHoleAnimation(this.$refs.canvas.getContext(\"2d\"));\r\n        }\r\n      }, 1);\r\n    },\r\n    gridStyle() {\r\n      return this.isPermanent ? \"l-black-hole-upgrade-permanent\" : \"l-black-hole-upgrade-grid\";\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<template>\r\n  <div class=\"l-black-hole-tab\">\r\n    <div\r\n      v-if=\"isEnslaved || isDoomed\"\r\n      class=\"c-black-hole-disabled-description\"\r\n    >\r\n      <i v-if=\"isEnslaved\">\r\n        You must... seek... other methods...\r\n        <br>\r\n      </i>\r\n      The physics of this Reality do not allow the existence of Black Holes.\r\n    </div>\r\n    <div\r\n      v-else-if=\"!isUnlocked\"\r\n      class=\"l-pre-unlock-text\"\r\n    >\r\n      <BlackHoleUnlockButton @blackholeunlock=\"startAnimation\" />\r\n      The Black Hole makes the entire game run significantly faster for a short period of time.\r\n      <br>\r\n      Starts at {{ formatX(180) }} faster for {{ formatInt(10) }} seconds, once per hour.\r\n      <br>\r\n      <br>\r\n      Unlocking the Black Hole also gives {{ formatInt(10) }} Automator Points.\r\n    </div>\r\n    <template v-else>\r\n      <div class=\"c-subtab-option-container\">\r\n        <button\r\n          class=\"o-primary-btn o-primary-btn--subtab-option\"\r\n          @click=\"togglePause\"\r\n        >\r\n          {{ stateChange }} Black Hole\r\n        </button>\r\n        <button\r\n          v-if=\"!isPermanent\"\r\n          class=\"o-primary-btn o-primary-btn--subtab-option l-auto-pause-button\"\r\n          @click=\"changePauseMode\"\r\n        >\r\n          Auto-pause: {{ pauseModeString }}\r\n        </button>\r\n      </div>\r\n      <canvas\r\n        ref=\"canvas\"\r\n        class=\"c-black-hole-canvas\"\r\n        width=\"400\"\r\n        height=\"400\"\r\n      />\r\n      <div class=\"l-black-hole-upgrade-grid\">\r\n        <BlackHoleStateRow\r\n          v-for=\"(blackHole, i) in blackHoles\"\r\n          :key=\"'state' + i\"\r\n          :black-hole=\"blackHole\"\r\n        />\r\n        <span v-if=\"hasBH2 && !isPermanent\">\r\n          <b>{{ detailedBH2 }}</b>\r\n          <br>\r\n          The timer for Black Hole 2 only advances while Black Hole 1 is active.\r\n          <br>\r\n          Upgrades affect the internal timer; the header shows real time until next activation.\r\n        </span>\r\n        <br>\r\n        <div v-if=\"!isPermanent\">\r\n          Black holes become permanently active when they are active for more than {{ formatPercents(0.9999, 2) }}\r\n          of the time.\r\n          <br>\r\n          Active time percent: {{ formatPercents(blackHoleUptime[0], 3) }}\r\n          <span v-if=\"hasBH2\">and {{ formatPercents(blackHoleUptime[1], 3) }}</span>\r\n        </div>\r\n        <BlackHoleChargingSliders class=\"l-enslaved-shop-container\" />\r\n      </div>\r\n      <div :class=\"gridStyle()\">\r\n        <BlackHoleUpgradeRow\r\n          v-for=\"(blackHole, i) in blackHoles\"\r\n          :key=\"'upgrades' + i\"\r\n          :black-hole=\"blackHole\"\r\n        />\r\n      </div>\r\n    </template>\r\n  </div>\r\n</template>\r\n\r\n<style scoped>\r\n.l-auto-pause-button {\r\n  width: 30rem;\r\n}\r\n\r\n.l-pre-unlock-text {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n}\r\n\r\n.c-black-hole-disabled-description {\r\n  font-size: 2.5rem;\r\n  line-height: 1.5;\r\n}\r\n</style>\r\n"]}]}