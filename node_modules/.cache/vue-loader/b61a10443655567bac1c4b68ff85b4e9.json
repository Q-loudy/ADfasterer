{"remainingRequest":"C:\\Games\\ADFasterer\\ADfasterer\\node_modules\\@vue\\vue-loader-v15\\lib\\index.js??vue-loader-options!C:\\Games\\ADFasterer\\ADfasterer\\src\\components\\modals\\celestial-quotes\\CelestialQuoteHistoryDisplay.vue?vue&type=style&index=0&id=af8324c8&scoped=true&lang=css&","dependencies":[{"path":"C:\\Games\\ADFasterer\\ADfasterer\\src\\components\\modals\\celestial-quotes\\CelestialQuoteHistoryDisplay.vue","mtime":1745241596877},{"path":"C:\\Games\\ADFasterer\\ADfasterer\\node_modules\\css-loader\\dist\\cjs.js","mtime":1745242216572},{"path":"C:\\Games\\ADFasterer\\ADfasterer\\node_modules\\@vue\\vue-loader-v15\\lib\\loaders\\stylePostLoader.js","mtime":1745242222796},{"path":"C:\\Games\\ADFasterer\\ADfasterer\\node_modules\\postcss-loader\\dist\\cjs.js","mtime":1745242214022},{"path":"C:\\Games\\ADFasterer\\ADfasterer\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1745242214069},{"path":"C:\\Games\\ADFasterer\\ADfasterer\\node_modules\\@vue\\vue-loader-v15\\lib\\index.js","mtime":1745242220175}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCg0KLmMtcXVvdGUtb3ZlcmxheSB7DQogIGZvbnQtc2l6ZTogMS40cmVtOw0KICBwYWRkaW5nOiAxcmVtOw0KICB0cmFuc2l0aW9uOiBhbGwgMC4ycywgdG9wIDAuM3MgZWFzZSwgdHJhbnNmb3JtIDAuM3MgZWFzZSwgei1pbmRleCAwLjNzOw0KfQ0KDQouYy1xdW90ZS1vdmVybGF5LS1iYWNrZ3JvdW5kIHsNCiAgZmlsdGVyOiBncmF5c2NhbGUoMC41KTsNCiAgY3Vyc29yOiBwb2ludGVyOw0KfQ0KDQouYy1xdW90ZS1vdmVybGF5LS1iYWNrZ3JvdW5kOmhvdmVyIHsNCiAgb3BhY2l0eTogMTsNCiAgZmlsdGVyOiBncmF5c2NhbGUoMC4zKSBkcm9wLXNoYWRvdygwIDAgMnJlbSk7DQp9DQoNCi5jLW1vZGFsLWNlbGVzdGlhbC1xdW90ZS1oaXN0b3J5X19hcnJvdywNCi5jLW1vZGFsLWNlbGVzdGlhbC1xdW90ZS1oaXN0b3J5X19jbG9zZSB7DQogIHBvc2l0aW9uOiBhYnNvbHV0ZTsNCiAgei1pbmRleDogMTsNCiAgZm9udC1zaXplOiAyLjVyZW07DQogIGN1cnNvcjogcG9pbnRlcjsNCn0NCg0KLm8tbGlnaHQtYnV0dG9uIHsNCiAgY29sb3I6IHdoaXRlOw0KfQ0KDQouby1kYXJrLWJ1dHRvbiB7DQogIGNvbG9yOiBibGFjazsNCn0NCg0KLmMtbW9kYWwtY2VsZXN0aWFsLXF1b3RlLWhpc3RvcnlfX2Fycm93LS1kaXNhYmxlZCB7DQogIG9wYWNpdHk6IDAuNDsNCiAgY3Vyc29yOiBkZWZhdWx0Ow0KfQ0KDQouYy1tb2RhbC1jZWxlc3RpYWwtcXVvdGUtaGlzdG9yeV9fYXJyb3ctZG93biB7DQogIHRvcDogY2FsYyg1MCUgKyAxNnJlbSk7DQogIGxlZnQ6IDUwJTsNCiAgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKC01MCUpOw0KfQ0KDQouYy1tb2RhbC1jZWxlc3RpYWwtcXVvdGUtaGlzdG9yeV9fYXJyb3ctdXAgew0KICBib3R0b206IGNhbGMoNTAlICsgMTZyZW0pOw0KICBsZWZ0OiA1MCU7DQogIHRyYW5zZm9ybTogdHJhbnNsYXRlWCgtNTAlKTsNCn0NCg0KLmMtbW9kYWwtY2VsZXN0aWFsLXF1b3RlLWhpc3RvcnlfX2Fycm93LWxlZnQgew0KICB0b3A6IDUwJTsNCiAgcmlnaHQ6IGNhbGMoNTAlICsgMTZyZW0pOw0KICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTUwJSk7DQp9DQoNCi5jLW1vZGFsLWNlbGVzdGlhbC1xdW90ZS1oaXN0b3J5X19hcnJvdy1yaWdodCB7DQogIHRvcDogNTAlOw0KICBsZWZ0OiBjYWxjKDUwJSArIDE2cmVtKTsNCiAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC01MCUpOw0KfQ0KDQouYy1tb2RhbC1jZWxlc3RpYWwtcXVvdGUtaGlzdG9yeV9fY2xvc2Ugew0KICBwb3NpdGlvbjogYWJzb2x1dGU7DQogIGJvdHRvbTogY2FsYyg1MCUgKyAxNnJlbSk7DQogIGxlZnQ6IGNhbGMoNTAlICsgMTZyZW0pOw0KICB6LWluZGV4OiAxOw0KICBhbmltYXRpb246IGEtZmFkZS1pbiAwLjVzOw0KfQ0KDQouYy1xdW90ZS1oaXN0b3J5LW1vZGFsX19jb250cm9scyB7DQogIGFuaW1hdGlvbjogYS1mYWRlLWluIDAuNXM7DQp9DQoNCi5jLXF1b3RlLWhpc3RvcnktbW9kYWxfX2NsaWNrYWJsZS1iYWNrZ3JvdW5kIHsNCiAgd2lkdGg6IDEwMCU7DQogIGhlaWdodDogMTAwJTsNCiAgcG9zaXRpb246IGFic29sdXRlOw0KICBpbnNldDogMDsNCiAgei1pbmRleDogLTEwOw0KICBjdXJzb3I6IHpvb20tb3V0Ow0KfQ0KDQpAa2V5ZnJhbWVzIGEtZmFkZS1pbiB7DQogIDAlIHsgb3BhY2l0eTogMDsgfQ0KICAxMDAlIHsgb3BhY2l0eTogMTsgfQ0KfQ0K"},{"version":3,"sources":["CelestialQuoteHistoryDisplay.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkMA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"CelestialQuoteHistoryDisplay.vue","sourceRoot":"src/components/modals/celestial-quotes","sourcesContent":["<script>\r\nimport CelestialQuoteLine from \"./CelestialQuoteLine\";\r\n\r\nexport default {\r\n  name: \"CelestialQuoteHistoryDisplay\",\r\n  components: {\r\n    CelestialQuoteLine\r\n  },\r\n  props: {\r\n    quotes: {\r\n      type: Array,\r\n      required: true\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      focusedQuoteId: 0,\r\n      unlockedQuotes: [],\r\n      lastProgress: Date.now()\r\n    };\r\n  },\r\n  computed: {\r\n    name() {\r\n      return this.unlockedQuotes[0].quote._celestial;\r\n    },\r\n    focusedQuote() {\r\n      return this.unlockedQuotes[this.focusedQuoteId];\r\n    },\r\n    currentQuoteLine() {\r\n      return this.focusedQuote.currentLine;\r\n    },\r\n    commonButtonClass() {\r\n      const lightBG = this.name === \"laitela\" && !Theme.current().isDark();\r\n      return {\r\n        \"fas c-modal-celestial-quote-history__arrow\": true,\r\n        \"o-dark-button\": lightBG,\r\n        \"o-light-button\": !lightBG,\r\n      };\r\n    },\r\n    upClass() {\r\n      return {\r\n        ...this.commonButtonClass,\r\n        \"c-modal-celestial-quote-history__arrow-up fa-chevron-circle-up\": true,\r\n        \"c-modal-celestial-quote-history__arrow--disabled\": this.focusedQuoteId <= 0,\r\n      };\r\n    },\r\n    downClass() {\r\n      return {\r\n        ...this.commonButtonClass,\r\n        \"c-modal-celestial-quote-history__arrow-down fa-chevron-circle-down\": true,\r\n        \"c-modal-celestial-quote-history__arrow--disabled\": this.focusedQuoteId >= this.unlockedQuotes.length - 1,\r\n      };\r\n    },\r\n    leftClass() {\r\n      return {\r\n        ...this.commonButtonClass,\r\n        \"c-modal-celestial-quote-history__arrow-left fa-chevron-circle-left\": true,\r\n        \"c-modal-celestial-quote-history__arrow--disabled\": this.currentQuoteLine <= 0,\r\n      };\r\n    },\r\n    rightClass() {\r\n      return {\r\n        ...this.commonButtonClass,\r\n        \"c-modal-celestial-quote-history__arrow-right fa-chevron-circle-right\": true,\r\n        \"c-modal-celestial-quote-history__arrow--disabled\":\r\n          this.currentQuoteLine >= this.focusedQuote.quote.totalLines - 1,\r\n      };\r\n    },\r\n  },\r\n  created() {\r\n    // Doesn't need to be reactive because any quotes which are unlocked will temp hide this modal first\r\n    this.unlockedQuotes = this.quotes.filter(x => x.isUnlocked).map(x => ({ quote: x, currentLine: 0 }));\r\n    this.$nextTick(() => {\r\n      this.on$(GAME_EVENT.ARROW_KEY_PRESSED, arrow => {\r\n        switch (arrow[0]) {\r\n          case \"up\":\r\n            this.progressUp();\r\n            break;\r\n          case \"down\":\r\n            this.progressDown();\r\n            break;\r\n          case \"left\":\r\n            this.progressLeft();\r\n            break;\r\n          case \"right\":\r\n            this.progressRight();\r\n            break;\r\n        }\r\n      });\r\n    });\r\n  },\r\n  methods: {\r\n    isFocused(quote, line) {\r\n      return this.focusedQuoteId === quote && this.currentQuoteLine === line;\r\n    },\r\n    quoteStyle(quote, line) {\r\n      const scale = quote === this.focusedQuoteId ? 1 - (line !== this.currentQuoteLine) * 0.3\r\n        : 1 - Math.abs(quote - this.focusedQuoteId) / 8;\r\n      const additionalTranslate = quote === this.focusedQuoteId && line !== this.currentQuoteLine\r\n        ? `translateX(${(line - this.currentQuoteLine) * 110 + Math.sign(line - this.currentQuoteLine) * 20}%)`\r\n        : \"\";\r\n      return {\r\n        top: `calc(50vh + ${easeOut(quote - this.focusedQuoteId) * 16}rem)`,\r\n        transform: `translate(-50%, -50%) scale(${Math.max(scale, 0)}) ${additionalTranslate}`,\r\n        opacity: Number(line === this.unlockedQuotes[quote].currentLine || quote === this.focusedQuoteId),\r\n        visibility: line === this.unlockedQuotes[quote].currentLine || quote === this.focusedQuoteId ? \"visible\"\r\n          : \"hidden\",\r\n        \"z-index\": -Math.abs(quote - this.focusedQuoteId)\r\n      };\r\n    },\r\n    progressUp() {\r\n      if (Date.now() - this.lastProgress < 150) return;\r\n      this.focusedQuoteId = Math.max(0, this.focusedQuoteId - 1);\r\n      this.lastProgress = Date.now();\r\n    },\r\n    progressDown() {\r\n      if (Date.now() - this.lastProgress < 150) return;\r\n      this.focusedQuoteId = Math.min(this.unlockedQuotes.length - 1, this.focusedQuoteId + 1);\r\n      this.lastProgress = Date.now();\r\n    },\r\n    progressLeft() {\r\n      if (Date.now() - this.lastProgress < 150) return;\r\n      this.focusedQuote.currentLine = Math.max(0, this.focusedQuote.currentLine - 1);\r\n      this.lastProgress = Date.now();\r\n    },\r\n    progressRight() {\r\n      if (Date.now() - this.lastProgress < 150) return;\r\n      this.focusedQuote.currentLine = Math.min(this.focusedQuote.quote.totalLines - 1,\r\n        this.focusedQuote.currentLine + 1);\r\n      this.lastProgress = Date.now();\r\n    },\r\n    close() {\r\n      Quote.clearHistory();\r\n    }\r\n  }\r\n};\r\n\r\nfunction easeOut(x) {\r\n  return Math.sign(x) * Math.pow(Math.abs(x), 0.4);\r\n}\r\n</script>\r\n\r\n<template>\r\n  <div class=\"l-modal-overlay c-modal-overlay\">\r\n    <i\r\n      class=\"c-modal-celestial-quote-history__close fas fa-circle-xmark o-light-button\"\r\n      @click=\"close\"\r\n    />\r\n    <div\r\n      class=\"c-quote-history-modal__clickable-background\"\r\n      @click=\"close\"\r\n    />\r\n    <div\r\n      v-for=\"(quote, quoteId) in unlockedQuotes\"\r\n      :key=\"quoteId\"\r\n      @click=\"focusedQuoteId = quoteId\"\r\n    >\r\n      <div\r\n        v-for=\"(_, lineId) in quote.quote.config.lines\"\r\n        :key=\"lineId\"\r\n        @click=\"quote.currentLine = lineId\"\r\n      >\r\n        <CelestialQuoteLine\r\n          class=\"c-quote-overlay\"\r\n          :class=\"{ 'c-quote-overlay--background': !isFocused(quoteId, lineId) }\"\r\n          :quote=\"quote.quote\"\r\n          :current-line=\"lineId\"\r\n          primary\r\n          :style=\"quoteStyle(quoteId, lineId)\"\r\n        />\r\n      </div>\r\n    </div>\r\n    <div class=\"c-quote-history-modal__controls\">\r\n      <i\r\n        :class=\"upClass\"\r\n        @click=\"progressUp\"\r\n      />\r\n      <i\r\n        :class=\"downClass\"\r\n        @click=\"progressDown\"\r\n      />\r\n      <i\r\n        :class=\"leftClass\"\r\n        @click=\"progressLeft\"\r\n      />\r\n      <i\r\n        :class=\"rightClass\"\r\n        @click=\"progressRight\"\r\n      />\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<style scoped>\r\n.c-quote-overlay {\r\n  font-size: 1.4rem;\r\n  padding: 1rem;\r\n  transition: all 0.2s, top 0.3s ease, transform 0.3s ease, z-index 0.3s;\r\n}\r\n\r\n.c-quote-overlay--background {\r\n  filter: grayscale(0.5);\r\n  cursor: pointer;\r\n}\r\n\r\n.c-quote-overlay--background:hover {\r\n  opacity: 1;\r\n  filter: grayscale(0.3) drop-shadow(0 0 2rem);\r\n}\r\n\r\n.c-modal-celestial-quote-history__arrow,\r\n.c-modal-celestial-quote-history__close {\r\n  position: absolute;\r\n  z-index: 1;\r\n  font-size: 2.5rem;\r\n  cursor: pointer;\r\n}\r\n\r\n.o-light-button {\r\n  color: white;\r\n}\r\n\r\n.o-dark-button {\r\n  color: black;\r\n}\r\n\r\n.c-modal-celestial-quote-history__arrow--disabled {\r\n  opacity: 0.4;\r\n  cursor: default;\r\n}\r\n\r\n.c-modal-celestial-quote-history__arrow-down {\r\n  top: calc(50% + 16rem);\r\n  left: 50%;\r\n  transform: translateX(-50%);\r\n}\r\n\r\n.c-modal-celestial-quote-history__arrow-up {\r\n  bottom: calc(50% + 16rem);\r\n  left: 50%;\r\n  transform: translateX(-50%);\r\n}\r\n\r\n.c-modal-celestial-quote-history__arrow-left {\r\n  top: 50%;\r\n  right: calc(50% + 16rem);\r\n  transform: translateY(-50%);\r\n}\r\n\r\n.c-modal-celestial-quote-history__arrow-right {\r\n  top: 50%;\r\n  left: calc(50% + 16rem);\r\n  transform: translateY(-50%);\r\n}\r\n\r\n.c-modal-celestial-quote-history__close {\r\n  position: absolute;\r\n  bottom: calc(50% + 16rem);\r\n  left: calc(50% + 16rem);\r\n  z-index: 1;\r\n  animation: a-fade-in 0.5s;\r\n}\r\n\r\n.c-quote-history-modal__controls {\r\n  animation: a-fade-in 0.5s;\r\n}\r\n\r\n.c-quote-history-modal__clickable-background {\r\n  width: 100%;\r\n  height: 100%;\r\n  position: absolute;\r\n  inset: 0;\r\n  z-index: -10;\r\n  cursor: zoom-out;\r\n}\r\n\r\n@keyframes a-fade-in {\r\n  0% { opacity: 0; }\r\n  100% { opacity: 1; }\r\n}\r\n</style>\r\n"]}]}