{"remainingRequest":"C:\\Games\\ADFasterer\\ADfasterer\\node_modules\\@vue\\vue-loader-v15\\lib\\index.js??vue-loader-options!C:\\Games\\ADFasterer\\ADfasterer\\src\\components\\tabs\\speedrun-milestones\\PreviousSpeedrunTab.vue?vue&type=style&index=0&id=b8870a14&scoped=true&lang=css&","dependencies":[{"path":"C:\\Games\\ADFasterer\\ADfasterer\\src\\components\\tabs\\speedrun-milestones\\PreviousSpeedrunTab.vue","mtime":1745241597441},{"path":"C:\\Games\\ADFasterer\\ADfasterer\\node_modules\\css-loader\\dist\\cjs.js","mtime":1745242216572},{"path":"C:\\Games\\ADFasterer\\ADfasterer\\node_modules\\@vue\\vue-loader-v15\\lib\\loaders\\stylePostLoader.js","mtime":1745242222796},{"path":"C:\\Games\\ADFasterer\\ADfasterer\\node_modules\\postcss-loader\\dist\\cjs.js","mtime":1745242214022},{"path":"C:\\Games\\ADFasterer\\ADfasterer\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1745242214069},{"path":"C:\\Games\\ADFasterer\\ADfasterer\\node_modules\\@vue\\vue-loader-v15\\lib\\index.js","mtime":1745242220175}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKDQouYy1ydW4tcGFnZS1uYXYgew0KICBkaXNwbGF5OiBmbGV4Ow0KICBmbGV4LWRpcmVjdGlvbjogcm93Ow0KICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47DQogIGFsaWduLWl0ZW1zOiBjZW50ZXI7DQogIGZvbnQtc2l6ZTogMS4zcmVtOw0KICB3aWR0aDogNjByZW07DQp9DQoNCi5jLXByZXZpb3VzLXJ1bnMgew0KICBkaXNwbGF5OiBmbGV4Ow0KICBmbGV4LWRpcmVjdGlvbjogY29sdW1uOw0KICBhbGlnbi1pdGVtczogY2VudGVyOw0KICBjb2xvcjogdmFyKC0tY29sb3ItdGV4dCk7DQp9DQoNCi5jLXNpbmdsZS1ydW4gew0KICBkaXNwbGF5OiBmbGV4Ow0KICBmbGV4LWRpcmVjdGlvbjogcm93Ow0KICBwYWRkaW5nOiAwLjVyZW07DQogIGJvcmRlcjogMC4xcmVtIHNvbGlkOw0KICB3aWR0aDogMTAwcmVtOw0KfQ0KDQouby1zZWxlY3RlZC1idG4gew0KICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1jb2xvci1nb29kKTsNCn0NCg0KLmMtbGVnZW5kIHsNCiAgZGlzcGxheTogZmxleDsNCiAgZmxleC1kaXJlY3Rpb246IHJvdzsNCiAganVzdGlmeS1jb250ZW50OiBzcGFjZS1hcm91bmQ7DQogIGFsaWduLWl0ZW1zOiBjZW50ZXI7DQogIHdpZHRoOiA5NXJlbTsNCn0NCg0KLmMtbGVnZW5kLWNlbGwgew0KICBkaXNwbGF5OiBmbGV4Ow0KICBmbGV4LWRpcmVjdGlvbjogcm93Ow0KICBqdXN0aWZ5LWNvbnRlbnQ6IGZsZXgtc3RhcnQ7DQogIGFsaWduLWl0ZW1zOiBjZW50ZXI7DQogIHdpZHRoOiAzMHJlbTsNCiAgZm9udC1zaXplOiAxLjVyZW07DQp9DQoNCi5vLWJveCB7DQogIGRpc3BsYXk6IGdyaWQ7DQogIHdpZHRoOiAycmVtOw0KICBoZWlnaHQ6IDJyZW07DQogIG1hcmdpbjogMC4zcmVtOw0KICBib3JkZXI6IHZhcigtLXZhci1ib3JkZXItd2lkdGgsIDAuMnJlbSkgc29saWQgdmFyKC0tY29sb3ItdGV4dCk7DQogIGJvcmRlci1yYWRpdXM6IHZhcigtLXZhci1ib3JkZXItcmFkaXVzLCAwLjVyZW0pOw0KfQ0KDQoubC1taWxlc3RvbmUtbm9uZSB7DQogIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWNvbG9yLWJhc2UpOw0KfQ0KDQoubC1taWxlc3RvbmUtc2xvdyB7DQogIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWNvbG9yLWJhZCk7DQp9DQoNCi5sLW1pbGVzdG9uZS1mYXN0IHsNCiAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tY29sb3ItZ29vZCk7DQp9DQoNCi5sLW1pbGVzdG9uZS1mYXN0ZXN0IHsNCiAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tY29sb3ItY2VsZXN0aWFscyk7DQp9DQo="},{"version":3,"sources":["PreviousSpeedrunTab.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6JA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA","file":"PreviousSpeedrunTab.vue","sourceRoot":"src/components/tabs/speedrun-milestones","sourcesContent":["<script>\r\nimport PreviousSpeedrunInfo from \"./PreviousSpeedrunInfo\";\r\nimport PrimaryButton from \"@/components/PrimaryButton\";\r\nimport SpeedrunMilestoneCompare from \"./SpeedrunMilestoneCompare\";\r\n\r\nexport default {\r\n  name: \"PreviousSpeedrunTab\",\r\n  components: {\r\n    PrimaryButton,\r\n    SpeedrunMilestoneCompare,\r\n    PreviousSpeedrunInfo,\r\n  },\r\n  data() {\r\n    return {\r\n      milestoneTimes: [],\r\n      isSpectating: false,\r\n      selectedRun: 0,\r\n      runPage: 0,\r\n    };\r\n  },\r\n  computed: {\r\n    milestones: () => GameDatabase.speedrunMilestones,\r\n    previousRuns() {\r\n      const keys = Object.keys(player.speedrun.previousRuns);\r\n      const allRuns = [];\r\n      for (const key of keys) {\r\n        const run = player.speedrun.previousRuns[key];\r\n        run.id = Number(key);\r\n        allRuns.push(run);\r\n      }\r\n      return allRuns;\r\n    },\r\n    bestPreviousTimes() {\r\n      const recLength = GameDatabase.speedrunMilestones.length + 1;\r\n      const bestTimes = Array.repeat(0, recLength);\r\n      const bestRunIndices = [...bestTimes];\r\n      for (const index of Object.keys(player.speedrun.previousRuns)) {\r\n        const run = player.speedrun.previousRuns[index].records;\r\n        for (let rec = 0; rec < recLength; rec++) {\r\n          if (run[rec] !== 0 && (run[rec] < bestTimes[rec] || bestTimes[rec] === 0)) {\r\n            bestTimes[rec] = run[rec];\r\n            bestRunIndices[rec] = index;\r\n          }\r\n        }\r\n      }\r\n\r\n      const milestoneList = Array.repeat({}, recLength);\r\n      for (let rec = 0; rec < recLength; rec++) {\r\n        milestoneList[rec] = { time: bestTimes[rec], index: bestRunIndices[rec] };\r\n      }\r\n      return milestoneList;\r\n    },\r\n    numRuns() {\r\n      return Object.keys(this.previousRuns).length;\r\n    },\r\n    highestIndex() {\r\n      return Math.max(this.previousRuns.map(k => Number(k.id)).max(), player.records.fullGameCompletions);\r\n    },\r\n    spectateText() {\r\n      return this.isSpectating\r\n        ? \"Numbers here are unaffected by END so that you can see your final records.\"\r\n        : null;\r\n    }\r\n  },\r\n  methods: {\r\n    update() {\r\n      this.milestoneTimes = [...player.speedrun.records];\r\n      this.isSpectating = GameEnd.endState > END_STATE_MARKERS.SPECTATE_GAME;\r\n    },\r\n    selectRun(index) {\r\n      this.selectedRun = index;\r\n    },\r\n    findRun(index) {\r\n      return this.previousRuns.find(r => r?.id === 10 * this.runPage + index);\r\n    },\r\n    changePage(dir) {\r\n      this.runPage = Math.clamp(this.runPage + dir, 0, Math.floor(this.highestIndex / 10));\r\n    }\r\n  },\r\n};\r\n</script>\r\n\r\n<template>\r\n  <div class=\"c-previous-runs\">\r\n    <b>You have completed {{ quantify(\"speedrun\", numRuns, 0, 0, x => x) }} prior to this playthrough.</b>\r\n    <b>Statistics of previous runs are below, mouseover icons for more details.</b>\r\n    <b>Click the magnifying glass to compare the milestones on a particular run to this run.</b>\r\n    <b>{{ spectateText }}</b>\r\n    <br>\r\n    <div\r\n      v-if=\"highestIndex > 10\"\r\n      class=\"c-run-page-nav\"\r\n    >\r\n      <PrimaryButton\r\n        class=\"o-primary-btn--subtab-option fas fa-arrow-left\"\r\n        :class=\"{ 'o-primary-btn--disabled' : runPage === 0 }\"\r\n        @click=\"changePage(-1)\"\r\n      />\r\n      Showing runs {{ 10 * runPage + 1 }} to {{ 10 * (runPage + 1) }} ({{ highestIndex }} total runs)\r\n      <PrimaryButton\r\n        class=\"o-primary-btn--subtab-option fas fa-arrow-right\"\r\n        :class=\"{ 'o-primary-btn--disabled' : runPage + 1 > highestIndex / 10 }\"\r\n        @click=\"changePage(1)\"\r\n      />\r\n    </div>\r\n    <div class=\"c-previous-runs\">\r\n      <span\r\n        v-for=\"entry in 10\"\r\n        :key=\"entry\"\r\n      >\r\n        <span\r\n          v-if=\"10 * runPage + entry <= highestIndex\"\r\n          class=\"c-single-run\"\r\n        >\r\n          <PrimaryButton\r\n            v-if=\"findRun(entry)\"\r\n            class=\"o-primary-btn--subtab-option fas fa-magnifying-glass\"\r\n            :class=\"{ 'o-selected-btn' : selectedRun === 10 * runPage + entry }\"\r\n            @click=\"selectRun(10 * runPage + entry)\"\r\n          />\r\n          <PreviousSpeedrunInfo\r\n            :prev-run-info=\"findRun(entry)\"\r\n            :index=\"10 * runPage + entry\"\r\n          />\r\n        </span>\r\n      </span>\r\n    </div>\r\n    <br>\r\n    <div class=\"c-legend\">\r\n      <div class=\"c-legend-cell\">\r\n        <span class=\"o-box l-milestone-none\" /> Not reached this run\r\n      </div>\r\n      <div class=\"c-legend-cell\">\r\n        <span class=\"o-box l-milestone-slow\" /> Slower than comparison\r\n      </div>\r\n      <div class=\"c-legend-cell\">\r\n        <span class=\"o-box l-milestone-fast\" /> Faster than comparison\r\n      </div>\r\n      <div class=\"c-legend-cell\">\r\n        <span class=\"o-box l-milestone-fastest\" /> Faster than best\r\n      </div>\r\n    </div>\r\n    <div class=\"l-speedrun-milestone-tab\">\r\n      <SpeedrunMilestoneCompare\r\n        v-for=\"milestone in milestones\"\r\n        :key=\"milestone.id\"\r\n        :milestone=\"milestone\"\r\n        :curr-time=\"milestoneTimes[milestone.id]\"\r\n        :ref-time=\"selectedRun ? previousRuns.find(run => run.id === selectedRun).records[milestone.id] : null\"\r\n        :best-time=\"bestPreviousTimes[milestone.id].time\"\r\n        :run-indices=\"[selectedRun, bestPreviousTimes[milestone.id].index]\"\r\n      />\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<style scoped>\r\n.c-run-page-nav {\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  font-size: 1.3rem;\r\n  width: 60rem;\r\n}\r\n\r\n.c-previous-runs {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  color: var(--color-text);\r\n}\r\n\r\n.c-single-run {\r\n  display: flex;\r\n  flex-direction: row;\r\n  padding: 0.5rem;\r\n  border: 0.1rem solid;\r\n  width: 100rem;\r\n}\r\n\r\n.o-selected-btn {\r\n  background-color: var(--color-good);\r\n}\r\n\r\n.c-legend {\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: space-around;\r\n  align-items: center;\r\n  width: 95rem;\r\n}\r\n\r\n.c-legend-cell {\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: flex-start;\r\n  align-items: center;\r\n  width: 30rem;\r\n  font-size: 1.5rem;\r\n}\r\n\r\n.o-box {\r\n  display: grid;\r\n  width: 2rem;\r\n  height: 2rem;\r\n  margin: 0.3rem;\r\n  border: var(--var-border-width, 0.2rem) solid var(--color-text);\r\n  border-radius: var(--var-border-radius, 0.5rem);\r\n}\r\n\r\n.l-milestone-none {\r\n  background-color: var(--color-base);\r\n}\r\n\r\n.l-milestone-slow {\r\n  background-color: var(--color-bad);\r\n}\r\n\r\n.l-milestone-fast {\r\n  background-color: var(--color-good);\r\n}\r\n\r\n.l-milestone-fastest {\r\n  background-color: var(--color-celestials);\r\n}\r\n</style>\r\n"]}]}