{"remainingRequest":"C:\\Games\\ADFasterer\\ADfasterer\\node_modules\\@vue\\vue-loader-v15\\lib\\index.js??vue-loader-options!C:\\Games\\ADFasterer\\ADfasterer\\src\\components\\tabs\\celestial-navigation\\NodeOverlay.vue?vue&type=style&index=0&id=d641e40e&scoped=true&lang=css&","dependencies":[{"path":"C:\\Games\\ADFasterer\\ADfasterer\\src\\components\\tabs\\celestial-navigation\\NodeOverlay.vue","mtime":1745241597136},{"path":"C:\\Games\\ADFasterer\\ADfasterer\\node_modules\\css-loader\\dist\\cjs.js","mtime":1745242216572},{"path":"C:\\Games\\ADFasterer\\ADfasterer\\node_modules\\@vue\\vue-loader-v15\\lib\\loaders\\stylePostLoader.js","mtime":1745242222796},{"path":"C:\\Games\\ADFasterer\\ADfasterer\\node_modules\\postcss-loader\\dist\\cjs.js","mtime":1745242214022},{"path":"C:\\Games\\ADFasterer\\ADfasterer\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1745242214069},{"path":"C:\\Games\\ADFasterer\\ADfasterer\\node_modules\\@vue\\vue-loader-v15\\lib\\index.js","mtime":1745242220175}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoNCi5vLWNlbGVzdGlhbC1uYXZfX2NsaWNrYWJsZSB7DQogIGN1cnNvcjogcG9pbnRlcjsNCn0NCg=="},{"version":3,"sources":["NodeOverlay.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyJA;AACA;AACA","file":"NodeOverlay.vue","sourceRoot":"src/components/tabs/celestial-navigation","sourcesContent":["<script>\r\nimport { svgRingPath } from \"./svg-ring-path\";\r\n\r\nexport default {\r\n  name: \"NodeOverlay\",\r\n  props: {\r\n    complete: {\r\n      type: Number,\r\n      required: true\r\n    },\r\n    position: {\r\n      type: Object,\r\n      required: true\r\n    },\r\n    legend: {\r\n      type: Object,\r\n      required: false,\r\n      default: undefined\r\n    },\r\n    ring: {\r\n      type: Object,\r\n      required: true\r\n    },\r\n    fill: {\r\n      type: String,\r\n      required: false,\r\n      default: undefined\r\n    },\r\n    alwaysShowLegend: {\r\n      type: Boolean,\r\n      required: false,\r\n      default: false\r\n    },\r\n    forceLegend: {\r\n      type: Function,\r\n      required: false,\r\n      default: undefined\r\n    },\r\n    clickAction: {\r\n      type: Function,\r\n      required: false,\r\n      default: undefined\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      legendLines: [],\r\n      hoverOverride: false,\r\n    };\r\n  },\r\n  computed: {\r\n    LEGEND_FONT_SIZE: () => 16,\r\n    baseTransform() {\r\n      return this.position.asTranslate();\r\n    },\r\n    pathData() {\r\n      return svgRingPath(this.ring);\r\n    },\r\n    hasLegend() {\r\n      return Boolean(this.legend) && (!this.legend.hideWhenCompleted || this.complete < 1);\r\n    },\r\n    legendArrowPoints() {\r\n      const dir = Vector.unitFromDegrees(this.legend.angle);\r\n      const pts = [dir.times(this.ring.rMajor + 2)];\r\n      pts.push(pts[0].plus(dir.times(this.legend.diagonal)));\r\n      pts.push(pts[1].plus(Vector.horiz(this.legend.horizontal * Math.sign(dir.x))));\r\n      return pts;\r\n    },\r\n    legendArrowPointString() {\r\n      return this.legendArrowPoints.join(\" \");\r\n    },\r\n    legendTransform() {\r\n      const pts = this.legendArrowPoints;\r\n      const xDir = Math.sign(pts[2].x - pts[0].x);\r\n      return pts[2].plus(Vector.horiz(xDir * 4)).asTranslate();\r\n    },\r\n    legendTextAnchor() {\r\n      const angle = (this.legend.angle + 360) % 360;\r\n      return angle > 90 && angle < 270 ? \"end\" : \"start\";\r\n    },\r\n    nodeClass() {\r\n      return {\r\n        \"o-celestial-nav__force-hover\": this.hoverOverride,\r\n        \"o-celestial-nav__clickable\": this.clickAction !== undefined\r\n      };\r\n    },\r\n  },\r\n  methods: {\r\n    update() {\r\n      this.legendLines = this.getLines();\r\n      this.hoverOverride = this.alwaysShowLegend || (this.forceLegend && this.forceLegend());\r\n    },\r\n    legendLineY(idx) {\r\n      const spacing = Math.round(this.LEGEND_FONT_SIZE * 1.25 / 2);\r\n      const num = this.legendLines.length;\r\n      return (2 * idx - (num - 1)) * spacing;\r\n    },\r\n    getLines() {\r\n      if (!this.legend) return null;\r\n      const data = typeof (this.legend.text) === \"function\"\r\n        ? this.legend.text(this.complete) : this.legend.text;\r\n      return typeof (data) === \"string\" ? [data] : data;\r\n    },\r\n  }\r\n};\r\n</script>\r\n\r\n<template>\r\n  <g\r\n    class=\"o-celestial-nav__hoverable\"\r\n    :class=\"nodeClass\"\r\n    :transform=\"baseTransform\"\r\n    v-on=\"clickAction ? { click: clickAction } : {}\"\r\n  >\r\n    <path\r\n      :d=\"pathData\"\r\n      class=\"o-celestial-nav__node-overlay\"\r\n    />\r\n    <g\r\n      v-if=\"hasLegend\"\r\n      class=\"tooltiptext\"\r\n    >\r\n      <polyline\r\n        :points=\"legendArrowPointString\"\r\n        class=\"o-celestial-nav__legend-arrow\"\r\n      />\r\n      <!-- The ring radii are adjusted slightly to offset the stroke outside the node -->\r\n      <path\r\n        :d=\"pathData\"\r\n        class=\"o-celestial-nav__legend-outline\"\r\n      />\r\n      <g :transform=\"legendTransform\">\r\n        <text\r\n          class=\"o-celestial-nav__legend-text\"\r\n          :text-anchor=\"legendTextAnchor\"\r\n          dominant-baseline=\"middle\"\r\n          :font-size=\"LEGEND_FONT_SIZE\"\r\n        >\r\n          <tspan\r\n            v-for=\"(line, idx) in legendLines\"\r\n            :key=\"idx\"\r\n            x=\"0\"\r\n            :y=\"legendLineY(idx)\"\r\n          >\r\n            {{ line }}\r\n          </tspan>\r\n        </text>\r\n      </g>\r\n    </g>\r\n  </g>\r\n</template>\r\n\r\n<style scoped>\r\n.o-celestial-nav__clickable {\r\n  cursor: pointer;\r\n}\r\n</style>\r\n"]}]}