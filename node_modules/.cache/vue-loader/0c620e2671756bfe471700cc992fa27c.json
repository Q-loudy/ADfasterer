{"remainingRequest":"C:\\Games\\ADFasterer\\ADfasterer\\node_modules\\@vue\\vue-loader-v15\\lib\\index.js??vue-loader-options!C:\\Games\\ADFasterer\\ADfasterer\\src\\components\\CostDisplay.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Games\\ADFasterer\\ADfasterer\\src\\components\\CostDisplay.vue","mtime":1745241596764},{"path":"C:\\Games\\ADFasterer\\ADfasterer\\node_modules\\babel-loader\\lib\\index.js","mtime":1745242219290},{"path":"C:\\Games\\ADFasterer\\ADfasterer\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1745242214069},{"path":"C:\\Games\\ADFasterer\\ADfasterer\\node_modules\\@vue\\vue-loader-v15\\lib\\index.js","mtime":1745242220175}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQppbXBvcnQgeyBpc0RlY2ltYWwsIGlzRnVuY3Rpb24sIGlzTnVtYmVyIH0gZnJvbSAiQC91dGlsaXR5IjsNCg0KLyogZXNsaW50LWRpc2FibGUgbm8tZW1wdHktZnVuY3Rpb24gKi8NCmV4cG9ydCBkZWZhdWx0IHsNCiAgbmFtZTogIkNvc3REaXNwbGF5IiwNCiAgcHJvcHM6IHsNCiAgICBjb25maWc6IHsNCiAgICAgIHR5cGU6IE9iamVjdCwNCiAgICAgIHJlcXVpcmVkOiBmYWxzZSwNCiAgICAgIGRlZmF1bHQ6IHVuZGVmaW5lZA0KICAgIH0sDQogICAgYnI6IHsNCiAgICAgIHR5cGU6IEJvb2xlYW4sDQogICAgICByZXF1aXJlZDogZmFsc2UNCiAgICB9LA0KICAgIG5hbWU6IHsNCiAgICAgIHR5cGU6IFN0cmluZywNCiAgICAgIHJlcXVpcmVkOiB0cnVlDQogICAgfSwNCiAgICBsYWJlbDogew0KICAgICAgdHlwZTogU3RyaW5nLA0KICAgICAgZGVmYXVsdDogIkNvc3Q6IiwNCiAgICAgIHJlcXVpcmVkOiBmYWxzZQ0KICAgIH0NCiAgfSwNCiAgZGF0YSgpIHsNCiAgICByZXR1cm4gew0KICAgICAgaXNWaXNpYmxlOiBmYWxzZSwNCiAgICAgIGNvc3Q6IDANCiAgICB9Ow0KICB9LA0KICB3YXRjaDogew0KICAgIGNvbmZpZzogew0KICAgICAgaW1tZWRpYXRlOiB0cnVlLA0KICAgICAgaGFuZGxlcihjb25maWcpIHsNCiAgICAgICAgdGhpcy51cGRhdGVGdW5jdGlvbiA9ICgpID0+IHsgfTsNCiAgICAgICAgY29uc3QgY29zdCA9IGNvbmZpZz8uY29zdDsNCiAgICAgICAgdGhpcy5pc1Zpc2libGUgPSBjb3N0ICE9PSB1bmRlZmluZWQ7DQogICAgICAgIGlmICghdGhpcy5pc1Zpc2libGUpIHJldHVybjsNCiAgICAgICAgdGhpcy5mb3JtYXRDb3N0ID0gY29uZmlnLmZvcm1hdENvc3QgPz8gZm9ybWF0Ow0KDQogICAgICAgIGlmIChpc051bWJlcihjb3N0KSkgew0KICAgICAgICAgIHRoaXMuY29zdCA9IGNvc3Q7DQogICAgICAgICAgcmV0dXJuOw0KICAgICAgICB9DQoNCiAgICAgICAgaWYgKGlzRGVjaW1hbChjb3N0KSkgew0KICAgICAgICAgIHRoaXMuY29zdCA9IERlY2ltYWwuZnJvbURlY2ltYWwoY29zdCk7DQogICAgICAgICAgcmV0dXJuOw0KICAgICAgICB9DQoNCiAgICAgICAgaWYgKCFpc0Z1bmN0aW9uKGNvc3QpKSB7DQogICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBDb3N0RGlzcGxheSBjb25maWcuY29zdCBoYXMgdW5zdXBwb3J0ZWQgdHlwZSAiJHt0eXBlb2YgY29zdH0iYCk7DQogICAgICAgIH0NCg0KICAgICAgICBjb25zdCB2YWx1ZSA9IGNvc3QoKTsNCg0KICAgICAgICBpZiAoaXNOdW1iZXIodmFsdWUpKSB7DQogICAgICAgICAgdGhpcy5jb3N0ID0gdmFsdWU7DQogICAgICAgICAgdGhpcy51cGRhdGVGdW5jdGlvbiA9ICgpID0+IHRoaXMuY29zdCA9IGNvc3QoKTsNCiAgICAgICAgICByZXR1cm47DQogICAgICAgIH0NCg0KICAgICAgICBpZiAoaXNEZWNpbWFsKHZhbHVlKSkgew0KICAgICAgICAgIHRoaXMuY29zdCA9IERlY2ltYWwuZnJvbURlY2ltYWwodmFsdWUpOw0KICAgICAgICAgIHRoaXMudXBkYXRlRnVuY3Rpb24gPSAoKSA9PiB0aGlzLmNvc3QuY29weUZyb20oY29zdCgpKTsNCiAgICAgICAgICByZXR1cm47DQogICAgICAgIH0NCg0KICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYENvc3REaXNwbGF5IGNvbmZpZy5jb3N0IGlzIGEgZnVuY3Rpb24gd2hpY2ggcmV0dXJuc2AgKw0KICAgICAgICAgIGAgdW5zdXBwb3J0ZWQgdHlwZSAiJHt0eXBlb2YgdmFsdWV9ImApOw0KICAgICAgfQ0KICAgIH0NCiAgfSwNCiAgYmVmb3JlQ3JlYXRlKCkgew0KICAgIHRoaXMudXBkYXRlRnVuY3Rpb24gPSAoKSA9PiB7IH07DQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICB1cGRhdGUoKSB7DQogICAgICB0aGlzLnVwZGF0ZUZ1bmN0aW9uKCk7DQogICAgfSwNCiAgICBxdWFudGlmeQ0KICB9DQp9Ow0K"},{"version":3,"sources":["CostDisplay.vue"],"names":[],"mappings":";AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"CostDisplay.vue","sourceRoot":"src/components","sourcesContent":["<script>\r\nimport { isDecimal, isFunction, isNumber } from \"@/utility\";\r\n\r\n/* eslint-disable no-empty-function */\r\nexport default {\r\n  name: \"CostDisplay\",\r\n  props: {\r\n    config: {\r\n      type: Object,\r\n      required: false,\r\n      default: undefined\r\n    },\r\n    br: {\r\n      type: Boolean,\r\n      required: false\r\n    },\r\n    name: {\r\n      type: String,\r\n      required: true\r\n    },\r\n    label: {\r\n      type: String,\r\n      default: \"Cost:\",\r\n      required: false\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      isVisible: false,\r\n      cost: 0\r\n    };\r\n  },\r\n  watch: {\r\n    config: {\r\n      immediate: true,\r\n      handler(config) {\r\n        this.updateFunction = () => { };\r\n        const cost = config?.cost;\r\n        this.isVisible = cost !== undefined;\r\n        if (!this.isVisible) return;\r\n        this.formatCost = config.formatCost ?? format;\r\n\r\n        if (isNumber(cost)) {\r\n          this.cost = cost;\r\n          return;\r\n        }\r\n\r\n        if (isDecimal(cost)) {\r\n          this.cost = Decimal.fromDecimal(cost);\r\n          return;\r\n        }\r\n\r\n        if (!isFunction(cost)) {\r\n          throw new Error(`CostDisplay config.cost has unsupported type \"${typeof cost}\"`);\r\n        }\r\n\r\n        const value = cost();\r\n\r\n        if (isNumber(value)) {\r\n          this.cost = value;\r\n          this.updateFunction = () => this.cost = cost();\r\n          return;\r\n        }\r\n\r\n        if (isDecimal(value)) {\r\n          this.cost = Decimal.fromDecimal(value);\r\n          this.updateFunction = () => this.cost.copyFrom(cost());\r\n          return;\r\n        }\r\n\r\n        throw new Error(`CostDisplay config.cost is a function which returns` +\r\n          ` unsupported type \"${typeof value}\"`);\r\n      }\r\n    }\r\n  },\r\n  beforeCreate() {\r\n    this.updateFunction = () => { };\r\n  },\r\n  methods: {\r\n    update() {\r\n      this.updateFunction();\r\n    },\r\n    quantify\r\n  }\r\n};\r\n</script>\r\n\r\n<template>\r\n  <span v-if=\"isVisible\">\r\n    <br v-if=\"br\">\r\n    {{ label }} {{ quantify(name, cost, 0, 0, formatCost) }}\r\n  </span>\r\n</template>\r\n"]}]}