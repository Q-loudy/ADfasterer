{"remainingRequest":"C:\\Games\\ADFasterer\\ADfasterer\\node_modules\\@vue\\vue-loader-v15\\lib\\index.js??vue-loader-options!C:\\Games\\ADFasterer\\ADfasterer\\src\\components\\tabs\\celestial-laitela\\SingularityMilestoneComponent.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Games\\ADFasterer\\ADfasterer\\src\\components\\tabs\\celestial-laitela\\SingularityMilestoneComponent.vue","mtime":1745241597131},{"path":"C:\\Games\\ADFasterer\\ADfasterer\\node_modules\\babel-loader\\lib\\index.js","mtime":1745242219290},{"path":"C:\\Games\\ADFasterer\\ADfasterer\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1745242214069},{"path":"C:\\Games\\ADFasterer\\ADfasterer\\node_modules\\@vue\\vue-loader-v15\\lib\\index.js","mtime":1745242220175}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQppbXBvcnQgeyBMQUlURUxBX1VQR1JBREVfRElSRUNUSU9OIH0gZnJvbSAiQC9jb3JlL3NlY3JldC1mb3JtdWxhIjsNCg0KZXhwb3J0IGRlZmF1bHQgew0KICBuYW1lOiAiU2luZ3VsYXJpdHlNaWxlc3RvbmVDb21wb25lbnQiLA0KICBwcm9wczogew0KICAgIG1pbGVzdG9uZTogew0KICAgICAgdHlwZTogT2JqZWN0LA0KICAgICAgcmVxdWlyZWQ6IHRydWUNCiAgICB9LA0KICAgIHN1cHByZXNzR2xvdzogew0KICAgICAgdHlwZTogQm9vbGVhbiwNCiAgICAgIGRlZmF1bHQ6IGZhbHNlDQogICAgfQ0KICB9LA0KICBkYXRhOiAoKSA9PiAoew0KICAgIGlzTWF4ZWQ6IGZhbHNlLA0KICAgIHByb2dyZXNzVG9OZXh0OiAiIiwNCiAgICByZW1haW5pbmdTaW5ndWxhcml0aWVzOiAwLA0KICAgIGRlc2NyaXB0aW9uOiAiIiwNCiAgICBlZmZlY3REaXNwbGF5OiAiIiwNCiAgICBpc1VuaXF1ZTogZmFsc2UsDQogICAgbmV4dEVmZmVjdERpc3BsYXk6ICIiLA0KICAgIHN0YXJ0OiAwLA0KICAgIGNvbXBsZXRpb25zOiAwLA0KICAgIGxpbWl0OiAwLA0KICAgIG1pbGVzdG9uZU1vZGU6IGZhbHNlLA0KICAgIHNpbmd1bGFyaXRpZXNQZXJDb25kZW5zZTogMCwNCiAgICBiYXNlQ29uZGVuc2VUaW1lOiAwLA0KICAgIGN1cnJlbnRDb25kZW5zZVRpbWU6IDAsDQogICAgYXV0b0NvbmRlbnNlRGVsYXk6IDAsDQogICAgbGFzdENoZWNrZWRNaWxlc3RvbmVzOiAwLA0KICAgIGF1dG9TaW5nQWN0aXZlOiBmYWxzZSwNCiAgfSksDQogIGNvbXB1dGVkOiB7DQogICAgLy8gVGhlIGJhciBpcyBhIG1hc2sgdGhhdCBpbnZlcnRzIGNvbG9ycyBmb3IgYW55IGVsZW1lbnQgd2l0aCBhIGxvd2VyIHotaW5kZXggKGluY2x1ZGluZyB0ZXh0KS4NCiAgICAvLyBXaGVuIG1heGVkLCB0aGUgdmlzdWFsIGFwcGVhcmFuY2UgaXMgaW5zdGVhZCBkZXRlcm1pbmVkIGJ5IGEgY2xhc3Mgd2l0aCBpdHMgb3duIGV4cGxpY2l0IHdpZHRoDQogICAgYmFyU3R5bGUoKSB7DQogICAgICByZXR1cm4gew0KICAgICAgICB3aWR0aDogdGhpcy5pc01heGVkID8gdW5kZWZpbmVkIDogdGhpcy5wcm9ncmVzc1RvTmV4dCwNCiAgICAgIH07DQogICAgfSwNCiAgICBiYXJDbGFzcygpIHsNCiAgICAgIHJldHVybiB7DQogICAgICAgICJjLWxhaXRlbGEtbWlsZXN0b25lX19wcm9ncmVzcyI6IHRydWUsDQogICAgICAgICJjLWxhaXRlbGEtbWlsZXN0b25lLW1hc2siOiB0cnVlLA0KICAgICAgICAiYy1sYWl0ZWxhLW1pbGVzdG9uZS0tY29tcGxldGVkIjogdGhpcy5pc01heGVkDQogICAgICB9Ow0KICAgIH0sDQogICAgY29udGFpbmVyQ2xhc3MoKSB7DQogICAgICByZXR1cm4gew0KICAgICAgICAiYy1sYWl0ZWxhLW1pbGVzdG9uZSI6IHRydWUsDQogICAgICAgICJvLWxhaXRlbGEtbWlsZXN0b25lLS1nbG93IjogIXRoaXMuc3VwcHJlc3NHbG93ICYmDQogICAgICAgICAgdGhpcy5taWxlc3RvbmUucHJldmlvdXNHb2FsID4gdGhpcy5sYXN0Q2hlY2tlZE1pbGVzdG9uZXMNCiAgICAgIH07DQogICAgfSwNCiAgICB1cGdyYWRlRGlyZWN0aW9uSWNvbigpIHsNCiAgICAgIHN3aXRjaCAodGhpcy5taWxlc3RvbmUuY29uZmlnLnVwZ3JhZGVEaXJlY3Rpb24pIHsNCiAgICAgICAgY2FzZSBMQUlURUxBX1VQR1JBREVfRElSRUNUSU9OLlNFTEZfQk9PU1Q6IHJldHVybiBgPGI+4ZudPC9iPmA7DQogICAgICAgIGNhc2UgTEFJVEVMQV9VUEdSQURFX0RJUkVDVElPTi5CT09TVFNfTUFJTjogcmV0dXJuIGA8aSBjbGFzcz0iZmFzIGZhLWFycm93cy1hbHQiPjwvaT5gOw0KICAgICAgICBjYXNlIExBSVRFTEFfVVBHUkFERV9ESVJFQ1RJT04uQk9PU1RTX0xBSVRFTEE6IHJldHVybiBgPGkgY2xhc3M9ImZhcyBmYS1jb21wcmVzcy1hcnJvd3MtYWx0Ij48L2k+YDsNCiAgICAgICAgZGVmYXVsdDogdGhyb3cgbmV3IEVycm9yKCJVbnNwZWNpZmllZCBMYWkndGVsYSB1cGdyYWRlIGRpcmVjdGlvbiBpbiBzaW5ndWxhcml0eSBtaWxlc3RvbmUiKTsNCiAgICAgIH0NCiAgICB9LA0KICAgIG1heENvbXBsZXRpb25zKCkgew0KICAgICAgcmV0dXJuIHRoaXMuaXNVbmlxdWUgPyAxIDogdGhpcy5saW1pdDsNCiAgICB9LA0KICAgIGNvbXBsZXRpb25zRGlzcGxheSgpIHsNCiAgICAgIGNvbnN0IG1heFN0ciA9IE51bWJlci5pc0Zpbml0ZSh0aGlzLmxpbWl0KSA/IGZvcm1hdEludCh0aGlzLm1heENvbXBsZXRpb25zKSA6ICLiiJ4iOw0KICAgICAgcmV0dXJuIGAke2Zvcm1hdEludCh0aGlzLmNvbXBsZXRpb25zKX0vJHttYXhTdHJ9ICR7cGx1cmFsaXplKCJjb21wbGV0aW9uIiwgdGhpcy5jb21wbGV0aW9ucyl9YDsNCiAgICB9LA0KICAgIHByb2dyZXNzRGlzcGxheSgpIHsNCiAgICAgIGNvbnN0IGNvbmRlbnNlQ291bnQgPSB0aGlzLnJlbWFpbmluZ1Npbmd1bGFyaXRpZXMgLyB0aGlzLnNpbmd1bGFyaXRpZXNQZXJDb25kZW5zZTsNCiAgICAgIGxldCB0aGlzU2luZ3VsYXJpdHlUaW1lLCBleHRyYVRpbWUsIHRpbWVUZXh0Ow0KICAgICAgc3dpdGNoICh0aGlzLm1pbGVzdG9uZU1vZGUpIHsNCiAgICAgICAgY2FzZSBTSU5HVUxBUklUWV9NSUxFU1RPTkVfUkVTT1VSQ0UuU0lOR1VMQVJJVElFUzoNCiAgICAgICAgICByZXR1cm4gYEluICR7cXVhbnRpZnkoIlNpbmd1bGFyaXR5IiwgdGhpcy5yZW1haW5pbmdTaW5ndWxhcml0aWVzLCAyKX1gOw0KICAgICAgICBjYXNlIFNJTkdVTEFSSVRZX01JTEVTVE9ORV9SRVNPVVJDRS5DT05ERU5TRV9DT1VOVDoNCiAgICAgICAgICByZXR1cm4gYENvbmRlbnNlICR7cXVhbnRpZnkoInRpbWUiLCBjb25kZW5zZUNvdW50LCAyLCAyKX1gOw0KICAgICAgICBjYXNlIFNJTkdVTEFSSVRZX01JTEVTVE9ORV9SRVNPVVJDRS5NQU5VQUxfVElNRToNCiAgICAgICAgICB0aGlzU2luZ3VsYXJpdHlUaW1lID0gTWF0aC5jbGFtcE1pbigwLCB0aGlzLmN1cnJlbnRDb25kZW5zZVRpbWUpOw0KICAgICAgICAgIGV4dHJhVGltZSA9IE1hdGguY2VpbChjb25kZW5zZUNvdW50IC0gMSkgKiB0aGlzLmJhc2VDb25kZW5zZVRpbWU7DQogICAgICAgICAgcmV0dXJuIGBJbiAke1RpbWVTcGFuLmZyb21TZWNvbmRzKHRoaXNTaW5ndWxhcml0eVRpbWUgKyBleHRyYVRpbWUpLnRvU3RyaW5nU2hvcnQoKX0gKG1hbnVhbClgOw0KICAgICAgICBjYXNlIFNJTkdVTEFSSVRZX01JTEVTVE9ORV9SRVNPVVJDRS5BVVRPX1RJTUU6DQogICAgICAgICAgdGhpc1Npbmd1bGFyaXR5VGltZSA9IE1hdGguY2xhbXBNaW4oMCwgdGhpcy5jdXJyZW50Q29uZGVuc2VUaW1lICsgdGhpcy5hdXRvQ29uZGVuc2VEZWxheSk7DQogICAgICAgICAgZXh0cmFUaW1lID0gTWF0aC5jZWlsKGNvbmRlbnNlQ291bnQgLSAxKSAqICh0aGlzLmJhc2VDb25kZW5zZVRpbWUgKyB0aGlzLmF1dG9Db25kZW5zZURlbGF5KTsNCiAgICAgICAgICB0aW1lVGV4dCA9IGBJbiAke1RpbWVTcGFuLmZyb21TZWNvbmRzKHRoaXNTaW5ndWxhcml0eVRpbWUgKyBleHRyYVRpbWUpLnRvU3RyaW5nU2hvcnQoKX1gOw0KICAgICAgICAgIHJldHVybiB0aGlzLmF1dG9TaW5nQWN0aXZlID8gdGltZVRleHQgOiBgQXV0by1TaW5ndWxhcml0eSBpcyBPRkZgOw0KICAgICAgICBkZWZhdWx0Og0KICAgICAgICAgIHRocm93IG5ldyBFcnJvcigiVW5yZWNvZ25pemVkIFNpbmd1bGFyaXR5IE1pbGVzdG9uZSBtb2RlIik7DQogICAgICB9DQogICAgfSwNCiAgICBpc0Rvb21lZDogKCkgPT4gUGVsbGUuaXNEb29tZWQsDQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICB1cGRhdGUoKSB7DQogICAgICB0aGlzLmF1dG9TaW5nQWN0aXZlID0gcGxheWVyLmF1dG8uc2luZ3VsYXJpdHkuaXNBY3RpdmU7DQogICAgICB0aGlzLmlzTWF4ZWQgPSB0aGlzLm1pbGVzdG9uZS5pc01heGVkOw0KICAgICAgdGhpcy5wcm9ncmVzc1RvTmV4dCA9IHRoaXMubWlsZXN0b25lLnByb2dyZXNzVG9OZXh0Ow0KICAgICAgdGhpcy5yZW1haW5pbmdTaW5ndWxhcml0aWVzID0gdGhpcy5taWxlc3RvbmUucmVtYWluaW5nU2luZ3VsYXJpdGllczsNCiAgICAgIHRoaXMuZGVzY3JpcHRpb24gPSB0aGlzLm1pbGVzdG9uZS5kZXNjcmlwdGlvbjsNCiAgICAgIHRoaXMuZWZmZWN0RGlzcGxheSA9IHRoaXMubWlsZXN0b25lLmVmZmVjdERpc3BsYXk7DQogICAgICB0aGlzLmlzVW5pcXVlID0gdGhpcy5taWxlc3RvbmUuaXNVbmlxdWU7DQogICAgICBpZiAoIXRoaXMuaXNVbmlxdWUgJiYgIXRoaXMuaXNNYXhlZCkgdGhpcy5uZXh0RWZmZWN0RGlzcGxheSA9IHRoaXMubWlsZXN0b25lLm5leHRFZmZlY3REaXNwbGF5Ow0KICAgICAgdGhpcy5jb21wbGV0aW9ucyA9IHRoaXMubWlsZXN0b25lLmNvbXBsZXRpb25zOw0KICAgICAgdGhpcy5saW1pdCA9IHRoaXMubWlsZXN0b25lLmxpbWl0Ow0KICAgICAgdGhpcy5taWxlc3RvbmVNb2RlID0gcGxheWVyLmNlbGVzdGlhbHMubGFpdGVsYS5zaW5ndWxhcml0eVNvcnRpbmcuZGlzcGxheVJlc291cmNlOw0KICAgICAgdGhpcy5zaW5ndWxhcml0aWVzUGVyQ29uZGVuc2UgPSBTaW5ndWxhcml0eS5zaW5ndWxhcml0aWVzR2FpbmVkOw0KICAgICAgdGhpcy5iYXNlQ29uZGVuc2VUaW1lID0gU2luZ3VsYXJpdHkudGltZVBlckNvbmRlbnNlOw0KICAgICAgdGhpcy5jdXJyZW50Q29uZGVuc2VUaW1lID0gU2luZ3VsYXJpdHkudGltZVVudGlsQ2FwOw0KICAgICAgdGhpcy5hdXRvQ29uZGVuc2VEZWxheSA9IFNpbmd1bGFyaXR5LnRpbWVEZWxheUZyb21BdXRvOw0KICAgICAgdGhpcy5sYXN0Q2hlY2tlZE1pbGVzdG9uZXMgPSBwbGF5ZXIuY2VsZXN0aWFscy5sYWl0ZWxhLmxhc3RDaGVja2VkTWlsZXN0b25lczsNCiAgICAgIHRoaXMuaXNNZXRybyA9IFRoZW1lLmN1cnJlbnQoKS5pc01ldHJvOw0KICAgIH0sDQogIH0NCn07DQo="},{"version":3,"sources":["SingularityMilestoneComponent.vue"],"names":[],"mappings":";AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"SingularityMilestoneComponent.vue","sourceRoot":"src/components/tabs/celestial-laitela","sourcesContent":["<script>\r\nimport { LAITELA_UPGRADE_DIRECTION } from \"@/core/secret-formula\";\r\n\r\nexport default {\r\n  name: \"SingularityMilestoneComponent\",\r\n  props: {\r\n    milestone: {\r\n      type: Object,\r\n      required: true\r\n    },\r\n    suppressGlow: {\r\n      type: Boolean,\r\n      default: false\r\n    }\r\n  },\r\n  data: () => ({\r\n    isMaxed: false,\r\n    progressToNext: \"\",\r\n    remainingSingularities: 0,\r\n    description: \"\",\r\n    effectDisplay: \"\",\r\n    isUnique: false,\r\n    nextEffectDisplay: \"\",\r\n    start: 0,\r\n    completions: 0,\r\n    limit: 0,\r\n    milestoneMode: false,\r\n    singularitiesPerCondense: 0,\r\n    baseCondenseTime: 0,\r\n    currentCondenseTime: 0,\r\n    autoCondenseDelay: 0,\r\n    lastCheckedMilestones: 0,\r\n    autoSingActive: false,\r\n  }),\r\n  computed: {\r\n    // The bar is a mask that inverts colors for any element with a lower z-index (including text).\r\n    // When maxed, the visual appearance is instead determined by a class with its own explicit width\r\n    barStyle() {\r\n      return {\r\n        width: this.isMaxed ? undefined : this.progressToNext,\r\n      };\r\n    },\r\n    barClass() {\r\n      return {\r\n        \"c-laitela-milestone__progress\": true,\r\n        \"c-laitela-milestone-mask\": true,\r\n        \"c-laitela-milestone--completed\": this.isMaxed\r\n      };\r\n    },\r\n    containerClass() {\r\n      return {\r\n        \"c-laitela-milestone\": true,\r\n        \"o-laitela-milestone--glow\": !this.suppressGlow &&\r\n          this.milestone.previousGoal > this.lastCheckedMilestones\r\n      };\r\n    },\r\n    upgradeDirectionIcon() {\r\n      switch (this.milestone.config.upgradeDirection) {\r\n        case LAITELA_UPGRADE_DIRECTION.SELF_BOOST: return `<b>ᛝ</b>`;\r\n        case LAITELA_UPGRADE_DIRECTION.BOOSTS_MAIN: return `<i class=\"fas fa-arrows-alt\"></i>`;\r\n        case LAITELA_UPGRADE_DIRECTION.BOOSTS_LAITELA: return `<i class=\"fas fa-compress-arrows-alt\"></i>`;\r\n        default: throw new Error(\"Unspecified Lai'tela upgrade direction in singularity milestone\");\r\n      }\r\n    },\r\n    maxCompletions() {\r\n      return this.isUnique ? 1 : this.limit;\r\n    },\r\n    completionsDisplay() {\r\n      const maxStr = Number.isFinite(this.limit) ? formatInt(this.maxCompletions) : \"∞\";\r\n      return `${formatInt(this.completions)}/${maxStr} ${pluralize(\"completion\", this.completions)}`;\r\n    },\r\n    progressDisplay() {\r\n      const condenseCount = this.remainingSingularities / this.singularitiesPerCondense;\r\n      let thisSingularityTime, extraTime, timeText;\r\n      switch (this.milestoneMode) {\r\n        case SINGULARITY_MILESTONE_RESOURCE.SINGULARITIES:\r\n          return `In ${quantify(\"Singularity\", this.remainingSingularities, 2)}`;\r\n        case SINGULARITY_MILESTONE_RESOURCE.CONDENSE_COUNT:\r\n          return `Condense ${quantify(\"time\", condenseCount, 2, 2)}`;\r\n        case SINGULARITY_MILESTONE_RESOURCE.MANUAL_TIME:\r\n          thisSingularityTime = Math.clampMin(0, this.currentCondenseTime);\r\n          extraTime = Math.ceil(condenseCount - 1) * this.baseCondenseTime;\r\n          return `In ${TimeSpan.fromSeconds(thisSingularityTime + extraTime).toStringShort()} (manual)`;\r\n        case SINGULARITY_MILESTONE_RESOURCE.AUTO_TIME:\r\n          thisSingularityTime = Math.clampMin(0, this.currentCondenseTime + this.autoCondenseDelay);\r\n          extraTime = Math.ceil(condenseCount - 1) * (this.baseCondenseTime + this.autoCondenseDelay);\r\n          timeText = `In ${TimeSpan.fromSeconds(thisSingularityTime + extraTime).toStringShort()}`;\r\n          return this.autoSingActive ? timeText : `Auto-Singularity is OFF`;\r\n        default:\r\n          throw new Error(\"Unrecognized Singularity Milestone mode\");\r\n      }\r\n    },\r\n    isDoomed: () => Pelle.isDoomed,\r\n  },\r\n  methods: {\r\n    update() {\r\n      this.autoSingActive = player.auto.singularity.isActive;\r\n      this.isMaxed = this.milestone.isMaxed;\r\n      this.progressToNext = this.milestone.progressToNext;\r\n      this.remainingSingularities = this.milestone.remainingSingularities;\r\n      this.description = this.milestone.description;\r\n      this.effectDisplay = this.milestone.effectDisplay;\r\n      this.isUnique = this.milestone.isUnique;\r\n      if (!this.isUnique && !this.isMaxed) this.nextEffectDisplay = this.milestone.nextEffectDisplay;\r\n      this.completions = this.milestone.completions;\r\n      this.limit = this.milestone.limit;\r\n      this.milestoneMode = player.celestials.laitela.singularitySorting.displayResource;\r\n      this.singularitiesPerCondense = Singularity.singularitiesGained;\r\n      this.baseCondenseTime = Singularity.timePerCondense;\r\n      this.currentCondenseTime = Singularity.timeUntilCap;\r\n      this.autoCondenseDelay = Singularity.timeDelayFromAuto;\r\n      this.lastCheckedMilestones = player.celestials.laitela.lastCheckedMilestones;\r\n      this.isMetro = Theme.current().isMetro;\r\n    },\r\n  }\r\n};\r\n</script>\r\n\r\n<template>\r\n  <div :class=\"containerClass\">\r\n    <div\r\n      v-if=\"!isMetro && !isMaxed\"\r\n      class=\"c-laitela-milestone--bar-border-fix\"\r\n    />\r\n    <div\r\n      :class=\"barClass\"\r\n      :style=\"barStyle\"\r\n    />\r\n    <span :class=\"{ 'o-pelle-disabled': isDoomed }\">\r\n      <b v-if=\"!isMaxed\">\r\n        {{ progressDisplay }}\r\n      </b>\r\n      <p>\r\n        <span v-html=\"upgradeDirectionIcon\" /> {{ description }}\r\n      </p>\r\n      <b>\r\n        {{ effectDisplay }}\r\n        <span v-if=\"!isUnique && !isMaxed\">➜ {{ nextEffectDisplay }}</span>\r\n      </b>\r\n      <div class=\"c-laitela-milestone__completions\">\r\n        {{ completionsDisplay }}\r\n      </div>\r\n    </span>\r\n  </div>\r\n</template>\r\n\r\n<style scoped>\r\n.o-laitela-milestone--glow {\r\n  font-weight: bold;\r\n  color: var(--color-laitela--base);\r\n  background: var(--color-laitela--accent);\r\n  border-color: var(--color-laitela--accent);\r\n  box-shadow: 0 0 0.5rem 0.1rem inset, 0 0 0.3rem 0;\r\n  animation: 3s a-laitela-flash infinite;\r\n}\r\n</style>\r\n"]}]}