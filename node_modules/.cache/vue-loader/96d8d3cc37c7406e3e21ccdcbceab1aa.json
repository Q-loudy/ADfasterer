{"remainingRequest":"C:\\Games\\ADFasterer\\ADfasterer\\node_modules\\@vue\\vue-loader-v15\\lib\\index.js??vue-loader-options!C:\\Games\\ADFasterer\\ADfasterer\\src\\components\\modals\\glyph-management\\DeleteCompanionGlyphModal.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Games\\ADFasterer\\ADfasterer\\src\\components\\modals\\glyph-management\\DeleteCompanionGlyphModal.vue","mtime":1745241596908},{"path":"C:\\Games\\ADFasterer\\ADfasterer\\node_modules\\babel-loader\\lib\\index.js","mtime":1745242219290},{"path":"C:\\Games\\ADFasterer\\ADfasterer\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1745242214069},{"path":"C:\\Games\\ADFasterer\\ADfasterer\\node_modules\\@vue\\vue-loader-v15\\lib\\index.js","mtime":1745242220175}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQppbXBvcnQgUHJpbWFyeUJ1dHRvbiBmcm9tICJAL2NvbXBvbmVudHMvUHJpbWFyeUJ1dHRvbiI7DQoNCmV4cG9ydCBkZWZhdWx0IHsNCiAgbmFtZTogIkRlbGV0ZUNvbXBhbmlvbkdseXBoTW9kYWwiLA0KICBjb21wb25lbnRzOiB7DQogICAgUHJpbWFyeUJ1dHRvbg0KICB9LA0KICBkYXRhKCkgew0KICAgIHJldHVybiB7DQogICAgICBtZXNzYWdlSW5kZXg6IDAsDQogICAgfTsNCiAgfSwNCiAgY29tcHV0ZWQ6IHsNCiAgICBtZXNzYWdlKCkgew0KICAgICAgc3dpdGNoICh0aGlzLm1lc3NhZ2VJbmRleCkgew0KICAgICAgICBjYXNlIDA6IHJldHVybiAiQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIGdldCByaWQgb2YgeW91ciBDb21wYW5pb24gR2x5cGg/IjsNCiAgICAgICAgY2FzZSAxOiByZXR1cm4gIllvdSB3aWxsIG5vdCByZWNlaXZlIGFueSBjYWtlLiI7DQogICAgICAgIGNhc2UgMjogcmV0dXJuICJUaGlzIGlzIHBlcm1hbmVudCEgWW91IHdpbGwgbm90IGdldCBhbm90aGVyIENvbXBhbmlvbiBHbHlwaCEiOw0KICAgICAgICBjYXNlIDM6IHJldHVybiBgWW91IGRlbGV0ZWQgeW91ciBmYWl0aGZ1bCBDb21wYW5pb24gR2x5cGggbW9yZSBxdWlja2x5IHRoYW4gYW55DQogICAgICAgICAgICAgICAgICAgICAgICBvdGhlciB0ZXN0IHN1YmplY3Qgb24gcmVjb3JkLiBDb25ncmF0dWxhdGlvbnMuYDsNCiAgICAgICAgZGVmYXVsdDogcmV0dXJuICJJbnZhbGlkIG1lc3NhZ2UgaW5kZXgiOw0KICAgICAgfQ0KICAgIH0NCiAgfSwNCiAgbWV0aG9kczogew0KICAgIGhhbmRsZUxlZnRCdXR0b25DbGljaygpIHsNCiAgICAgIGlmICh0aGlzLm1lc3NhZ2VJbmRleCA8IDIpIHsNCiAgICAgICAgdGhpcy5oYW5kbGVZZXNDbGljaygpOw0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgdGhpcy5oYW5kbGVOb0NsaWNrKCk7DQogICAgICB9DQogICAgfSwNCiAgICBoYW5kbGVSaWdodEJ1dHRvbkNsaWNrKCkgew0KICAgICAgaWYgKHRoaXMubWVzc2FnZUluZGV4ID49IDIpIHsNCiAgICAgICAgdGhpcy5oYW5kbGVZZXNDbGljaygpOw0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgdGhpcy5oYW5kbGVOb0NsaWNrKCk7DQogICAgICB9DQogICAgfSwNCiAgICBoYW5kbGVZZXNDbGljaygpIHsNCiAgICAgIHRoaXMubWVzc2FnZUluZGV4Kys7DQogICAgICBpZiAodGhpcy5tZXNzYWdlSW5kZXggPT09IDMpIHRoaXMuZGVsZXRlQ29tcGFuaW9uKCk7DQogICAgfSwNCiAgICBoYW5kbGVOb0NsaWNrKCkgew0KICAgICAgdGhpcy5tZXNzYWdlSW5kZXggPSAwOw0KICAgICAgdGhpcy5lbWl0Q2xvc2UoKTsNCiAgICB9LA0KICAgIGRlbGV0ZUNvbXBhbmlvbigpIHsNCiAgICAgIC8vIFllcywgdGhpcyBhY3R1YWxseSBkZWxldGVzIGEgY29tcGFuaW9uIGdseXBoIGF0IHJhbmRvbSwgYnV0IHRoZSBwbGF5ZXIgY2FuIG9ubHkgZXZlciBsZWdpdGltYXRlbHkgaGF2ZSBvbmUuDQogICAgICAvLyBQYXNzaW5nIGluZm9ybWF0aW9uIGludG8gbW9kYWxzIHNlZW1zIHRvIHJlcXVpcmUgYSBidW5jaCBvZiByZWZhY3RvcmluZyB0aGF0J3Mgbm90IHdvcnRoIGl0IGZvciB0aGlzIG9uZSBjYXNlLg0KICAgICAgY29uc3QgdG9EZWxldGUgPSBwbGF5ZXIucmVhbGl0eS5nbHlwaHMuaW52ZW50b3J5LmZpbHRlcihnID0+IGcudHlwZSA9PT0gImNvbXBhbmlvbiIpWzBdOw0KICAgICAgR2x5cGhzLnJlbW92ZUZyb21JbnZlbnRvcnkodG9EZWxldGUpOw0KICAgIH0NCiAgfSwNCn07DQo="},{"version":3,"sources":["DeleteCompanionGlyphModal.vue"],"names":[],"mappings":";AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"DeleteCompanionGlyphModal.vue","sourceRoot":"src/components/modals/glyph-management","sourcesContent":["<script>\r\nimport PrimaryButton from \"@/components/PrimaryButton\";\r\n\r\nexport default {\r\n  name: \"DeleteCompanionGlyphModal\",\r\n  components: {\r\n    PrimaryButton\r\n  },\r\n  data() {\r\n    return {\r\n      messageIndex: 0,\r\n    };\r\n  },\r\n  computed: {\r\n    message() {\r\n      switch (this.messageIndex) {\r\n        case 0: return \"Are you sure you want to get rid of your Companion Glyph?\";\r\n        case 1: return \"You will not receive any cake.\";\r\n        case 2: return \"This is permanent! You will not get another Companion Glyph!\";\r\n        case 3: return `You deleted your faithful Companion Glyph more quickly than any\r\n                        other test subject on record. Congratulations.`;\r\n        default: return \"Invalid message index\";\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    handleLeftButtonClick() {\r\n      if (this.messageIndex < 2) {\r\n        this.handleYesClick();\r\n      } else {\r\n        this.handleNoClick();\r\n      }\r\n    },\r\n    handleRightButtonClick() {\r\n      if (this.messageIndex >= 2) {\r\n        this.handleYesClick();\r\n      } else {\r\n        this.handleNoClick();\r\n      }\r\n    },\r\n    handleYesClick() {\r\n      this.messageIndex++;\r\n      if (this.messageIndex === 3) this.deleteCompanion();\r\n    },\r\n    handleNoClick() {\r\n      this.messageIndex = 0;\r\n      this.emitClose();\r\n    },\r\n    deleteCompanion() {\r\n      // Yes, this actually deletes a companion glyph at random, but the player can only ever legitimately have one.\r\n      // Passing information into modals seems to require a bunch of refactoring that's not worth it for this one case.\r\n      const toDelete = player.reality.glyphs.inventory.filter(g => g.type === \"companion\")[0];\r\n      Glyphs.removeFromInventory(toDelete);\r\n    }\r\n  },\r\n};\r\n</script>\r\n\r\n<template>\r\n  <div class=\"c-modal-message l-modal-content--centered\">\r\n    <div class=\"c-modal-message__text\">\r\n      {{ message }}\r\n    </div>\r\n    <div v-if=\"messageIndex < 3\">\r\n      <PrimaryButton\r\n        class=\"o-primary-btn--width-medium c-modal-message__okay-btn\"\r\n        @click=\"handleLeftButtonClick\"\r\n      >\r\n        {{ messageIndex < 2 ? \"Delete\" : \"Cancel\" }}\r\n      </PrimaryButton>\r\n      <PrimaryButton\r\n        class=\"o-primary-btn--width-medium c-modal-message__okay-btn\"\r\n        @click=\"handleRightButtonClick\"\r\n      >\r\n        {{ messageIndex >= 2 ? \"Delete\" : \"Cancel\" }}\r\n      </PrimaryButton>\r\n    </div>\r\n    <div v-else>\r\n      <PrimaryButton\r\n        class=\"o-primary-btn--width-medium c-modal-message__okay-btn\"\r\n        @click=\"handleNoClick\"\r\n      >\r\n        Thank you\r\n      </PrimaryButton>\r\n    </div>\r\n  </div>\r\n</template>\r\n"]}]}