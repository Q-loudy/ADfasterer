{"remainingRequest":"C:\\Games\\ADFasterer\\ADfasterer\\node_modules\\@vue\\vue-loader-v15\\lib\\index.js??vue-loader-options!C:\\Games\\ADFasterer\\ADfasterer\\src\\components\\ui-modes\\HeaderChallengeDisplay.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Games\\ADFasterer\\ADfasterer\\src\\components\\ui-modes\\HeaderChallengeDisplay.vue","mtime":1745241597517},{"path":"C:\\Games\\ADFasterer\\ADfasterer\\node_modules\\babel-loader\\lib\\index.js","mtime":1745242219290},{"path":"C:\\Games\\ADFasterer\\ADfasterer\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1745242214069},{"path":"C:\\Games\\ADFasterer\\ADfasterer\\node_modules\\@vue\\vue-loader-v15\\lib\\index.js","mtime":1745242220175}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQppbXBvcnQgRmFpbGFibGVFY1RleHQgZnJvbSAiLi9GYWlsYWJsZUVjVGV4dCI7DQppbXBvcnQgUHJpbWFyeUJ1dHRvbiBmcm9tICJAL2NvbXBvbmVudHMvUHJpbWFyeUJ1dHRvbiI7DQoNCmV4cG9ydCBkZWZhdWx0IHsNCiAgbmFtZTogIkhlYWRlckNoYWxsZW5nZURpc3BsYXkiLA0KICBjb21wb25lbnRzOiB7DQogICAgRmFpbGFibGVFY1RleHQsDQogICAgUHJpbWFyeUJ1dHRvbg0KICB9LA0KICBkYXRhKCkgew0KICAgIHJldHVybiB7DQogICAgICBhY3Rpdml0eVRva2VuczogW10sDQogICAgICBpbmZpbml0eVVubG9ja2VkOiBmYWxzZSwNCiAgICAgIHNob3dFeGl0OiBmYWxzZSwNCiAgICAgIGV4aXRUZXh0OiAiIiwNCiAgICAgIHJlc2V0Q2VsZXN0aWFsOiBmYWxzZSwNCiAgICAgIGluUGVsbGU6IGZhbHNlLA0KICAgIH07DQogIH0sDQogIGNvbXB1dGVkOiB7DQogICAgcGFydHMoKSB7DQogICAgICAvLyBXZSBuZWVkIGFjdGl2aXR5VG9rZW4gZm9yIE5DL0lDL0VDIGJlY2F1c2UgcGxhaW4gY2hlY2sgb2YgV2hhdGV2ZXJDaGFsbGVuZ2UuaXNSdW5uaW5nDQogICAgICAvLyB3b24ndCB0cmlnZ2VyIGRpc3BsYXkgdXBkYXRlIGlmIHdlLCBzYXksIHN3aXRjaCBmcm9tIG9uZSBjaGFsbGVuZ2UgdG8gYW5vdGhlcg0KICAgICAgZnVuY3Rpb24gY2VsZXN0aWFsUmVhbGl0eShjZWxlc3RpYWwsIG5hbWUsIHRhYikgew0KICAgICAgICByZXR1cm4gew0KICAgICAgICAgIG5hbWU6ICgpID0+IGAke25hbWV9IFJlYWxpdHlgLA0KICAgICAgICAgIGlzQWN0aXZlOiB0b2tlbiA9PiB0b2tlbiwNCiAgICAgICAgICBhY3Rpdml0eVRva2VuOiAoKSA9PiBjZWxlc3RpYWwuaXNSdW5uaW5nLA0KICAgICAgICAgIHRhYk5hbWU6ICgpID0+IHRhYiwNCiAgICAgICAgfTsNCiAgICAgIH0NCiAgICAgIHJldHVybiBbDQogICAgICAgIGNlbGVzdGlhbFJlYWxpdHkoVGVyZXNhLCAiVGVyZXNhJ3MiLCAidGVyZXNhIiksDQogICAgICAgIGNlbGVzdGlhbFJlYWxpdHkoRWZmYXJpZywgIkVmZmFyaWcncyIsICJlZmZhcmlnIiksDQogICAgICAgIGNlbGVzdGlhbFJlYWxpdHkoRW5zbGF2ZWQsICJUaGUgTmFtZWxlc3MgT25lcyciLCAiZW5zbGF2ZWQiKSwNCiAgICAgICAgY2VsZXN0aWFsUmVhbGl0eShWLCAiVidzIiwgInYiKSwNCiAgICAgICAgY2VsZXN0aWFsUmVhbGl0eShSYSwgIlJhJ3MiLCAicmEiKSwNCiAgICAgICAgY2VsZXN0aWFsUmVhbGl0eShMYWl0ZWxhLCAiTGFpJ3RlbGEncyIsICJsYWl0ZWxhIiksDQogICAgICAgIHsNCiAgICAgICAgICBuYW1lOiAoKSA9PiAiVGltZSBEaWxhdGlvbiIsDQogICAgICAgICAgaXNBY3RpdmU6IHRva2VuID0+IHRva2VuLA0KICAgICAgICAgIGFjdGl2aXR5VG9rZW46ICgpID0+IHBsYXllci5kaWxhdGlvbi5hY3RpdmUNCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgIG5hbWU6IHRva2VuID0+IGBFdGVybml0eSBDaGFsbGVuZ2UgJHt0b2tlbn1gLA0KICAgICAgICAgIGlzQWN0aXZlOiB0b2tlbiA9PiB0b2tlbiA+IDAsDQogICAgICAgICAgYWN0aXZpdHlUb2tlbjogKCkgPT4gcGxheWVyLmNoYWxsZW5nZS5ldGVybml0eS5jdXJyZW50DQogICAgICAgIH0sDQogICAgICAgIHsNCiAgICAgICAgICBuYW1lOiB0b2tlbiA9PiBgSW5maW5pdHkgQ2hhbGxlbmdlICR7dG9rZW59YCwNCiAgICAgICAgICBpc0FjdGl2ZTogdG9rZW4gPT4gdG9rZW4gPiAwLA0KICAgICAgICAgIGFjdGl2aXR5VG9rZW46ICgpID0+IHBsYXllci5jaGFsbGVuZ2UuaW5maW5pdHkuY3VycmVudA0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgbmFtZTogdG9rZW4gPT4gYCR7Tm9ybWFsQ2hhbGxlbmdlKHRva2VuKS5jb25maWcubmFtZX0gQ2hhbGxlbmdlYCwNCiAgICAgICAgICBpc0FjdGl2ZTogdG9rZW4gPT4gdG9rZW4gPiAwLA0KICAgICAgICAgIGFjdGl2aXR5VG9rZW46ICgpID0+IHBsYXllci5jaGFsbGVuZ2Uubm9ybWFsLmN1cnJlbnQNCiAgICAgICAgfSwNCiAgICAgIF07DQogICAgfSwNCiAgICBhY3RpdmVDaGFsbGVuZ2VOYW1lcygpIHsNCiAgICAgIGNvbnN0IG5hbWVzID0gW107DQogICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuYWN0aXZpdHlUb2tlbnMubGVuZ3RoOyBpKyspIHsNCiAgICAgICAgY29uc3QgdG9rZW4gPSB0aGlzLmFjdGl2aXR5VG9rZW5zW2ldOw0KICAgICAgICBjb25zdCBwYXJ0ID0gdGhpcy5wYXJ0c1tpXTsNCiAgICAgICAgaWYgKCFwYXJ0LmlzQWN0aXZlKHRva2VuKSkgY29udGludWU7DQogICAgICAgIGlmIChwYXJ0Lm5hbWUodG9rZW4pLmluY2x1ZGVzKCJFdGVybml0eSBDaGFsbGVuZ2UiKSkgew0KICAgICAgICAgIGNvbnN0IGN1cnJFQyA9IHBsYXllci5jaGFsbGVuZ2UuZXRlcm5pdHkuY3VycmVudDsNCiAgICAgICAgICBjb25zdCBuZXh0Q29tcGxldGlvbiA9IEV0ZXJuaXR5Q2hhbGxlbmdlKGN1cnJFQykuY29tcGxldGlvbnMgKyAxOw0KICAgICAgICAgIGxldCBjb21wbGV0aW9uVGV4dCA9ICIiOw0KICAgICAgICAgIGlmIChFbnNsYXZlZC5pc1J1bm5pbmcgJiYgY3VyckVDID09PSAxKSB7DQogICAgICAgICAgICBjb21wbGV0aW9uVGV4dCA9IGAoJHtmb3JtYXRJbnQobmV4dENvbXBsZXRpb24pfS8/Pz8pYDsNCiAgICAgICAgICB9IGVsc2UgaWYgKG5leHRDb21wbGV0aW9uID09PSA2KSB7DQogICAgICAgICAgICBjb21wbGV0aW9uVGV4dCA9IGAoYWxyZWFkeSBjb21wbGV0ZWQpYDsNCiAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgY29tcGxldGlvblRleHQgPSBgKCR7Zm9ybWF0SW50KG5leHRDb21wbGV0aW9uKX0vJHtmb3JtYXRJbnQoNSl9KWA7DQogICAgICAgICAgfQ0KICAgICAgICAgIG5hbWVzLnB1c2goYCR7cGFydC5uYW1lKHRva2VuKX0gJHtjb21wbGV0aW9uVGV4dH1gKTsNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICBuYW1lcy5wdXNoKHBhcnQubmFtZSh0b2tlbikpOw0KICAgICAgICB9DQogICAgICB9DQogICAgICByZXR1cm4gbmFtZXM7DQogICAgfSwNCiAgICBpc1Zpc2libGUoKSB7DQogICAgICByZXR1cm4gdGhpcy5pbmZpbml0eVVubG9ja2VkIHx8IHRoaXMuYWN0aXZlQ2hhbGxlbmdlTmFtZXMubGVuZ3RoID4gMDsNCiAgICB9LA0KICAgIGlzSW5GYWlsYWJsZUVDKCkgew0KICAgICAgcmV0dXJuIHRoaXMuYWN0aXZlQ2hhbGxlbmdlTmFtZXMuc29tZShzdHIgPT4gc3RyLm1hdGNoKC9FdGVybml0eSBDaGFsbGVuZ2UgKDR8MTIpL2d1KSk7DQogICAgfSwNCiAgICBjaGFsbGVuZ2VEaXNwbGF5KCkgew0KICAgICAgaWYgKHRoaXMuaW5QZWxsZSAmJiB0aGlzLmFjdGl2ZUNoYWxsZW5nZU5hbWVzLmxlbmd0aCA+IDApIHsNCiAgICAgICAgcmV0dXJuIGAke3RoaXMuYWN0aXZlQ2hhbGxlbmdlTmFtZXMuam9pbigiICsgIil9IGluIGEgRG9vbWVkIFJlYWxpdHkuIEdvb2QgbHVjay5gOw0KICAgICAgfQ0KICAgICAgaWYgKHRoaXMuaW5QZWxsZSkgcmV0dXJuICJhIERvb21lZCBSZWFsaXR5LiBHb29kIGx1Y2suIjsNCiAgICAgIGlmICh0aGlzLmFjdGl2ZUNoYWxsZW5nZU5hbWVzLmxlbmd0aCA9PT0gMCkgew0KICAgICAgICByZXR1cm4gInRoZSBBbnRpbWF0dGVyIFVuaXZlcnNlIChubyBhY3RpdmUgY2hhbGxlbmdlcykiOw0KICAgICAgfQ0KICAgICAgcmV0dXJuIHRoaXMuYWN0aXZlQ2hhbGxlbmdlTmFtZXMuam9pbigiICsgIik7DQogICAgfSwNCiAgfSwNCiAgbWV0aG9kczogew0KICAgIHVwZGF0ZSgpIHsNCiAgICAgIHRoaXMuaW5maW5pdHlVbmxvY2tlZCA9IFBsYXllclByb2dyZXNzLmluZmluaXR5VW5sb2NrZWQoKTsNCiAgICAgIHRoaXMuYWN0aXZpdHlUb2tlbnMgPSB0aGlzLnBhcnRzLm1hcChwYXJ0ID0+IHBhcnQuYWN0aXZpdHlUb2tlbigpKTsNCiAgICAgIC8vIERpbGF0aW9uIGluIFBlbGxlIGNhbid0IGJlIGxlZnQgb25jZSBlbnRlcmVkLCBidXQgd2Ugc3RpbGwgd2FudCB0byBhbGxvdyBsZWF2aW5nIG1vcmUgbmVzdGVkIGNoYWxsZW5nZXMNCiAgICAgIHRoaXMuc2hvd0V4aXQgPSB0aGlzLmluUGVsbGUgJiYgcGxheWVyLmRpbGF0aW9uLmFjdGl2ZQ0KICAgICAgICA/IHRoaXMuYWN0aXZlQ2hhbGxlbmdlTmFtZXMubGVuZ3RoID4gMQ0KICAgICAgICA6IHRoaXMuYWN0aXZlQ2hhbGxlbmdlTmFtZXMubGVuZ3RoICE9PSAwOw0KICAgICAgdGhpcy5leGl0VGV4dCA9IHRoaXMuZXhpdERpc3BsYXkoKTsNCiAgICAgIHRoaXMucmVzZXRDZWxlc3RpYWwgPSBwbGF5ZXIub3B0aW9ucy5yZXRyeUNlbGVzdGlhbDsNCiAgICAgIHRoaXMuaW5QZWxsZSA9IFBlbGxlLmlzRG9vbWVkOw0KICAgIH0sDQogICAgLy8gUHJvY2VzcyBleGl0IHJlcXVlc3RzIGZyb20gdGhlIGluc2lkZSBvdXQ7IENoYWxsZW5nZXMgZmlyc3QsIHRoZW4gZGlsYXRpb24sIHRoZW4gQ2VsZXN0aWFsIFJlYWxpdHkuIElmIHRoZQ0KICAgIC8vIHJlbGV2YW50IG9wdGlvbiBpcyB0b2dnbGVkLCB3ZSBwYXNzIGEgYnVuY2ggb2YgaW5mb3JtYXRpb24gb3ZlciB0byBhIG1vZGFsIC0gb3RoZXJ3aXNlIHdlIGltbWVkaWF0ZWx5IGV4aXQNCiAgICBleGl0QnV0dG9uQ2xpY2tlZCgpIHsNCiAgICAgIGxldCBuYW1lcywgY2xpY2tGbjsNCiAgICAgIGNvbnN0IGlzRUMgPSBQbGF5ZXIuYW55Q2hhbGxlbmdlIGluc3RhbmNlb2YgRXRlcm5pdHlDaGFsbGVuZ2VTdGF0ZTsNCg0KICAgICAgLy8gRGlsYXRpb24gYW5kIEVDcyBjYW4ndCBiZSBleGl0ZWQgaW5kZXBlbmRlbnRseSBhbmQgd2UgaGF2ZSBhIHNwZWNpYWwgZGlsYXRpb24tZXhpdCBtb2RhbCwgc28gd2UgaGF2ZQ0KICAgICAgLy8gdG8gdHJlYXQgdGhhdCBwYXJ0aWN1bGFyIGNhc2UgZGlmZmVyZW50bHkuIFRoZSBkaWxhdGlvbiBtb2RhbCBpdHNlbGYgd2lsbCBhY2NvdW50IGZvciBFQyBzdGF0ZQ0KICAgICAgaWYgKHBsYXllci5kaWxhdGlvbi5hY3RpdmUgJiYgKCFQbGF5ZXIuaXNJbkFueUNoYWxsZW5nZSB8fCBpc0VDKSkgew0KICAgICAgICBpZiAocGxheWVyLm9wdGlvbnMuY29uZmlybWF0aW9ucy5kaWxhdGlvbikgTW9kYWwuZXhpdERpbGF0aW9uLnNob3coKTsNCiAgICAgICAgZWxzZSBzdGFydERpbGF0ZWRFdGVybml0eVJlcXVlc3QoKTsNCiAgICAgICAgcmV0dXJuOw0KICAgICAgfQ0KDQogICAgICBpZiAoUGxheWVyLmlzSW5BbnlDaGFsbGVuZ2UpIHsNCiAgICAgICAgLy8gUmVnZXggcmVwbGFjZW1lbnQgaXMgdXNlZCB0byByZW1vdmUgdGhlICIoWC9ZKSIgd2hpY2ggYXBwZWFycyBhZnRlciBFQ3MuIFRoZSB0ZXJuYXJ5IHN0YXRlbWVudCBpcyB0aGVyZQ0KICAgICAgICAvLyBiZWNhdXNlIHRoaXMgcGF0aCBnZXRzIGNhbGxlZCBmb3IgTkNzLCBJQ3MsIGFuZCBFQ3MNCiAgICAgICAgY29uc3QgdG9FeGl0ID0gdGhpcy5hY3RpdmVDaGFsbGVuZ2VOYW1lc1t0aGlzLmFjdGl2ZUNoYWxsZW5nZU5hbWVzLmxlbmd0aCAtIDFdLnJlcGxhY2UoL1xXK1woLipcKS91LCAiIik7DQogICAgICAgIG5hbWVzID0geyBjaGFsbDogdG9FeGl0LCBub3JtYWw6IGlzRUMgPyAiRXRlcm5pdHkiIDogIkluZmluaXR5IiB9Ow0KICAgICAgICBjbGlja0ZuID0gKCkgPT4gew0KICAgICAgICAgIGNvbnN0IG9sZENoYWxsID0gUGxheWVyLmFueUNoYWxsZW5nZTsNCiAgICAgICAgICBQbGF5ZXIuYW55Q2hhbGxlbmdlLmV4aXQoZmFsc2UpOw0KICAgICAgICAgIGlmIChwbGF5ZXIub3B0aW9ucy5yZXRyeUNoYWxsZW5nZSkgb2xkQ2hhbGwucmVxdWVzdFN0YXJ0KCk7DQogICAgICAgIH07DQogICAgICB9IGVsc2Ugew0KICAgICAgICBuYW1lcyA9IHsgY2hhbGw6IHRoaXMuYWN0aXZlQ2hhbGxlbmdlTmFtZXNbMF0sIG5vcm1hbDogIlJlYWxpdHkiIH07DQogICAgICAgIGNsaWNrRm4gPSAoKSA9PiBiZWdpblByb2Nlc3NSZWFsaXR5KGdldFJlYWxpdHlQcm9wcyh0cnVlKSk7DQogICAgICB9DQoNCiAgICAgIGlmIChwbGF5ZXIub3B0aW9ucy5jb25maXJtYXRpb25zLmV4aXRDaGFsbGVuZ2UpIHsNCiAgICAgICAgTW9kYWwuZXhpdENoYWxsZW5nZS5zaG93KA0KICAgICAgICAgIHsNCiAgICAgICAgICAgIGNoYWxsZW5nZU5hbWU6IG5hbWVzLmNoYWxsLA0KICAgICAgICAgICAgbm9ybWFsTmFtZTogbmFtZXMubm9ybWFsLA0KICAgICAgICAgICAgaGFzSGlnaGVyTGF5ZXJzOiB0aGlzLmluUGVsbGUgfHwgdGhpcy5hY3RpdmVDaGFsbGVuZ2VOYW1lcy5sZW5ndGggPiAxLA0KICAgICAgICAgICAgZXhpdEZuOiBjbGlja0ZuDQogICAgICAgICAgfQ0KICAgICAgICApOw0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgY2xpY2tGbigpOw0KICAgICAgfQ0KICAgIH0sDQogICAgLy8gQnJpbmcgdGhlIHBsYXllciB0byB0aGUgdGFiIHJlbGF0ZWQgdG8gdGhlIGlubmVybW9zdCBjaGFsbGVuZ2UNCiAgICB0ZXh0Q2xpY2tlZCgpIHsNCiAgICAgIGlmICh0aGlzLmFjdGl2ZUNoYWxsZW5nZU5hbWVzLmxlbmd0aCA9PT0gMCkgcmV0dXJuOw0KDQogICAgICAvLyBJdGVyYXRpbmcgYmFjay10by1mcm9udCBhbmQgYnJlYWtpbmcgZW5zdXJlcyB3ZSBnZXQgdGhlIGlubmVybW9zdCByZXN0cmljdGlvbg0KICAgICAgbGV0IGZ1bGxOYW1lID0gIiIsIGNlbGVzdGlhbCA9ICIiOw0KICAgICAgZm9yIChsZXQgaSA9IHRoaXMuYWN0aXZpdHlUb2tlbnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHsNCiAgICAgICAgY29uc3QgdG9rZW4gPSB0aGlzLmFjdGl2aXR5VG9rZW5zW2ldOw0KICAgICAgICBjb25zdCBwYXJ0ID0gdGhpcy5wYXJ0c1tpXTsNCiAgICAgICAgaWYgKCFwYXJ0LmlzQWN0aXZlKHRva2VuKSkgY29udGludWU7DQogICAgICAgIGZ1bGxOYW1lID0gcGFydC5uYW1lKHRva2VuKTsNCiAgICAgICAgY2VsZXN0aWFsID0gcGFydC50YWJOYW1lPy4oKTsNCiAgICAgICAgYnJlYWs7DQogICAgICB9DQoNCiAgICAgIC8vIE5vcm1hbCBjaGFsbGVuZ2VzIGFyZSBtYXRjaGVkIHdpdGggYW4gZW5kLW9mLXN0cmluZyBtZXRhY2hhcmFjdGVyDQogICAgICBpZiAoZnVsbE5hbWUubWF0Y2goIiBDaGFsbGVuZ2UkIikpIFRhYi5jaGFsbGVuZ2VzLm5vcm1hbC5zaG93KHRydWUpOw0KICAgICAgZWxzZSBpZiAoZnVsbE5hbWUubWF0Y2goIkluZmluaXR5IENoYWxsZW5nZSIpKSBUYWIuY2hhbGxlbmdlcy5pbmZpbml0eS5zaG93KHRydWUpOw0KICAgICAgZWxzZSBpZiAoZnVsbE5hbWUubWF0Y2goIkV0ZXJuaXR5IENoYWxsZW5nZSIpKSBUYWIuY2hhbGxlbmdlcy5ldGVybml0eS5zaG93KHRydWUpOw0KICAgICAgZWxzZSBpZiAocGxheWVyLmRpbGF0aW9uLmFjdGl2ZSkgVGFiLmV0ZXJuaXR5LmRpbGF0aW9uLnNob3codHJ1ZSk7DQogICAgICBlbHNlIFRhYi5jZWxlc3RpYWxzW2NlbGVzdGlhbF0uc2hvdyh0cnVlKTsNCiAgICB9LA0KICAgIGV4aXREaXNwbGF5KCkgew0KICAgICAgaWYgKFBsYXllci5pc0luQW55Q2hhbGxlbmdlKSByZXR1cm4gcGxheWVyLm9wdGlvbnMucmV0cnlDaGFsbGVuZ2UgPyAiUmV0cnkgQ2hhbGxlbmdlIiA6ICJFeGl0IENoYWxsZW5nZSI7DQogICAgICBpZiAocGxheWVyLmRpbGF0aW9uLmFjdGl2ZSkgcmV0dXJuICJFeGl0IERpbGF0aW9uIjsNCiAgICAgIGlmICh0aGlzLnJlc2V0Q2VsZXN0aWFsKSByZXR1cm4gIlJlc3RhcnQgUmVhbGl0eSI7DQogICAgICByZXR1cm4gIkV4aXQgUmVhbGl0eSI7DQogICAgfSwNCiAgICB0ZXh0Q2xhc3NPYmplY3QoKSB7DQogICAgICByZXR1cm4gew0KICAgICAgICAibC1jaGFsbGVuZ2UtZGlzcGxheSI6IHRydWUsDQogICAgICAgICJsLWNoYWxsZW5nZS1kaXNwbGF5LS1jbGlja2FibGUiOiB0aGlzLmFjdGl2ZUNoYWxsZW5nZU5hbWVzLmxlbmd0aCAhPT0gMCwNCiAgICAgIH07DQogICAgfQ0KICB9LA0KfTsNCg=="},{"version":3,"sources":["HeaderChallengeDisplay.vue"],"names":[],"mappings":";AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"HeaderChallengeDisplay.vue","sourceRoot":"src/components/ui-modes","sourcesContent":["<script>\r\nimport FailableEcText from \"./FailableEcText\";\r\nimport PrimaryButton from \"@/components/PrimaryButton\";\r\n\r\nexport default {\r\n  name: \"HeaderChallengeDisplay\",\r\n  components: {\r\n    FailableEcText,\r\n    PrimaryButton\r\n  },\r\n  data() {\r\n    return {\r\n      activityTokens: [],\r\n      infinityUnlocked: false,\r\n      showExit: false,\r\n      exitText: \"\",\r\n      resetCelestial: false,\r\n      inPelle: false,\r\n    };\r\n  },\r\n  computed: {\r\n    parts() {\r\n      // We need activityToken for NC/IC/EC because plain check of WhateverChallenge.isRunning\r\n      // won't trigger display update if we, say, switch from one challenge to another\r\n      function celestialReality(celestial, name, tab) {\r\n        return {\r\n          name: () => `${name} Reality`,\r\n          isActive: token => token,\r\n          activityToken: () => celestial.isRunning,\r\n          tabName: () => tab,\r\n        };\r\n      }\r\n      return [\r\n        celestialReality(Teresa, \"Teresa's\", \"teresa\"),\r\n        celestialReality(Effarig, \"Effarig's\", \"effarig\"),\r\n        celestialReality(Enslaved, \"The Nameless Ones'\", \"enslaved\"),\r\n        celestialReality(V, \"V's\", \"v\"),\r\n        celestialReality(Ra, \"Ra's\", \"ra\"),\r\n        celestialReality(Laitela, \"Lai'tela's\", \"laitela\"),\r\n        {\r\n          name: () => \"Time Dilation\",\r\n          isActive: token => token,\r\n          activityToken: () => player.dilation.active\r\n        },\r\n        {\r\n          name: token => `Eternity Challenge ${token}`,\r\n          isActive: token => token > 0,\r\n          activityToken: () => player.challenge.eternity.current\r\n        },\r\n        {\r\n          name: token => `Infinity Challenge ${token}`,\r\n          isActive: token => token > 0,\r\n          activityToken: () => player.challenge.infinity.current\r\n        },\r\n        {\r\n          name: token => `${NormalChallenge(token).config.name} Challenge`,\r\n          isActive: token => token > 0,\r\n          activityToken: () => player.challenge.normal.current\r\n        },\r\n      ];\r\n    },\r\n    activeChallengeNames() {\r\n      const names = [];\r\n      for (let i = 0; i < this.activityTokens.length; i++) {\r\n        const token = this.activityTokens[i];\r\n        const part = this.parts[i];\r\n        if (!part.isActive(token)) continue;\r\n        if (part.name(token).includes(\"Eternity Challenge\")) {\r\n          const currEC = player.challenge.eternity.current;\r\n          const nextCompletion = EternityChallenge(currEC).completions + 1;\r\n          let completionText = \"\";\r\n          if (Enslaved.isRunning && currEC === 1) {\r\n            completionText = `(${formatInt(nextCompletion)}/???)`;\r\n          } else if (nextCompletion === 6) {\r\n            completionText = `(already completed)`;\r\n          } else {\r\n            completionText = `(${formatInt(nextCompletion)}/${formatInt(5)})`;\r\n          }\r\n          names.push(`${part.name(token)} ${completionText}`);\r\n        } else {\r\n          names.push(part.name(token));\r\n        }\r\n      }\r\n      return names;\r\n    },\r\n    isVisible() {\r\n      return this.infinityUnlocked || this.activeChallengeNames.length > 0;\r\n    },\r\n    isInFailableEC() {\r\n      return this.activeChallengeNames.some(str => str.match(/Eternity Challenge (4|12)/gu));\r\n    },\r\n    challengeDisplay() {\r\n      if (this.inPelle && this.activeChallengeNames.length > 0) {\r\n        return `${this.activeChallengeNames.join(\" + \")} in a Doomed Reality. Good luck.`;\r\n      }\r\n      if (this.inPelle) return \"a Doomed Reality. Good luck.\";\r\n      if (this.activeChallengeNames.length === 0) {\r\n        return \"the Antimatter Universe (no active challenges)\";\r\n      }\r\n      return this.activeChallengeNames.join(\" + \");\r\n    },\r\n  },\r\n  methods: {\r\n    update() {\r\n      this.infinityUnlocked = PlayerProgress.infinityUnlocked();\r\n      this.activityTokens = this.parts.map(part => part.activityToken());\r\n      // Dilation in Pelle can't be left once entered, but we still want to allow leaving more nested challenges\r\n      this.showExit = this.inPelle && player.dilation.active\r\n        ? this.activeChallengeNames.length > 1\r\n        : this.activeChallengeNames.length !== 0;\r\n      this.exitText = this.exitDisplay();\r\n      this.resetCelestial = player.options.retryCelestial;\r\n      this.inPelle = Pelle.isDoomed;\r\n    },\r\n    // Process exit requests from the inside out; Challenges first, then dilation, then Celestial Reality. If the\r\n    // relevant option is toggled, we pass a bunch of information over to a modal - otherwise we immediately exit\r\n    exitButtonClicked() {\r\n      let names, clickFn;\r\n      const isEC = Player.anyChallenge instanceof EternityChallengeState;\r\n\r\n      // Dilation and ECs can't be exited independently and we have a special dilation-exit modal, so we have\r\n      // to treat that particular case differently. The dilation modal itself will account for EC state\r\n      if (player.dilation.active && (!Player.isInAnyChallenge || isEC)) {\r\n        if (player.options.confirmations.dilation) Modal.exitDilation.show();\r\n        else startDilatedEternityRequest();\r\n        return;\r\n      }\r\n\r\n      if (Player.isInAnyChallenge) {\r\n        // Regex replacement is used to remove the \"(X/Y)\" which appears after ECs. The ternary statement is there\r\n        // because this path gets called for NCs, ICs, and ECs\r\n        const toExit = this.activeChallengeNames[this.activeChallengeNames.length - 1].replace(/\\W+\\(.*\\)/u, \"\");\r\n        names = { chall: toExit, normal: isEC ? \"Eternity\" : \"Infinity\" };\r\n        clickFn = () => {\r\n          const oldChall = Player.anyChallenge;\r\n          Player.anyChallenge.exit(false);\r\n          if (player.options.retryChallenge) oldChall.requestStart();\r\n        };\r\n      } else {\r\n        names = { chall: this.activeChallengeNames[0], normal: \"Reality\" };\r\n        clickFn = () => beginProcessReality(getRealityProps(true));\r\n      }\r\n\r\n      if (player.options.confirmations.exitChallenge) {\r\n        Modal.exitChallenge.show(\r\n          {\r\n            challengeName: names.chall,\r\n            normalName: names.normal,\r\n            hasHigherLayers: this.inPelle || this.activeChallengeNames.length > 1,\r\n            exitFn: clickFn\r\n          }\r\n        );\r\n      } else {\r\n        clickFn();\r\n      }\r\n    },\r\n    // Bring the player to the tab related to the innermost challenge\r\n    textClicked() {\r\n      if (this.activeChallengeNames.length === 0) return;\r\n\r\n      // Iterating back-to-front and breaking ensures we get the innermost restriction\r\n      let fullName = \"\", celestial = \"\";\r\n      for (let i = this.activityTokens.length - 1; i >= 0; i--) {\r\n        const token = this.activityTokens[i];\r\n        const part = this.parts[i];\r\n        if (!part.isActive(token)) continue;\r\n        fullName = part.name(token);\r\n        celestial = part.tabName?.();\r\n        break;\r\n      }\r\n\r\n      // Normal challenges are matched with an end-of-string metacharacter\r\n      if (fullName.match(\" Challenge$\")) Tab.challenges.normal.show(true);\r\n      else if (fullName.match(\"Infinity Challenge\")) Tab.challenges.infinity.show(true);\r\n      else if (fullName.match(\"Eternity Challenge\")) Tab.challenges.eternity.show(true);\r\n      else if (player.dilation.active) Tab.eternity.dilation.show(true);\r\n      else Tab.celestials[celestial].show(true);\r\n    },\r\n    exitDisplay() {\r\n      if (Player.isInAnyChallenge) return player.options.retryChallenge ? \"Retry Challenge\" : \"Exit Challenge\";\r\n      if (player.dilation.active) return \"Exit Dilation\";\r\n      if (this.resetCelestial) return \"Restart Reality\";\r\n      return \"Exit Reality\";\r\n    },\r\n    textClassObject() {\r\n      return {\r\n        \"l-challenge-display\": true,\r\n        \"l-challenge-display--clickable\": this.activeChallengeNames.length !== 0,\r\n      };\r\n    }\r\n  },\r\n};\r\n</script>\r\n\r\n<template>\r\n  <div\r\n    v-if=\"isVisible\"\r\n    class=\"l-game-header__challenge-text\"\r\n  >\r\n    <span\r\n      :class=\"textClassObject()\"\r\n      @click=\"textClicked\"\r\n    >\r\n      You are currently in {{ challengeDisplay }}\r\n    </span>\r\n    <FailableEcText v-if=\"isInFailableEC\" />\r\n    <span class=\"l-padding-line\" />\r\n    <PrimaryButton\r\n      v-if=\"showExit\"\r\n      @click=\"exitButtonClicked\"\r\n    >\r\n      {{ exitText }}\r\n    </PrimaryButton>\r\n  </div>\r\n</template>\r\n\r\n<style scoped>\r\n.l-game-header__challenge-text {\r\n  display: flex;\r\n  height: 2rem;\r\n  top: 50%;\r\n  justify-content: center;\r\n  align-items: center;\r\n  font-size: 1.2rem;\r\n  font-weight: bold;\r\n  color: var(--color-text);\r\n  margin: 0.5rem;\r\n}\r\n\r\n.l-challenge-display {\r\n  padding: 0.5rem;\r\n  cursor: default;\r\n}\r\n\r\n.l-challenge-display--clickable {\r\n  cursor: pointer;\r\n  user-select: none;\r\n}\r\n\r\n.l-challenge-display--clickable:hover {\r\n  text-decoration: underline;\r\n}\r\n\r\n.l-padding-line {\r\n  padding: 0.3rem;\r\n}\r\n</style>\r\n"]}]}