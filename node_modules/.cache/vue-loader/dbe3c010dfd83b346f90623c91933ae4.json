{"remainingRequest":"C:\\Games\\ADFasterer\\ADfasterer\\node_modules\\@vue\\vue-loader-v15\\lib\\index.js??vue-loader-options!C:\\Games\\ADFasterer\\ADfasterer\\src\\components\\modals\\glyph-management\\RefineGlyphModal.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Games\\ADFasterer\\ADfasterer\\src\\components\\modals\\glyph-management\\RefineGlyphModal.vue","mtime":1745241596912},{"path":"C:\\Games\\ADFasterer\\ADfasterer\\node_modules\\babel-loader\\lib\\index.js","mtime":1745242219290},{"path":"C:\\Games\\ADFasterer\\ADfasterer\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1745242214069},{"path":"C:\\Games\\ADFasterer\\ADfasterer\\node_modules\\@vue\\vue-loader-v15\\lib\\index.js","mtime":1745242220175}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQppbXBvcnQgTW9kYWxXcmFwcGVyQ2hvaWNlIGZyb20gIkAvY29tcG9uZW50cy9tb2RhbHMvTW9kYWxXcmFwcGVyQ2hvaWNlIjsNCg0KZXhwb3J0IGRlZmF1bHQgew0KICBuYW1lOiAiUmVmaW5lR2x5cGhNb2RhbCIsDQogIGNvbXBvbmVudHM6IHsNCiAgICBNb2RhbFdyYXBwZXJDaG9pY2UNCiAgfSwNCiAgcHJvcHM6IHsNCiAgICBpZHg6IHsNCiAgICAgIHR5cGU6IE51bWJlciwNCiAgICAgIHJlcXVpcmVkOiB0cnVlDQogICAgfQ0KICB9LA0KICBkYXRhKCkgew0KICAgIHJldHVybiB7DQogICAgICByZXNvdXJjZUFtb3VudDogMCwNCiAgICAgIHJlc291cmNlVW5sb2NrZWQ6IGZhbHNlLA0KICAgICAgZ2FpbjogMCwNCiAgICAgIGFmdGVyOiAwLA0KICAgICAgY2FwOiAwLA0KICAgICAgY29uZmlybWVkUmVmaW5lOiBmYWxzZQ0KICAgIH07DQogIH0sDQogIGNvbXB1dGVkOiB7DQogICAgZ2x5cGgoKSB7DQogICAgICByZXR1cm4gR2x5cGhzLmZpbmRCeUludmVudG9yeUluZGV4KHRoaXMuaWR4KTsNCiAgICB9LA0KICAgIHJlc291cmNlKCkgew0KICAgICAgcmV0dXJuIEdseXBoU2FjcmlmaWNlSGFuZGxlci5nbHlwaEFsY2hlbXlSZXNvdXJjZSh0aGlzLmdseXBoKTsNCiAgICB9LA0KICAgIHJlc291cmNlTmFtZSgpIHsNCiAgICAgIHJldHVybiB0aGlzLnJlc291cmNlLm5hbWU7DQogICAgfSwNCiAgfSwNCiAgbWV0aG9kczogew0KICAgIHVwZGF0ZSgpIHsNCiAgICAgIGNvbnN0IHJlc291cmNlID0gdGhpcy5yZXNvdXJjZTsNCiAgICAgIHRoaXMucmVzb3VyY2VBbW91bnQgPSByZXNvdXJjZS5hbW91bnQ7DQogICAgICB0aGlzLnJlc291cmNlVW5sb2NrZWQgPSByZXNvdXJjZS5pc1VubG9ja2VkOw0KICAgICAgdGhpcy5nYWluID0gR2x5cGhTYWNyaWZpY2VIYW5kbGVyLmdseXBoUmVmaW5lbWVudEdhaW4odGhpcy5nbHlwaCk7DQogICAgICB0aGlzLmNhcCA9IEdseXBoU2FjcmlmaWNlSGFuZGxlci5nbHlwaEVmZmVjdGl2ZUNhcCh0aGlzLmdseXBoKTsNCg0KICAgICAgdGhpcy5hZnRlciA9IHRoaXMucmVzb3VyY2VBbW91bnQgKyB0aGlzLmdhaW47DQoNCiAgICAgIGNvbnN0IG5ld0dseXBoID0gR2x5cGhzLmZpbmRCeUludmVudG9yeUluZGV4KHRoaXMuaWR4KTsNCiAgICAgIGlmICh0aGlzLmdseXBoICE9PSBuZXdHbHlwaCAmJiAhdGhpcy5jb25maXJtZWRSZWZpbmUpIHsNCg0KICAgICAgICAvLyBXaHkgaXMgY29uZmlybWVkUmVmaW5lIGhlcmU6IHJlZmVyIHRvIFNhY3JpZmljZUdseXBoTW9kYWwudnVlDQoNCiAgICAgICAgdGhpcy5lbWl0Q2xvc2UoKTsNCiAgICAgICAgTW9kYWwubWVzc2FnZS5zaG93KCJUaGUgc2VsZWN0ZWQgR2x5cGggY2hhbmdlZCBwb3NpdGlvbiBvciB3YXMgb3RoZXJ3aXNlIGNoYW5nZWQhIik7DQogICAgICB9DQogICAgfSwNCiAgICBoYW5kbGVZZXNDbGljaygpIHsNCiAgICAgIHRoaXMuY29uZmlybWVkUmVmaW5lID0gdHJ1ZTsNCiAgICAgIEdseXBoU2FjcmlmaWNlSGFuZGxlci5yZWZpbmVHbHlwaCh0aGlzLmdseXBoKTsNCiAgICB9LA0KICB9LA0KfTsNCg=="},{"version":3,"sources":["RefineGlyphModal.vue"],"names":[],"mappings":";AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"RefineGlyphModal.vue","sourceRoot":"src/components/modals/glyph-management","sourcesContent":["<script>\r\nimport ModalWrapperChoice from \"@/components/modals/ModalWrapperChoice\";\r\n\r\nexport default {\r\n  name: \"RefineGlyphModal\",\r\n  components: {\r\n    ModalWrapperChoice\r\n  },\r\n  props: {\r\n    idx: {\r\n      type: Number,\r\n      required: true\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      resourceAmount: 0,\r\n      resourceUnlocked: false,\r\n      gain: 0,\r\n      after: 0,\r\n      cap: 0,\r\n      confirmedRefine: false\r\n    };\r\n  },\r\n  computed: {\r\n    glyph() {\r\n      return Glyphs.findByInventoryIndex(this.idx);\r\n    },\r\n    resource() {\r\n      return GlyphSacrificeHandler.glyphAlchemyResource(this.glyph);\r\n    },\r\n    resourceName() {\r\n      return this.resource.name;\r\n    },\r\n  },\r\n  methods: {\r\n    update() {\r\n      const resource = this.resource;\r\n      this.resourceAmount = resource.amount;\r\n      this.resourceUnlocked = resource.isUnlocked;\r\n      this.gain = GlyphSacrificeHandler.glyphRefinementGain(this.glyph);\r\n      this.cap = GlyphSacrificeHandler.glyphEffectiveCap(this.glyph);\r\n\r\n      this.after = this.resourceAmount + this.gain;\r\n\r\n      const newGlyph = Glyphs.findByInventoryIndex(this.idx);\r\n      if (this.glyph !== newGlyph && !this.confirmedRefine) {\r\n\r\n        // Why is confirmedRefine here: refer to SacrificeGlyphModal.vue\r\n\r\n        this.emitClose();\r\n        Modal.message.show(\"The selected Glyph changed position or was otherwise changed!\");\r\n      }\r\n    },\r\n    handleYesClick() {\r\n      this.confirmedRefine = true;\r\n      GlyphSacrificeHandler.refineGlyph(this.glyph);\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<template>\r\n  <ModalWrapperChoice\r\n    option=\"glyphRefine\"\r\n    @confirm=\"handleYesClick\"\r\n  >\r\n    <template #header>\r\n      You are about to refine a Glyph\r\n    </template>\r\n    <div\r\n      v-if=\"resourceUnlocked\"\r\n      class=\"c-modal-message__text\"\r\n    >\r\n      Refining a Glyph will remove the Glyph from your inventory, and in return,\r\n      you will increase your {{ resourceName }} Alchemy resource from\r\n      {{ format(resourceAmount, 2, 2) }} to {{ format(after, 2, 2) }}.\r\n      This Glyph can raise your {{ resourceName }} resource to at most {{ format(cap, 2, 2) }}.\r\n    </div>\r\n    <div\r\n      v-else\r\n      class=\"c-modal-message__text\"\r\n    >\r\n      You cannot gain any {{ resourceName }} alchemy resource because you have not\r\n      unlocked this Glyph's resource yet. You can still refine it anyway, but nothing\r\n      will happen. Consider sacrificing the Glyph instead.\r\n    </div>\r\n  </ModalWrapperChoice>\r\n</template>\r\n"]}]}